/* jQuery v1.11.0 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(c,d){"object"==typeof module&&"object"==typeof module.exports?module.exports=c.document?d(c,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return d(b)}:d(c)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m="1.11.0",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(e=arguments[h])){for(d in e){a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c))}}}return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a)){return !1}try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}if(l.ownLast){for(b in a){return j.call(a,b)}}for(b in a){}return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:k&&!k.call("\ufeff\xa0")?function(a){return null==a?"":k.call(a)}:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g){return g.call(b,a,c)}for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d){a[e++]=b[d++]}if(c!==c){while(void 0!==b[d]){a[e++]=b[d++]}}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||n.guid++,e):void 0},now:function(){return +new Date},support:l}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A="undefined",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++){if(this[b]===a){return b}}return -1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||"string"!=typeof a){return d}if(1!==(i=b.nodeType)&&9!==i){return[]}if(n&&!e){if(f=Z.exec(a)){if(h=f[1]){if(9===i){if(g=b.getElementById(h),!g||!g.parentNode){return d}if(g.id===h){return d.push(g),d}}else{if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h){return d.push(g),d}}}else{if(f[2]){return G.apply(d,b.getElementsByTagName(a)),d}if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName){return G.apply(d,b.getElementsByClassName(h)),d}}}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;while(j--){m[j]=q+pb(m[j])}u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v){try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function jb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},z=b?function(a,b){if(a===b){return j=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b){return j=!0,0}var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g){return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0}if(f===g){return ib(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){k.unshift(c)}while(h[d]===k[d]){d++}return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b))){try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&t){k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}}else{if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(t&&((l[s]||(l[s]={}))[a]=[u,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do{if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=jb(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=kb(b)}function nb(){}nb.prototype=d.filters=d.pseudos,d.setFilters=new nb;function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter){!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[u,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function rb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=sb(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)}})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return !g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++){if(c=d.relative[a[j].type]){m=[qb(rb(m),c)]}else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[s]){for(e=++j;f>e;e++){if(d.relative[a[e].type]){break}}return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||0.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){n=0;while(o=a[n++]){if(o(m,g,i)){j.push(m);break}}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){n=0;while(o=b[n++]){o(r,s,g,i)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=E.call(j))}}s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){b||(b=ob(a)),c=b.length;while(c--){f=ub(b[c]),f[s]?d.push(f):e.push(f)}f=y(a,vb(e,d))}return f};function wb(a,b,c){for(var d=0,e=b.length;e>d;d++){db(a,b[d],c)}return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(i=m[0]=m[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0],!b){return e}a=a.slice(i.shift().value.length)}h=V.needsContext.test(a)?0:i.length;while(h--){if(j=i[h],d.relative[k=j.type]){break}if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),a=f.length&&pb(i),!a){return G.apply(e,f),e}break}}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}return c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b)){return n.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return n.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(w.test(b)){return n.filter(b,a,c)}b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a){return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++){if(n.contains(d[b],this)){return !0}}}))}for(b=0;e>b;b++){n.find(a,d[b],c)}return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return !!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=a.document,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,B=n.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:A.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||y).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:z,!0)),v.test(c[1])&&n.isPlainObject(b)){for(c in b){n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}if(d=z.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2]){return y.find(a)}this.length=1,this[0]=d}return this.context=z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};B.prototype=n.fn,y=n(z);var C=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!n(e).is(c))){1===e.nodeType&&d.push(e),e=e[b]}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++){if(n.contains(this,c[b])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function E(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return E(a,"nextSibling")},prev:function(a){return E(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(D[a]||(e=n.unique(e)),C.test(a)&&(e=e.reverse())),this.pushStack(e)}});var F=/\S+/g,G={};function H(a){var b=G[a]={};return n.each(a.match(F)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?G[a]||H(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++){if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&n.each(arguments,function(a,c){var d;while((d=n.inArray(c,h,d))>-1){h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return !i},fireWith:function(a,c){return !h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!d}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){if(a===!0?!--n.readyWait:!n.isReady){if(!z.body){return setTimeout(n.ready)}n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(z,[n]),n.fn.trigger&&n(z).trigger("ready").off("ready"))}}});function J(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",K,!1),a.removeEventListener("load",K,!1)):(z.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){(z.addEventListener||"load"===event.type||"complete"===z.readyState)&&(J(),n.ready())}n.ready.promise=function(b){if(!I){if(I=n.Deferred(),"complete"===z.readyState){setTimeout(n.ready)}else{if(z.addEventListener){z.addEventListener("DOMContentLoaded",K,!1),a.addEventListener("load",K,!1)}else{z.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!n.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}J(),n.ready()}}()}}}return I.promise(b)};var L="undefined",M;for(M in n(l)){break}l.ownLast="0"!==M,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c=z.getElementsByTagName("body")[0];c&&(a=z.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=z.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==L&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(l.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=z.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}}a=null}(),n.acceptData=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else{c=void 0}}return c}function Q(a){var b;for(b in a){if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b){return !1}}return !0}function R(a,b,d,e){if(n.acceptData(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b){return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f}}}function S(a,b,c){if(n.acceptData(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--){delete d[b[e]]}if(c?!Q(d):!n.isEmptyObject(d)){return}}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){c=g.length;while(c--){d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d]))}n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},W=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c){n.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},X=/^(?:checkbox|radio)$/i;!function(){var a=z.createDocumentFragment(),b=z.createElement("div"),c=z.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",l.leadingWhitespace=3===b.firstChild.nodeType,l.tbody=!b.getElementsByTagName("tbody").length,l.htmlSerialize=!!b.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),l.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){l.noCloneEvent=!1}),b.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete b.test}catch(d){l.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=z.createElement("div");for(b in {submit:!0,change:!0,focusin:!0}){c="on"+b,(l[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),l[b+"Bubbles"]=d.attributes[c].expando===!1)}d=null}();var Y=/^(?:input|select|textarea)$/i,Z=/^key/,$=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,ab=/^([^.]*)(?:\.(.+)|)$/;function bb(){return !0}function cb(){return !1}function db(){try{return z.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof n===L||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(F)||[""],h=b.length;while(h--){f=ab.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0)}a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||"").match(F)||[""],j=b.length;while(j--){if(h=ab.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;while(f--){g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g))}i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else{for(o in k){n.event.remove(a,o+b[j],c,d,!0)}}}n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,m,o=[d||z],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||z,3!==d.nodeType&&8!==d.nodeType&&!_.test(p+n.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[n.expando]?b:new n.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),k=n.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!n.isWindow(d)){for(i=k.delegateType||p,_.test(i+p)||(h=h.parentNode);h;h=h.parentNode){o.push(h),l=h}l===(d.ownerDocument||z)&&o.push(l.defaultView||l.parentWindow||a)}m=0;while((h=o[m++])&&!b.isPropagationStopped()){b.type=m>1?i:k.bindType||p,f=(n._data(h,"events")||{})[b.type]&&n._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&n.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault())}if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&n.acceptData(d)&&g&&d[p]&&!n.isWindow(d)){l=d[g],l&&(d[g]=null),n.event.triggered=p;try{d[p]()}catch(r){}n.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((n.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!=this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++){d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?n(c,this).index(i)>=0:n.find(c,this,null,[i]).length),e[c]&&e.push(d)}e.length&&g.push({elem:i,handlers:e})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=$.test(e)?this.mouseHooks:Z.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=f.srcElement||z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||z,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==db()&&this.focus){try{return this.focus(),!1}catch(a){}}},delegateType:"focusin"},blur:{trigger:function(){return this===db()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===L&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?bb:cb):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:cb,isPropagationStopped:cb,isImmediatePropagationStopped:cb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=bb,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=bb,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submitBubbles||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?b.form:void 0;c&&!n._data(c,"submitBubbles")&&(n.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),n._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return n.nodeName(this,"form")?!1:void n.event.remove(this,"._submit")}}),l.changeBubbles||(n.event.special.change={setup:function(){return Y.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),n.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),n.event.simulate("change",this,a,!0)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;Y.test(b.nodeName)&&!n._data(b,"changeBubbles")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a,!0)}),n._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!Y.test(this.nodeName)}}),l.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a){this.on(f,b,c,a[f],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=cb}else{if(!d){return this}}return 1===e&&(g=d,d=function(a){return n().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=cb),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});function eb(a){var b=fb.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}var fb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gb=/ jQuery\d+="(?:null|\d+)"/g,hb=new RegExp("<(?:"+fb+")[\\s/>]","i"),ib=/^\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kb=/<([\w:]+)/,lb=/<tbody/i,mb=/<|&#?\w+;/,nb=/<(?:script|style|link)/i,ob=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/^$|\/(?:java|ecma)script/i,qb=/^true\/(.*)/,rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},tb=eb(z),ub=tb.appendChild(z.createElement("div"));sb.optgroup=sb.option,sb.tbody=sb.tfoot=sb.colgroup=sb.caption=sb.thead,sb.th=sb.td;function vb(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==L?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==L?a.querySelectorAll(b||"*"):void 0;if(!f){for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++){!b||n.nodeName(d,b)?f.push(d):n.merge(f,vb(d,b))}}return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function wb(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function xb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function yb(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function zb(a){var b=qb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ab(a,b){for(var c,d=0;null!=(c=a[d]);d++){n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}}function Bb(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h){for(d=0,e=h[c].length;e>d;d++){n.event.add(b,c,h[c][d])}}}g.data&&(g.data=n.extend({},g.data))}}function Cb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events){n.removeEvent(b,d,e.handle)}b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(yb(b).text=a.text,zb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&X.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}n.extend({clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!hb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ub.innerHTML=a.outerHTML,ub.removeChild(f=ub.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a))){for(d=vb(f),h=vb(a),g=0;null!=(e=h[g]);++g){d[g]&&Cb(e,d[g])}}if(b){if(c){for(h=h||vb(a),d=d||vb(f),g=0;null!=(e=h[g]);g++){Bb(e,d[g])}}else{Bb(a,f)}}return d=vb(f,"script"),d.length>0&&Ab(d,!i&&vb(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,m=a.length,o=eb(b),p=[],q=0;m>q;q++){if(f=a[q],f||0===f){if("object"===n.type(f)){n.merge(p,f.nodeType?[f]:f)}else{if(mb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(kb.exec(f)||["",""])[1].toLowerCase(),k=sb[i]||sb._default,h.innerHTML=k[1]+f.replace(jb,"<$1></$2>")+k[2],e=k[0];while(e--){h=h.lastChild}if(!l.leadingWhitespace&&ib.test(f)&&p.push(b.createTextNode(ib.exec(f)[0])),!l.tbody){f="table"!==i||lb.test(f)?"<table>"!==k[1]||lb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--){n.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}}n.merge(p,h.childNodes),h.textContent="";while(h.firstChild){h.removeChild(h.firstChild)}h=o.lastChild}else{p.push(b.createTextNode(f))}}}}h&&o.removeChild(h),l.appendChecked||n.grep(vb(p,"input"),wb),q=0;while(f=p[q++]){if((!d||-1===n.inArray(f,d))&&(g=n.contains(f.ownerDocument,f),h=vb(o.appendChild(f),"script"),g&&Ab(h),c)){e=0;while(f=h[e++]){pb.test(f.type||"")&&c.push(f)}}}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.deleteExpando,m=n.event.special;null!=(d=a[h]);h++){if((b||n.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events){for(e in g.events){m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle)}}j[f]&&(delete j[f],k?delete d[i]:typeof d.removeAttribute!==L?d.removeAttribute(i):d[i]=null,c.push(f))}}}}),n.fn.extend({text:function(a){return W(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||n.cleanData(vb(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&Ab(vb(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(vb(a,!1));while(a.firstChild){a.removeChild(a.firstChild)}a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return W(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a){return 1===b.nodeType?b.innerHTML.replace(gb,""):void 0}if(!("string"!=typeof a||nb.test(a)||!l.htmlSerialize&&hb.test(a)||!l.leadingWhitespace&&ib.test(a)||sb[(kb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(jb,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(n.cleanData(vb(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(vb(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,o=k-1,p=a[0],q=n.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&ob.test(p)){return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(k&&(i=n.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=n.map(vb(i,"script"),yb),f=g.length;k>j;j++){d=i,j!==o&&(d=n.clone(d,!0,!0),f&&n.merge(g,vb(d,"script"))),b.call(this[j],d,j)}if(f){for(h=g[g.length-1].ownerDocument,n.map(g,zb),j=0;f>j;j++){d=g[j],pb.test(d.type||"")&&!n._data(d,"globalEval")&&n.contains(h,d)&&(d.src?n._evalUrl&&n._evalUrl(d.src):n.globalEval((d.text||d.textContent||d.innerHTML||"").replace(rb,"")))}}i=c=null}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],g=n(a),h=g.length-1;h>=d;d++){c=d===h?this:this.clone(!0),n(g[d])[b](c),f.apply(e,c.get())}return this.pushStack(e)}});var Db,Eb={};function Fb(b,c){var d=n(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:n.css(d[0],"display");return d.detach(),e}function Gb(a){var b=z,c=Eb[a];return c||(c=Fb(a,b),"none"!==c&&c||(Db=(Db||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Db[0].contentWindow||Db[0].contentDocument).document,b.write(),b.close(),c=Fb(a,b),Db.detach()),Eb[a]=c),c}!function(){var a,b,c=z.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(a.style.opacity),l.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,l.shrinkWrapBlocks=function(){var a,c,e,f;if(null==b){if(a=z.getElementsByTagName("body")[0],!a){return}f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=z.createElement("div"),e=z.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==L&&(e.style.cssText=d+";width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var Hb=/^margin/,Ib=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Jb,Kb,Lb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Jb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),Ib.test(g)&&Hb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):z.documentElement.currentStyle&&(Jb=function(a){return a.currentStyle},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ib.test(g)&&!Lb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Mb(a,b){return{get:function(){var c=a();if(null!=c){return c?void delete this.get:(this.get=b).apply(this,arguments)}}}}!function(){var b,c,d,e,f,g,h=z.createElement("div"),i="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",j="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",b=h.getElementsByTagName("a")[0],b.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(b.style.opacity),l.cssFloat=!!b.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,b=h=null,n.extend(l,{reliableHiddenOffsets:function(){if(null!=c){return c}var a,b,d,e=z.createElement("div"),f=z.getElementsByTagName("body")[0];if(f){return e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=z.createElement("div"),a.style.cssText=i,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c=d&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,c}},boxSizing:function(){return null==d&&k(),d},boxSizingReliable:function(){return null==e&&k(),e},pixelPosition:function(){return null==f&&k(),f},reliableMarginRight:function(){var b,c,d,e;if(null==g&&a.getComputedStyle){if(b=z.getElementsByTagName("body")[0],!b){return}c=z.createElement("div"),d=z.createElement("div"),c.style.cssText=i,b.appendChild(c).appendChild(d),e=d.appendChild(z.createElement("div")),e.style.cssText=d.style.cssText=j,e.style.marginRight=e.style.width="0",d.style.width="1px",g=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return g}});function k(){var b,c,h=z.getElementsByTagName("body")[0];h&&(b=z.createElement("div"),c=z.createElement("div"),b.style.cssText=i,h.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",n.swap(h,null!=h.style.zoom?{zoom:1}:{},function(){d=4===c.offsetWidth}),e=!0,f=!1,g=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(c,null)||{}).top,e="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),h.removeChild(b),c=h=null)}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var Nb=/alpha\([^)]*\)/i,Ob=/opacity\s*=\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Qb=new RegExp("^("+T+")(.*)$","i"),Rb=new RegExp("^([+-])=("+T+")","i"),Sb={position:"absolute",visibility:"hidden",display:"block"},Tb={letterSpacing:0,fontWeight:400},Ub=["Webkit","O","Moz","ms"];function Vb(a,b){if(b in a){return b}var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ub.length;while(e--){if(b=Ub[e]+c,b in a){return b}}return d}function Wb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=n._data(d,"olddisplay",Gb(d.nodeName)))):f[g]||(e=V(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}function Xb(a,b,c){var d=Qb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Yb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)))}return g}function Zb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Jb(a),g=l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Kb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ib.test(e)){return e}d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Yb(a,b,c||(g?"border":"content"),d,f)+"px"}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Kb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=Vb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c){return g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]}if(f=typeof c,"string"===f&&(e=Rb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set" in g&&void 0===(c=g.set(a,c,d))))){try{i[b]="",i[b]=c}catch(j){}}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Vb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get" in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Kb(a,b,d)),"normal"===f&&b in Tb&&(f=Tb[b]),""===c||c?(e=parseFloat(f),c===!0||n.isNumeric(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Pb.test(n.css(a,"display"))?n.swap(a,Sb,function(){return Zb(a,b,d)}):Zb(a,b,d):void 0},set:function(a,c,d){var e=d&&Jb(a);return Xb(a,c,d?Yb(a,b,d,l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Nb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Nb.test(f)?f.replace(Nb,e):f+" "+e)}}),n.cssHooks.marginRight=Mb(l.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},Kb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+U[d]+b]=f[d]||f[d-2]||f[0]}return e}},Hb.test(a)||(n.cssHooks[a+b].set=Xb)}),n.fn.extend({css:function(a,b){return W(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Jb(a),e=b.length;e>g;g++){f[b[g]]=n.css(a,b[g],!1,d)}return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Wb(this,!0)},hide:function(){return Wb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function $b(a,b,c,d,e){return new $b.prototype.init(a,b,c,d,e)}n.Tween=$b,$b.prototype={constructor:$b,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=$b.propHooks[this.prop];return a&&a.get?a.get(this):$b.propHooks._default.get(this)},run:function(a){var b,c=$b.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):$b.propHooks._default.set(this),this}},$b.prototype.init.prototype=$b.prototype,$b.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},$b.propHooks.scrollTop=$b.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},n.fx=$b.prototype.init,n.fx.step={};var _b,ac,bc=/^(?:toggle|show|hide)$/,cc=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),dc=/queueHooks$/,ec=[jc],fc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cc.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&cc.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,n.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function gc(){return setTimeout(function(){_b=void 0}),_b=n.now()}function hc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b){c=U[e],d["margin"+c]=d["padding"+c]=a}return b&&(d.opacity=d.width=a),d}function ic(a,b,c){for(var d,e=(fc[b]||[]).concat(fc["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function jc(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&V(a),r=n._data(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k=Gb(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==k?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],bc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d]){continue}q=!0}o[d]=r&&r[d]||n.style(a,d)}}if(!n.isEmptyObject(o)){r?"hidden" in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o){n.style(a,b,o[b])}});for(d in o){g=ic(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function kc(a,b){var c,d,e,f,g;for(c in a){if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function lc(a,b,c){var d,e,f=0,g=ec.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=_b||gc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_b||gc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(kc(k,j.opts.specialEasing);g>f;f++){if(d=ec[f].call(j,a,k,j.opts)){return d}}return n.map(k,ic,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(lc,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],fc[c]=fc[c]||[],fc[c].unshift(b)}},prefilter:function(a,b){b?ec.unshift(a):ec.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=lc(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&dc.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(hc(b,!0),a,d,e)}}),n.each({slideDown:hc("show"),slideUp:hc("hide"),slideToggle:hc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(_b=n.now();c<b.length;c++){a=b[c],a()||b[c]!==a||b.splice(c--,1)}b.length||n.fx.stop(),_b=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ac||(ac=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(ac),ac=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=z.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=z.createElement("select"),d=c.appendChild(z.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==e.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=d.selected,l.enctype=!!z.createElement("form").enctype,c.disabled=!0,l.optDisabled=!d.disabled,b=z.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value,a=b=c=d=e=null}();var mc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(mc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--){if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>=0){try{d.selected=c=!0}catch(h){d.scrollHeight}}else{d.selected=!1}}return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var nc,oc,pc=n.expr.attrHandle,qc=/^(?:checked|selected)$/i,rc=l.getSetAttribute,sc=l.input;n.fn.extend({attr:function(a,b){return W(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===L?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?oc:nc)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(F);if(f&&1===a.nodeType){while(c=f[e++]){d=n.propFix[c]||c,n.expr.match.bool.test(c)?sc&&rc||!qc.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(rc?c:d)}}},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),oc={set:function(a,b,c){return b===!1?n.removeAttr(a,c):sc&&rc||!qc.test(c)?a.setAttribute(!rc&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=pc[b]||n.find.attr;pc[b]=sc&&rc||!qc.test(b)?function(a,b,d){var e,f;return d||(f=pc[b],pc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,pc[b]=f),e}:function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),sc&&rc||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void (a.defaultValue=b):nc&&nc.set(a,b,c)}}),rc||(nc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},pc.id=pc.name=pc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:nc.set},n.attrHooks.contenteditable={set:function(a,b,c){nc.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var tc=/^(?:input|select|textarea|button|object)$/i,uc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return W(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):tc.test(a.nodeName)||uc.test(a.nodeName)&&a.href?0:-1}}}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var vc=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(n.isFunction(a)){return this.each(function(b){n(this).addClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(F)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=n.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(n.isFunction(a)){return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(F)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?n.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(F)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===L||"boolean"===c)&&(this.className&&n._data(this,"__className__",this.className),this.className=this.className||a===!1?"":n._data(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(vc," ").indexOf(b)>=0){return !0}}return !1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var wc=n.now(),xc=/\?/,yc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse){return a.JSON.parse(b+"")}var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(yc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b){return null}try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var zc,Ac,Bc=/#.*$/,Cc=/([?&])_=[^&]*/,Dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ec=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fc=/^(?:GET|HEAD)$/,Gc=/^\/\//,Hc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ic={},Jc={},Kc="*/".concat("*");try{Ac=location.href}catch(Lc){Ac=z.createElement("a"),Ac.href="",Ac=Ac.href}zc=Hc.exec(Ac.toLowerCase())||[];function Mc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(F)||[];if(n.isFunction(c)){while(d=f[e++]){"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function Nc(a,b,c,d){var e={},f=a===Jc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Oc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b){void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d])}return c&&n.extend(!0,a,c),a}function Pc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"))}if(e){for(g in h){if(h[g]&&h[g].test(e)){i.unshift(g);break}}}if(i[0] in c){f=i[0]}else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Qc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ac,type:"GET",isLocal:Ec.test(zc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Oc(Oc(a,n.ajaxSettings),b):Oc(n.ajaxSettings,a)},ajaxPrefilter:Mc(Ic),ajaxTransport:Mc(Jc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Dc.exec(f)){j[b[1].toLowerCase()]=b[2]}}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||Ac)+"").replace(Bc,"").replace(Gc,zc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(F)||[""],null==k.crossDomain&&(c=Hc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===zc[1]&&c[2]===zc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(zc[3]||("http:"===zc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),Nc(Ic,k,b,v),2===t){return v}h=k.global,h&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Fc.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(xc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Cc.test(e)?e.replace(Cc,"$1_="+wc++):e+(xc.test(e)?"&":"?")+"_="+wc++)),k.ifModified&&(n.lastModified[e]&&v.setRequestHeader("If-Modified-Since",n.lastModified[e]),n.etag[e]&&v.setRequestHeader("If-None-Match",n.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Kc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers){v.setRequestHeader(d,k.headers[d])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(d in {success:1,error:1,complete:1}){v[d](k[d])}if(i=Nc(Jc,k,b,v)){v.readyState=1,h&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Pc(k,v,c)),u=Qc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(n.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a)){return this.each(function(b){n(this).wrapAll(a.call(this,b))})}if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||n.css(a,"display"))},n.expr.filters.visible=function(a){return !n.expr.filters.hidden(a)};var Rc=/%20/g,Sc=/\[\]$/,Tc=/\r?\n/g,Uc=/^(?:submit|button|image|reset|file)$/i,Vc=/^(?:input|select|textarea|keygen)/i;function Wc(a,b,c,d){var e;if(n.isArray(b)){n.each(b,function(b,e){c||Sc.test(a)?d(a,e):Wc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==n.type(b)){d(a,b)}else{for(e in b){Wc(a+"["+e+"]",b[e],c,d)}}}}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a)){n.each(a,function(){e(this.name,this.value)})}else{for(c in a){Wc(c,a[c],b,e)}}return d.join("&").replace(Rc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Vc.test(this.nodeName)&&!Uc.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Tc,"\r\n")}}):{name:b.name,value:c.replace(Tc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$c()||_c()}:$c;var Xc=0,Yc={},Zc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Yc){Yc[a](void 0,!0)}}),l.cors=!!Zc&&"withCredentials" in Zc,Zc=l.ajax=!!Zc,Zc&&n.ajaxTransport(function(a){if(!a.crossDomain||l.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Xc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){void 0!==c[e]&&f.setRequestHeader(e,c[e]+"")}f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState)){if(delete Yc[g],b=void 0,f.onreadystatechange=n.noop,e){4!==f.readyState&&f.abort()}else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Yc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function $c(){try{return new a.XMLHttpRequest}catch(b){}}function _c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=z.head||n("head")[0]||z.documentElement;return{send:function(d,e){b=z.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ad.pop()||n.expando+"_"+wc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,"$1"+e):b.jsonp!==!1&&(b.url+=(xc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||z;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var cd=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&cd){return cd.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&n.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;function ed(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using" in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)})}var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f){return b=f.documentElement,n.contains(b,e)?(typeof e.getBoundingClientRect!==L&&(d=e.getBoundingClientRect()),c=ed(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d}},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||dd;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position")){a=a.offsetParent}return a||dd})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return W(this,function(a,d,e){var f=ed(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void (f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Mb(l.pixelPosition,function(a,c){return c?(c=Kb(a,b),Ib.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return W(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var fd=a.jQuery,gd=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=gd),b&&a.jQuery===n&&(a.jQuery=fd),n},typeof b===L&&(a.jQuery=a.$=n),n});jQuery&&function(a){function d(h,e){var g=h?a(this):e,f=a(g.attr("data-dropdown")),j=g.hasClass("dropdown-open");if(h){if(a(h.target).hasClass("dropdown-ignore")){return}h.preventDefault();h.stopPropagation()}else{if(g!==e.target&&a(e.target).hasClass("dropdown-ignore")){return}}b();if(j||g.hasClass("dropdown-disabled")){return}g.addClass("dropdown-open");f.data("dropdown-trigger",g).show();c();f.trigger("show",{dropdown:f,trigger:g})}function b(f){var e=f?a(f.target).parents().addBack():null;if(e&&e.is(".dropdown")){if(!e.is(".dropdown-menu")){return}if(!e.is("A")){return}}a(document).find(".dropdown:visible").each(function(){var g=a(this);g.hide().removeData("dropdown-trigger").trigger("hide",{dropdown:g})});a(document).find(".dropdown-open").removeClass("dropdown-open")}function c(){var h=a(".dropdown:visible").eq(0),f=h.data("dropdown-trigger"),g=f?parseInt(f.attr("data-horizontal-offset")||0,10):null,e=f?parseInt(f.attr("data-vertical-offset")||0,10):null;if(h.length===0||!f){return}h.hasClass("dropdown-relative")?h.css({left:h.hasClass("dropdown-anchor-right")?f.position().left-(h.outerWidth(!0)-f.outerWidth(!0))-parseInt(f.css("margin-right"),10)+g:f.position().left+parseInt(f.css("margin-left"),10)+g,top:f.position().top+f.outerHeight(!0)-parseInt(f.css("margin-top"),10)+e}):h.css({left:h.hasClass("dropdown-anchor-right")?f.offset().left-(h.outerWidth()-f.outerWidth())+g:f.offset().left+g,top:f.offset().top+f.outerHeight()+e})}a.extend(a.fn,{dropdown:function(f,e){switch(f){case"show":d(null,a(this));return a(this);case"hide":b();return a(this);case"attach":return a(this).attr("data-dropdown",e);case"detach":b();return a(this).removeAttr("data-dropdown");case"disable":return a(this).addClass("dropdown-disabled");case"enable":b();return a(this).removeClass("dropdown-disabled")}}});a(document).on("click.dropdown","[data-dropdown]",d);a(document).on("click.dropdown",b);a(window).on("resize",c)}(jQuery);(function(j,o,l){var m="hashchange",r=document,p,q=j.event.special,s=r.documentMode,n="on"+m in o&&(s===l||s>7);function k(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}j.fn[m]=function(a){return a?this.bind(m,a):this.trigger(m)};j.fn[m].delay=50;q[m]=j.extend(q[m],{setup:function(){if(n){return false}j(p.start)},teardown:function(){if(n){return false}j(p.stop)}});p=(function(){var a={},g,d=k(),b=function(h){return h},c=b,f=b;a.start=function(){g||e()};a.stop=function(){g&&clearTimeout(g);g=l};function e(){var i=k(),h=f(d);if(i!==d){c(d=i,h);j(o).trigger(m)}else{if(h!==d){location.href=location.href.replace(/#.*/,"")+h}}g=setTimeout(e,j.fn[m].delay)}j.support.msie&&!n&&(function(){var h,i;a.start=function(){if(!h){i=j.fn[m].src;i=i&&i+k();h=j('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){i||c(k());e()}).attr("src",i||"javascript:0").insertAfter("body")[0].contentWindow;r.onpropertychange=function(){try{if(event.propertyName==="title"){h.document.title=r.title}}catch(t){}}}};a.stop=b;f=function(){return k(h.location.href)};c=function(z,w){var y=h.document,x=j.fn[m].domain;if(z!==w){y.title=r.title;y.open();x&&y.write('<script>document.domain="'+x+'"</script>');y.close();h.location.hash=z}}})();return a})()})(jQuery,this);/* Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.11
 *
 * Requires: jQuery 1.2.2+
 */
!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b:b(jQuery)}(function(l){function m(a){var c=a||window.event,d=t.call(arguments,1),e=0,f=0,i=0,k=0,w=0,x=0;if(a=l.event.fix(c),a.type="mousewheel","detail" in c&&(i=-1*c.detail),"wheelDelta" in c&&(i=c.wheelDelta),"wheelDeltaY" in c&&(i=c.wheelDeltaY),"wheelDeltaX" in c&&(f=-1*c.wheelDeltaX),"axis" in c&&c.axis===c.HORIZONTAL_AXIS&&(f=-1*i,i=0),e=0===i?f:i,"deltaY" in c&&(i=-1*c.deltaY,e=i),"deltaX" in c&&(f=c.deltaX,0===i&&(e=-1*f)),0!==i||0!==f){if(1===c.deltaMode){var y=l.data(this,"mousewheel-line-height");e*=y,i*=y,f*=y}else{if(2===c.deltaMode){var z=l.data(this,"mousewheel-page-height");e*=z,i*=z,f*=z}}if(k=Math.max(Math.abs(i),Math.abs(f)),(!q||q>k)&&(q=k,o(c,k)&&(q/=40)),o(c,k)&&(e/=40,f/=40,i/=40),e=Math[e>=1?"floor":"ceil"](e/q),f=Math[f>=1?"floor":"ceil"](f/q),i=Math[i>=1?"floor":"ceil"](i/q),v.settings.normalizeOffset&&this.getBoundingClientRect){var A=this.getBoundingClientRect();w=a.clientX-A.left,x=a.clientY-A.top}return a.deltaX=f,a.deltaY=i,a.deltaFactor=q,a.offsetX=w,a.offsetY=x,a.deltaMode=0,d.unshift(a,e,f,i),p&&clearTimeout(p),p=setTimeout(n,200),(l.event.dispatch||l.event.handle).apply(this,d)}}function n(){q=null}function o(c,d){return v.settings.adjustOldDeltas&&"mousewheel"===c.type&&d%120===0}var p,q,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel" in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],t=Array.prototype.slice;if(l.event.fixHooks){for(var u=r.length;u;){l.event.fixHooks[r[--u]]=l.event.mouseHooks}}var v=l.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener){for(var a=s.length;a;){this.addEventListener(s[--a],m,!1)}}else{this.onmousewheel=m}l.data(this,"mousewheel-line-height",v.getLineHeight(this)),l.data(this,"mousewheel-page-height",v.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var a=s.length;a;){this.removeEventListener(s[--a],m,!1)}}else{this.onmousewheel=null}l.removeData(this,"mousewheel-line-height"),l.removeData(this,"mousewheel-page-height")},getLineHeight:function(a){var d=l(a)["offsetParent" in l.fn?"offsetParent":"parent"]();return d.length||(d=l("body")),parseInt(d.css("fontSize"),10)},getPageHeight:function(a){return l(a).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};l.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})});/* jQuery UI - v1.9.2 - 2014-04-07
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(c,h){function d(m,a){var l,e,k,j=m.nodeName.toLowerCase();return"area"===j?(l=m.parentNode,e=l.name,m.href&&e&&"map"===l.nodeName.toLowerCase()?(k=c("img[usemap=#"+e+"]")[0],!!k&&b(k)):!1):(/input|select|textarea|button|object/.test(j)?!m.disabled:"a"===j?m.href||a:a)&&b(m)}function b(a){return c.expr.filters.visible(a)&&!c(a).parents().andSelf().filter(function(){return"hidden"===c.css(this,"visibility")}).length}var g=0,f=/^ui-id-\d+$/;c.ui=c.ui||{},c.ui.version||(c.extend(c.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),c.fn.extend({_focus:c.fn.focus,focus:function(e,a){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){c(i).focus(),a&&a.call(i)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;return a=c.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.css(this,"position"))&&/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(j){if(j!==h){return this.css("zIndex",j)}if(this.length){for(var e,l,k=c(this[0]);k.length&&k[0]!==document;){if(e=k.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(l=parseInt(k.css("zIndex"),10),!isNaN(l)&&0!==l)){return l}k=k.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++g)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&c(this).removeAttr("id")})}}),c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(a){return function(e){return !!c.data(e,a)}}):function(k,j,e){return !!c.data(k,e[3])},focusable:function(a){return d(a,!isNaN(c.attr(a,"tabindex")))},tabbable:function(j){var e=c.attr(j,"tabindex"),i=isNaN(e);return(i||e>=0)&&d(j,!i)}}),c(function(){var e=document.body,a=e.appendChild(a=document.createElement("div"));a.offsetHeight,c.extend(a.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),c.support.minHeight=100===a.offsetHeight,c.support.selectstart="onselectstart" in a,e.removeChild(a).style.display="none"}),c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(j,e){function p(r,o,n,q){return c.each(k,function(){o-=parseFloat(c.css(r,"padding"+this))||0,n&&(o-=parseFloat(c.css(r,"border"+this+"Width"))||0),q&&(o-=parseFloat(c.css(r,"margin"+this))||0)}),o}var k="Width"===e?["Left","Right"]:["Top","Bottom"],m=e.toLowerCase(),l={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+e]=function(a){return a===h?l["inner"+e].call(this):this.each(function(){c(this).css(m,p(this,a)+"px")})},c.fn["outer"+e]=function(n,a){return"number"!=typeof n?l["outer"+e].call(this,n):this.each(function(){c(this).css(m,p(this,n,!0,a)+"px")})}}),c("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,c.camelCase(e)):a.call(this)}}(c.fn.removeData)),function(){var a=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];c.ui.ie=a.length?!0:!1,c.ui.ie6=6===parseFloat(a[1],10)}(),c.fn.extend({disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),c.extend(c.ui,{plugin:{add:function(m,j,e){var l,k=c.ui[m].prototype;for(l in e){k.plugins[l]=k.plugins[l]||[],k.plugins[l].push([j,e[l]])}},call:function(k,n,l){var j,m=k.plugins[n];if(m&&k.element[0].parentNode&&11!==k.element[0].parentNode.nodeType){for(j=0;m.length>j;j++){k.options[m[j][0]]&&m[j][1].apply(k.element,l)}}}},contains:c.contains,hasScroll:function(l,j){if("hidden"===c(l).css("overflow")){return !1}var e=j&&"left"===j?"scrollLeft":"scrollTop",k=!1;return l[e]>0?!0:(l[e]=1,k=l[e]>0,l[e]=0,k)},isOverAxis:function(a,k,j){return a>k&&k+j>a},isOver:function(o,j,e,m,k,l){return c.ui.isOverAxis(o,e,k)&&c.ui.isOverAxis(j,m,l)}}))})(jQuery);(function(c,g){var d=0,f=Array.prototype.slice,b=c.cleanData;c.cleanData=function(j){for(var a,h=0;null!=(a=j[h]);h++){try{c(a).triggerHandler("remove")}catch(e){}}b(j)},c.widget=function(k,u,e){var p,t,q,j,m=k.split(".")[0];k=k.split(".")[1],p=m+"-"+k,e||(e=u,u=c.Widget),c.expr[":"][p.toLowerCase()]=function(a){return !!c.data(a,p)},c[m]=c[m]||{},t=c[m][k],q=c[m][k]=function(a,h){return this._createWidget?(arguments.length&&this._createWidget(a,h),g):new q(a,h)},c.extend(q,t,{version:e.version,_proto:c.extend({},e),_childConstructors:[]}),j=new u,j.options=c.widget.extend({},j.options),c.each(e,function(h,a){c.isFunction(a)&&(e[h]=function(){var l=function(){return u.prototype[h].apply(this,arguments)},i=function(n){return u.prototype[h].apply(this,n)};return function(){var v,r=this._super,o=this._superApply;return this._super=l,this._superApply=i,v=a.apply(this,arguments),this._super=r,this._superApply=o,v}}())}),q.prototype=c.widget.extend(j,{widgetEventPrefix:t?j.widgetEventPrefix:k},e,{constructor:q,namespace:m,widgetName:k,widgetBaseClass:p,widgetFullName:p}),t?(c.each(t._childConstructors,function(l,a){var h=a.prototype;c.widget(h.namespace+"."+h.widgetName,q,a._proto)}),delete t._childConstructors):u._childConstructors.push(q),c.widget.bridge(k,q)},c.widget.extend=function(k){for(var e,l,p=f.call(arguments,1),m=0,j=p.length;j>m;m++){for(e in p[m]){l=p[m][e],p[m].hasOwnProperty(e)&&l!==g&&(k[e]=c.isPlainObject(l)?c.isPlainObject(k[e])?c.widget.extend({},k[e],l):c.widget.extend({},l):l)}}return k},c.widget.bridge=function(h,e){var j=e.prototype.widgetFullName||h;c.fn[h]=function(m){var k="string"==typeof m,a=f.call(arguments,1),i=this;return m=!k&&a.length?c.widget.extend.apply(null,[m].concat(a)):m,k?this.each(function(){var n,l=c.data(this,j);return l?c.isFunction(l[m])&&"_"!==m.charAt(0)?(n=l[m].apply(l,a),n!==l&&n!==g?(i=n&&n.jquery?i.pushStack(n.get()):n,!1):g):c.error("no such method '"+m+"' for "+h+" widget instance"):c.error("cannot call methods on "+h+" prior to initialization; attempted to call method '"+m+"'")}):this.each(function(){var l=c.data(this,j);l?l.option(m||{})._init():c.data(this,j,new e(m,this))}),i}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,a){a=c(a||this.defaultElement||this)[0],this.element=c(a),this.uuid=d++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=c.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=c(),this.hoverable=c(),this.focusable=c(),a!==this&&(c.data(a,this.widgetName,this),c.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===a&&this.destroy()}}),this.document=c(a.style?a.ownerDocument:a.document||a),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(h,m){var e,j,l,k=h;if(0===arguments.length){return c.widget.extend({},this.options)}if("string"==typeof h){if(k={},e=h.split("."),h=e.shift(),e.length){for(j=k[h]=c.widget.extend({},this.options[h]),l=0;e.length-1>l;l++){j[e[l]]=j[e[l]]||{},j=j[e[l]]}if(h=e.pop(),m===g){return j[h]===g?null:j[h]}j[h]=m}else{if(m===g){return this.options[h]===g?null:this.options[h]}k[h]=m}}return this._setOptions(k),this},_setOptions:function(a){var h;for(h in a){this._setOption(h,a[h])}return this},_setOption:function(a,h){return this.options[a]=h,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!h).attr("aria-disabled",h),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(h,l,e){var j,k=this;"boolean"!=typeof h&&(e=l,l=h,h=!1),e?(l=j=c(l),this.bindings=this.bindings.add(l)):(e=l,l=this.element,j=this.widget()),c.each(e,function(i,q){function n(){return h||k.options.disabled!==!0&&!c(this).hasClass("ui-state-disabled")?("string"==typeof q?k[q]:q).apply(k,arguments):g}"string"!=typeof q&&(n.guid=q.guid=q.guid||n.guid||c.guid++);var p=i.match(/^(\w+)\s*(.*)$/),r=p[1]+k.eventNamespace,m=p[2];m?j.delegate(m,r,n):l.bind(r,n)})},_off:function(a,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(h).undelegate(h)},_delay:function(a,k){function h(){return("string"==typeof a?j[a]:a).apply(j,arguments)}var j=this;return setTimeout(h,k||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(e){c(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){c(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(e){c(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){c(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(m,h,l){var e,j,k=this.options[m];if(l=l||{},h=c.Event(h),h.type=(m===this.widgetEventPrefix?m:this.widgetEventPrefix+m).toLowerCase(),h.target=this.element[0],j=h.originalEvent){for(e in j){e in h||(h[e]=j[e])}}return this.element.trigger(h,l),!(c.isFunction(k)&&k.apply(this.element[0],[h].concat(l))===!1||h.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(e,a){c.Widget.prototype["_"+e]=function(l,h,i){"string"==typeof h&&(h={effect:h});var k,j=h?h===!0||"number"==typeof h?a:h.effect||a:e;h=h||{},"number"==typeof h&&(h={duration:h}),k=!c.isEmptyObject(h),h.complete=i,h.delay&&l.delay(h.delay),k&&c.effects&&(c.effects.effect[j]||c.uiBackCompat!==!1&&c.effects[j])?l[e](h):j!==e&&l[j]?l[j](h.duration,h.easing,i):l.queue(function(m){c(this)[e](),i&&i.call(l[0]),m()})}}),c.uiBackCompat!==!1&&(c.Widget.prototype._getCreateOptions=function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]})})(jQuery);(function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){return !0===a.data(d.target,c.widgetName+".preventClickEvent")?(a.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!b){this._mouseStarted&&this._mouseUp(d),this._mouseDownEvent=d;var f=this,c=1===d.which,e="string"==typeof this.options.cancel&&d.target.nodeName?a(d.target).closest(this.options.cancel).length:!1;return c&&!e&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(d)!==!1,!this._mouseStarted)?(d.preventDefault(),!0):(!0===a.data(d.target,this.widgetName+".preventClickEvent")&&a.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return f._mouseMove(g)},this._mouseUpDelegate=function(g){return f._mouseUp(g)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(c){return !a.ui.ie||document.documentMode>=9||c.button?this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted):this._mouseUp(c)},_mouseUp:function(c){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(j,A){function m(a,d,c){return[parseInt(a[0],10)*(g.test(a[0])?d/100:1),parseInt(a[1],10)*(g.test(a[1])?c/100:1)]}function z(c,a){return parseInt(j.css(c,a),10)||0}j.ui=j.ui||{};var b,v=Math.max,y=Math.abs,w=Math.round,q=/left|center|right/,k=/top|center|bottom/,B=/[\+\-]\d+%?/,f=/^\w+/,g=/%$/,x=j.fn.position;j.position={scrollbarWidth:function(){if(b!==A){return b}var a,e,c=j("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=c.children()[0];return j("body").append(c),a=d.offsetWidth,c.css("overflow","scroll"),e=d.offsetWidth,a===e&&(e=c[0].clientWidth),c.remove(),b=a-e},getScrollInfo:function(l){var d=l.isWindow?"":l.element.css("overflow-x"),h=l.isWindow?"":l.element.css("overflow-y"),c="scroll"===d||"auto"===d&&l.width<l.element[0].scrollWidth,e="scroll"===h||"auto"===h&&l.height<l.element[0].scrollHeight;return{width:c?j.position.scrollbarWidth():0,height:e?j.position.scrollbarWidth():0}},getWithinInfo:function(d){var a=j(d||window),c=j.isWindow(a[0]);return{element:a,isWindow:c,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}},j.fn.position=function(r){if(!r||!r.of){return x.apply(this,arguments)}r=j.extend({},r);var e,i,l,p,n,s=j(r.of),C=j.position.getWithinInfo(r.within),h=j.position.getScrollInfo(C),c=s[0],u=(r.collision||"flip").split(" "),o={};return 9===c.nodeType?(i=s.width(),l=s.height(),p={top:0,left:0}):j.isWindow(c)?(i=s.width(),l=s.height(),p={top:s.scrollTop(),left:s.scrollLeft()}):c.preventDefault?(r.at="left top",i=l=0,p={top:c.pageY,left:c.pageX}):(i=s.outerWidth(),l=s.outerHeight(),p=s.offset()),n=j.extend({},p),j.each(["my","at"],function(){var a,d,t=(r[this]||"").split(" ");1===t.length&&(t=q.test(t[0])?t.concat(["center"]):k.test(t[0])?["center"].concat(t):["center","center"]),t[0]=q.test(t[0])?t[0]:"center",t[1]=k.test(t[1])?t[1]:"center",a=B.exec(t[0]),d=B.exec(t[1]),o[this]=[a?a[0]:0,d?d[0]:0],r[this]=[f.exec(t[0])[0],f.exec(t[1])[0]]}),1===u.length&&(u[1]=u[0]),"right"===r.at[0]?n.left+=i:"center"===r.at[0]&&(n.left+=i/2),"bottom"===r.at[1]?n.top+=l:"center"===r.at[1]&&(n.top+=l/2),e=m(o.at,i,l),n.left+=e[0],n.top+=e[1],this.each(function(){var F,E,K=j(this),d=K.outerWidth(),H=K.outerHeight(),a=z(this,"marginLeft"),L=z(this,"marginTop"),t=d+a+z(this,"marginRight")+h.width,J=H+L+z(this,"marginBottom")+h.height,I=j.extend({},n),G=m(o.my,K.outerWidth(),K.outerHeight());"right"===r.my[0]?I.left-=d:"center"===r.my[0]&&(I.left-=d/2),"bottom"===r.my[1]?I.top-=H:"center"===r.my[1]&&(I.top-=H/2),I.left+=G[0],I.top+=G[1],j.support.offsetFractions||(I.left=w(I.left),I.top=w(I.top)),F={marginLeft:a,marginTop:L},j.each(["left","top"],function(D,M){j.ui.position[u[D]]&&j.ui.position[u[D]][M](I,{targetWidth:i,targetHeight:l,elemWidth:d,elemHeight:H,collisionPosition:F,collisionWidth:t,collisionHeight:J,offset:[e[0]+G[0],e[1]+G[1]],my:r.my,at:r.at,within:C,elem:K})}),j.fn.bgiframe&&K.bgiframe(),r.using&&(E=function(M){var N=p.left-I.left,Q=N+i-d,D=p.top-I.top,P=D+l-H,O={target:{element:s,left:p.left,top:p.top,width:i,height:l},element:{element:K,left:I.left,top:I.top,width:d,height:H},horizontal:0>Q?"left":N>0?"right":"center",vertical:0>P?"top":D>0?"bottom":"middle"};d>i&&i>y(N+Q)&&(O.horizontal="center"),H>l&&l>y(D+P)&&(O.vertical="middle"),O.important=v(y(N),y(Q))>v(y(D),y(P))?"horizontal":"vertical",r.using.call(this,M,O)}),K.offset(j.extend(I,{using:E}))})},j.ui.position={fit:{left:function(d,F){var p,E=F.within,c=E.isWindow?E.scrollLeft:E.offset.left,D=E.width,C=d.left-F.collisionPosition.marginLeft,u=c-C,n=C+F.collisionWidth-D-c;F.collisionWidth>D?u>0&&0>=n?(p=d.left+u+F.collisionWidth-D-c,d.left+=u-p):d.left=n>0&&0>=u?c:u>n?c+D-F.collisionWidth:c:u>0?d.left+=u:n>0?d.left-=n:d.left=v(d.left-C,d.left)},top:function(d,F){var p,E=F.within,c=E.isWindow?E.scrollTop:E.offset.top,D=F.within.height,C=d.top-F.collisionPosition.marginTop,u=c-C,n=C+F.collisionHeight-D-c;F.collisionHeight>D?u>0&&0>=n?(p=d.top+u+F.collisionHeight-D-c,d.top+=u-p):d.top=n>0&&0>=u?c:u>n?c+D-F.collisionHeight:c:u>0?d.top+=u:n>0?d.top-=n:d.top=v(d.top-C,d.top)}},flip:{left:function(E,N){var H,M,r=N.within,J=r.offset.left+r.scrollLeft,K=r.width,I=r.isWindow?r.scrollLeft:r.offset.left,G=E.left-N.collisionPosition.marginLeft,O=G-I,C=G+N.collisionWidth-K-I,D="left"===N.my[0]?-N.elemWidth:"right"===N.my[0]?N.elemWidth:0,L="left"===N.at[0]?N.targetWidth:"right"===N.at[0]?-N.targetWidth:0,F=-2*N.offset[0];0>O?(H=E.left+D+L+F+N.collisionWidth-K-J,(0>H||y(O)>H)&&(E.left+=D+L+F)):C>0&&(M=E.left-N.collisionPosition.marginLeft+D+L+F-I,(M>0||C>y(M))&&(E.left+=D+L+F))},top:function(E,O){var H,N,r=O.within,K=r.offset.top+r.scrollTop,L=r.height,I=r.isWindow?r.scrollTop:r.offset.top,G=E.top-O.collisionPosition.marginTop,P=G-I,C=G+O.collisionHeight-L-I,D="top"===O.my[1],M=D?-O.elemHeight:"bottom"===O.my[1]?O.elemHeight:0,F="top"===O.at[1]?O.targetHeight:"bottom"===O.at[1]?-O.targetHeight:0,J=-2*O.offset[1];0>P?(N=E.top+M+F+J+O.collisionHeight-L-K,E.top+M+F+J>P&&(0>N||y(P)>N)&&(E.top+=M+F+J)):C>0&&(H=E.top-O.collisionPosition.marginTop+M+F+J-I,E.top+M+F+J>C&&(H>0||C>y(H))&&(E.top+=M+F+J))}},flipfit:{left:function(){j.ui.position.flip.left.apply(this,arguments),j.ui.position.fit.left.apply(this,arguments)},top:function(){j.ui.position.flip.top.apply(this,arguments),j.ui.position.fit.top.apply(this,arguments)}}},function(){var u,d,p,c,e,l=document.getElementsByTagName("body")[0],h=document.createElement("div");u=document.createElement(l?"div":"body"),p={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},l&&j.extend(p,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in p){u.style[e]=p[e]}u.appendChild(h),d=l||document.documentElement,d.insertBefore(u,d.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",c=j(h).offset().left,j.support.offsetFractions=c>10&&11>c,u.innerHTML="",d.removeChild(u)}(),j.uiBackCompat!==!1&&function(a){var c=a.fn.position;a.fn.position=function(h){if(!h||!h.offset){return c.call(this,h)}var d=h.offset.split(" "),e=h.at.split(" ");return 1===d.length&&(d[1]=d[0]),/^\d/.test(d[0])&&(d[0]="+"+d[0]),/^\d/.test(d[1])&&(d[1]="+"+d[1]),1===e.length&&(/left|center|right/.test(e[0])?e[1]="center":(e[1]=e[0],e[0]="center")),c.call(this,a.extend(h,{at:e[0]+d[0]+" "+e[1]+d[1],offset:A}))}}(jQuery)})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(c){var b=this.options;return this.helper||b.disabled||a(c.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(c),this.handle?(a(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var b=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),b.containment&&this._setContainment(),this._trigger("start",c)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(d,c){if(this.position=this._generatePosition(d),this.positionAbs=this._convertPositionTo("absolute"),!c){var b=this._uiHash();if(this._trigger("drag",d,b)===!1){return this._mouseUp({}),!1}this.position=b.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,d),!1},_mouseStop:function(f){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,f)),this.dropped&&(c=this.dropped,this.dropped=!1);for(var b=this.element[0],e=!1;b&&(b=b.parentNode);){b==document&&(e=!0)}if(!e&&"original"===this.options.helper){return !1}if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",f)!==!1&&d._clear()})}else{this._trigger("stop",f)!==!1&&this._clear()}return !1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(c){var b=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==c.target&&(b=!0)}),b},_createHelper:function(d){var c=this.options,b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[d])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element;return b.parents("body").length||b.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo),b[0]==this.element[0]||/(fixed|absolute)/.test(b.css("position"))||b.css("position","absolute"),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=["document"==e.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==e.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:a(window).scrollLeft())+a("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:a(window).scrollTop())+(a("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array){e.containment.constructor==Array&&(this.containment=e.containment)}else{var c=a(e.containment),b=c[0];if(!b){return}c.offset();var d="hidden"!=a(b).css("overflow");this.containment=[(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0),(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0),(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(f,c){c||(c=this.position);var b="absolute"==f?1:-1,e=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),d=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():d?0:e.scrollTop())*b,left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():d?0:e.scrollLeft())*b}},_generatePosition:function(m){var d=this.options,b="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(b[0].tagName),f=m.pageX,j=m.pageY;if(this.originalPosition){var g;if(this.containment){if(this.relative_container){var e=this.relative_container.offset();g=[this.containment[0]+e.left,this.containment[1]+e.top,this.containment[2]+e.left,this.containment[3]+e.top]}else{g=this.containment}m.pageX-this.offset.click.left<g[0]&&(f=g[0]+this.offset.click.left),m.pageY-this.offset.click.top<g[1]&&(j=g[1]+this.offset.click.top),m.pageX-this.offset.click.left>g[2]&&(f=g[2]+this.offset.click.left),m.pageY-this.offset.click.top>g[3]&&(j=g[3]+this.offset.click.top)}if(d.grid){var c=d.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/d.grid[1])*d.grid[1]:this.originalPageY;j=g?c-this.offset.click.top<g[1]||c-this.offset.click.top>g[3]?c-this.offset.click.top<g[1]?c+d.grid[1]:c-d.grid[1]:c:c;var p=d.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/d.grid[0])*d.grid[0]:this.originalPageX;f=g?p-this.offset.click.left<g[0]||p-this.offset.click.left>g[2]?p-this.offset.click.left<g[0]?p+d.grid[0]:p-d.grid[0]:p:p}}return{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():k?0:b.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():k?0:b.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(d,c,b){return b=b||this._uiHash(),a.ui.plugin.call(this,d,[c,b]),"drag"==d&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,d,c,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(f,c){var b=a(this).data("draggable"),e=b.options,d=a.extend({},c,{item:b.element});b.sortables=[],a(e.connectToSortable).each(function(){var g=a.data(this,"sortable");g&&!g.options.disabled&&(b.sortables.push({instance:g,shouldRevert:g.options.revert}),g.refreshPositions(),g._trigger("activate",f,d))})},stop:function(e,c){var b=a(this).data("draggable"),d=a.extend({},c,{item:b.element});a.each(b.sortables,function(){this.instance.isOver?(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==b.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,d))})},drag:function(e,c){var b=a(this).data("draggable"),d=this;a.each(b.sortables,function(){var f=!1,g=this;this.instance.positionAbs=b.positionAbs,this.instance.helperProportions=b.helperProportions,this.instance.offset.click=b.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(b.sortables,function(){return this.instance.positionAbs=b.positionAbs,this.instance.helperProportions=b.helperProportions,this.instance.offset.click=b.offset.click,this!=g&&this.instance._intersectsWith(this.instance.containerCache)&&a.ui.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(d).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",e),b.dropped=this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),b._trigger("fromSortable",e),b.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),b=a(this).data("draggable").options;c.css("cursor")&&(b._cursor=c.css("cursor")),c.css("cursor",b.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(e,c){var b=a(c.helper),d=a(this).data("draggable").options;b.css("opacity")&&(d._opacity=b.css("opacity")),b.css("opacity",d.opacity)},stop:function(d,c){var b=a(this).data("draggable").options;b._opacity&&a(c.helper).css("opacity",b._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(e){var c=a(this).data("draggable"),b=c.options,d=!1;c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName?(b.axis&&"x"==b.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-e.pageY<b.scrollSensitivity?c.scrollParent[0].scrollTop=d=c.scrollParent[0].scrollTop+b.scrollSpeed:e.pageY-c.overflowOffset.top<b.scrollSensitivity&&(c.scrollParent[0].scrollTop=d=c.scrollParent[0].scrollTop-b.scrollSpeed)),b.axis&&"y"==b.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-e.pageX<b.scrollSensitivity?c.scrollParent[0].scrollLeft=d=c.scrollParent[0].scrollLeft+b.scrollSpeed:e.pageX-c.overflowOffset.left<b.scrollSensitivity&&(c.scrollParent[0].scrollLeft=d=c.scrollParent[0].scrollLeft-b.scrollSpeed))):(b.axis&&"x"==b.axis||(e.pageY-a(document).scrollTop()<b.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-b.scrollSpeed):a(window).height()-(e.pageY-a(document).scrollTop())<b.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+b.scrollSpeed))),b.axis&&"y"==b.axis||(e.pageX-a(document).scrollLeft()<b.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-b.scrollSpeed):a(window).width()-(e.pageX-a(document).scrollLeft())<b.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+b.scrollSpeed)))),d!==!1&&a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,e)}}),a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("draggable"),b=c.options;c.snapElements=[],a(b.snap.constructor!=String?b.snap.items||":data(draggable)":b.snap).each(function(){var e=a(this),d=e.offset();this!=c.element[0]&&c.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:d.top,left:d.left})})},drag:function(I,A){for(var e=a(this).data("draggable"),H=e.options,D=H.snapTolerance,G=A.offset.left,E=G+e.helperProportions.width,B=A.offset.top,z=B+e.helperProportions.height,J=e.snapElements.length-1;J>=0;J--){var q=e.snapElements[J].left,k=q+e.snapElements[J].width,F=e.snapElements[J].top,C=F+e.snapElements[J].height;if(G>q-D&&k+D>G&&B>F-D&&C+D>B||G>q-D&&k+D>G&&z>F-D&&C+D>z||E>q-D&&k+D>E&&B>F-D&&C+D>B||E>q-D&&k+D>E&&z>F-D&&C+D>z){if("inner"!=H.snapMode){var w=D>=Math.abs(F-z),x=D>=Math.abs(C-B),K=D>=Math.abs(q-E),L=D>=Math.abs(k-G);w&&(A.position.top=e._convertPositionTo("relative",{top:F-e.helperProportions.height,left:0}).top-e.margins.top),x&&(A.position.top=e._convertPositionTo("relative",{top:C,left:0}).top-e.margins.top),K&&(A.position.left=e._convertPositionTo("relative",{top:0,left:q-e.helperProportions.width}).left-e.margins.left),L&&(A.position.left=e._convertPositionTo("relative",{top:0,left:k}).left-e.margins.left)}var j=w||x||K||L;if("outer"!=H.snapMode){var w=D>=Math.abs(F-B),x=D>=Math.abs(C-z),K=D>=Math.abs(q-G),L=D>=Math.abs(k-E);w&&(A.position.top=e._convertPositionTo("relative",{top:F,left:0}).top-e.margins.top),x&&(A.position.top=e._convertPositionTo("relative",{top:C-e.helperProportions.height,left:0}).top-e.margins.top),K&&(A.position.left=e._convertPositionTo("relative",{top:0,left:q}).left-e.margins.left),L&&(A.position.left=e._convertPositionTo("relative",{top:0,left:k-e.helperProportions.width}).left-e.margins.left)}!e.snapElements[J].snapping&&(w||x||K||L||j)&&e.options.snap.snap&&e.options.snap.snap.call(e.element,I,a.extend(e._uiHash(),{snapItem:e.snapElements[J].item})),e.snapElements[J].snapping=w||x||K||L||j}else{e.snapElements[J].snapping&&e.options.snap.release&&e.options.snap.release.call(e.element,I,a.extend(e._uiHash(),{snapItem:e.snapElements[J].item})),e.snapElements[J].snapping=!1}}}}),a.ui.plugin.add("draggable","stack",{start:function(){var d=a(this).data("draggable").options,c=a.makeArray(a(d.stack)).sort(function(f,e){return(parseInt(a(f).css("zIndex"),10)||0)-(parseInt(a(e).css("zIndex"),10)||0)});if(c.length){var b=parseInt(c[0].style.zIndex)||0;a(c).each(function(f){this.style.zIndex=b+f}),this[0].style.zIndex=b+c.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(e,c){var b=a(c.helper),d=a(this).data("draggable").options;b.css("zIndex")&&(d._zIndex=b.css("zIndex")),b.css("zIndex",d.zIndex)},stop:function(d,c){var b=a(this).data("draggable").options;b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})})(jQuery);(function(a){a.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var c=this.options,b=c.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(b)?b:function(d){return d.is(b)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[],a.ui.ddmanager.droppables[c.scope].push(this),c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var c=a.ui.ddmanager.droppables[this.options.scope],b=0;c.length>b;b++){c[b]==this&&c.splice(b,1)}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,b){"accept"==c&&(this.accept=a.isFunction(b)?b:function(d){return d.is(b)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(c){var b=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),b&&this._trigger("activate",c,this.ui(b))},_deactivate:function(c){var b=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),b&&this._trigger("deactivate",c,this.ui(b))},_over:function(c){var b=a.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!=this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",c,this.ui(b)))},_out:function(c){var b=a.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!=this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(b)))},_drop:function(e,c){var b=c||a.ui.ddmanager.current;if(!b||(b.currentItem||b.element)[0]==this.element[0]){return !1}var d=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var f=a.data(this,"droppable");return f.options.greedy&&!f.options.disabled&&f.options.scope==b.options.scope&&f.accept.call(f.element[0],b.currentItem||b.element)&&a.ui.intersect(b,a.extend(f,{offset:f.element.offset()}),f.options.tolerance)?(d=!0,!1):undefined}),d?!1:this.accept.call(this.element[0],b.currentItem||b.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(b)),this.element):!1},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}}),a.ui.intersect=function(A,j,b){if(!j.offset){return !1}var z=(A.positionAbs||A.position.absolute).left,v=z+A.helperProportions.width,y=(A.positionAbs||A.position.absolute).top,w=y+A.helperProportions.height,k=j.offset.left,g=k+j.proportions.width,B=j.offset.top,f=B+j.proportions.height;switch(b){case"fit":return z>=k&&g>=v&&y>=B&&f>=w;case"intersect":return z+A.helperProportions.width/2>k&&g>v-A.helperProportions.width/2&&y+A.helperProportions.height/2>B&&f>w-A.helperProportions.height/2;case"pointer":var e=(A.positionAbs||A.position.absolute).left+(A.clickOffset||A.offset.click).left,x=(A.positionAbs||A.position.absolute).top+(A.clickOffset||A.offset.click).top,q=a.ui.isOver(x,e,B,k,j.proportions.height,j.proportions.width);return q;case"touch":return(y>=B&&f>=y||w>=B&&f>=w||B>y&&w>f)&&(z>=k&&g>=z||v>=k&&g>=v||k>z&&v>g);default:return !1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(h,c){var b=a.ui.ddmanager.droppables[h.options.scope]||[],g=c?c.type:null,d=(h.currentItem||h.element).find(":data(droppable)").andSelf();a:for(var f=0;b.length>f;f++){if(!(b[f].options.disabled||h&&!b[f].accept.call(b[f].element[0],h.currentItem||h.element))){for(var e=0;d.length>e;e++){if(d[e]==b[f].element[0]){b[f].proportions.height=0;continue a}}b[f].visible="none"!=b[f].element.css("display"),b[f].visible&&("mousedown"==g&&b[f]._activate.call(b[f],c),b[f].offset=b[f].element.offset(),b[f].proportions={width:b[f].element[0].offsetWidth,height:b[f].element[0].offsetHeight})}}},drop:function(d,c){var b=!1;return a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(d,this,this.options.tolerance)&&(b=this._drop.call(this,c)||b),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),b},dragStart:function(c,b){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||a.ui.ddmanager.prepareOffsets(c,b)})},drag:function(c,b){c.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(c,b),a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d=a.ui.intersect(c,this,this.options.tolerance),h=d||1!=this.isover?d&&0==this.isover?"isover":null:"isout";if(h){var e;if(this.options.greedy){var g=this.options.scope,f=this.element.parents(":data(droppable)").filter(function(){return a.data(this,"droppable").options.scope===g});f.length&&(e=a.data(f[0],"droppable"),e.greedyChild="isover"==h?1:0)}e&&"isover"==h&&(e.isover=0,e.isout=1,e._out.call(e,b)),this[h]=1,this["isout"==h?"isover":"isout"]=0,this["isover"==h?"_over":"_out"].call(this,b),e&&"isout"==h&&(e.isout=0,e.isover=1,e._over.call(e,b))}}})},dragStop:function(c,b){c.element.parentsUntil("body").unbind("scroll.droppable"),c.options.refreshPositions||a.ui.ddmanager.prepareOffsets(c,b)}}})(jQuery);(function(a){a.widget("ui.resizable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var k=this,e=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=e.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var j=this.handles.split(",");this.handles={};for(var d=0;j.length>d;d++){var f=a.trim(j[d]),h="ui-resizable-"+f,g=a('<div class="ui-resizable-handle '+h+'"></div>');g.css({zIndex:e.zIndex}),"se"==f&&g.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(g)}}this._renderAxis=function(q){q=q||this.element;for(var m in this.handles){if(this.handles[m].constructor==String&&(this.handles[m]=a(this.handles[m],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var p=a(this.handles[m],this.element),l=0;l=/sw|ne|nw|se|n|s/.test(m)?p.outerHeight():p.outerWidth();var o=["padding",/ne|nw|n/.test(m)?"Top":/se|sw|s/.test(m)?"Bottom":/^e$/.test(m)?"Right":"Left"].join("");q.css(o,l),this._proportionallyResize()}a(this.handles[m]).length}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!k.resizing){if(this.className){var i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}k.axis=i&&i[1]?i[1]:"se"}}),e.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){e.disabled||(a(this).removeClass("ui-resizable-autohide"),k._handles.show())}).mouseleave(function(){e.disabled||k.resizing||(a(this).addClass("ui-resizable-autohide"),k._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e=function(f){a(f).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var d=this.element;this.originalElement.css({position:d.css("position"),width:d.outerWidth(),height:d.outerHeight(),top:d.css("top"),left:d.css("left")}).insertAfter(d),d.remove()}return this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(f){var d=!1;for(var e in this.handles){a(this.handles[e])[0]==f.target&&(d=!0)}return !this.options.disabled&&d},_mouseStart:function(f){var l=this.options,d=this.element.position(),g=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(g.is(".ui-draggable")||/absolute/.test(g.css("position")))&&g.css({position:"absolute",top:d.top,left:d.left}),this._renderProxy();var k=c(this.helper.css("left")),j=c(this.helper.css("top"));l.containment&&(k+=a(l.containment).scrollLeft()||0,j+=a(l.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:k,top:j},this.size=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.originalPosition={left:k,top:j},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalMousePosition={left:f.pageX,top:f.pageY},this.aspectRatio="number"==typeof l.aspectRatio?l.aspectRatio:this.originalSize.width/this.originalSize.height||1;var e=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor","auto"==e?this.axis+"-resize":e),g.addClass("ui-resizable-resizing"),this._propagate("start",f),!0},_mouseDrag:function(f){var m=this.helper,g=(this.options,this.originalMousePosition),l=this.axis,d=f.pageX-g.left||0,h=f.pageY-g.top||0,k=this._change[l];if(!k){return !1}var j=k.apply(this,[f,d,h]);return this._updateVirtualBoundaries(f.shiftKey),(this._aspectRatio||f.shiftKey)&&(j=this._updateRatio(j,f)),j=this._respectSize(j,f),this._propagate("resize",f),m.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(j),this._trigger("resize",f,this.ui()),!1},_mouseStop:function(q){this.resizing=!1;var f=this.options,p=this;if(this._helper){var d=this._proportionallyResizeElements,j=d.length&&/textarea/i.test(d[0].nodeName),m=j&&a.ui.hasScroll(d[0],"left")?0:p.sizeDiff.height,k=j?0:p.sizeDiff.width,e={width:p.helper.width()-k,height:p.helper.height()-m},g=parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left)||null,v=parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top)||null;f.animate||this.element.css(a.extend(e,{top:v,left:g})),p.helper.height(p.size.height),p.helper.width(p.size.width),this._helper&&!f.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",q),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(f){var k,j,d,g,i,h=this.options;i={minWidth:b(h.minWidth)?h.minWidth:0,maxWidth:b(h.maxWidth)?h.maxWidth:1/0,minHeight:b(h.minHeight)?h.minHeight:0,maxHeight:b(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||f)&&(k=i.minHeight*this.aspectRatio,d=i.minWidth/this.aspectRatio,j=i.maxHeight*this.aspectRatio,g=i.maxWidth/this.aspectRatio,k>i.minWidth&&(i.minWidth=k),d>i.minHeight&&(i.minHeight=d),i.maxWidth>j&&(i.maxWidth=j),i.maxHeight>g&&(i.maxHeight=g)),this._vBoundaries=i},_updateCache:function(d){this.options,this.offset=this.helper.offset(),b(d.left)&&(this.position.left=d.left),b(d.top)&&(this.position.top=d.top),b(d.height)&&(this.size.height=d.height),b(d.width)&&(this.size.width=d.width)},_updateRatio:function(f){var h=(this.options,this.position),g=this.size,d=this.axis;return b(f.height)?f.width=f.height*this.aspectRatio:b(f.width)&&(f.height=f.width/this.aspectRatio),"sw"==d&&(f.left=h.left+(g.width-f.width),f.top=null),"nw"==d&&(f.top=h.top+(g.height-f.height),f.left=h.left+(g.width-f.width)),f},_respectSize:function(j,z){var y=(this.helper,this._vBoundaries),f=(this._aspectRatio||z.shiftKey,this.axis),q=b(j.width)&&y.maxWidth&&y.maxWidth<j.width,x=b(j.height)&&y.maxHeight&&y.maxHeight<j.height,v=b(j.width)&&y.minWidth&&y.minWidth>j.width,k=b(j.height)&&y.minHeight&&y.minHeight>j.height;v&&(j.width=y.minWidth),k&&(j.height=y.minHeight),q&&(j.width=y.maxWidth),x&&(j.height=y.maxHeight);var m=this.originalPosition.left+this.originalSize.width,A=this.position.top+this.size.height,i=/sw|nw|w/.test(f),g=/nw|ne|n/.test(f);v&&i&&(j.left=m-y.minWidth),q&&i&&(j.left=m-y.maxWidth),k&&g&&(j.top=A-y.minHeight),x&&g&&(j.top=A-y.maxHeight);var w=!j.width&&!j.height;return w&&!j.left&&j.top?j.top=null:w&&!j.top&&j.left&&(j.left=null),j},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length){for(var h=this.helper||this.element,e=0;this._proportionallyResizeElements.length>e;e++){var g=this._proportionallyResizeElements[e];if(!this.borderDif){var d=[g.css("borderTopWidth"),g.css("borderRightWidth"),g.css("borderBottomWidth"),g.css("borderLeftWidth")],f=[g.css("paddingTop"),g.css("paddingRight"),g.css("paddingBottom"),g.css("paddingLeft")];this.borderDif=a.map(d,function(j,m){var k=parseInt(j,10)||0,l=parseInt(f[m],10)||0;return k+l})}g.css({height:h.height()-this.borderDif[0]-this.borderDif[2]||0,width:h.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var g=this.element,e=this.options;if(this.elementOffset=g.offset(),this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var f=a.ui.ie6?1:0,d=a.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+d,height:this.element.outerHeight()+d,position:"absolute",left:this.elementOffset.left-f+"px",top:this.elementOffset.top-f+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(d,f){return{width:this.originalSize.width+f}},w:function(d,h){var f=(this.options,this.originalSize),g=this.originalPosition;return{left:g.left+h,width:f.width-h}},n:function(f,j,g){var h=(this.options,this.originalSize),d=this.originalPosition;return{top:d.top+g,height:h.height-g}},s:function(d,g,f){return{height:this.originalSize.height+f}},se:function(f,d,e){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[f,d,e]))},sw:function(f,d,e){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[f,d,e]))},ne:function(f,d,e){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[f,d,e]))},nw:function(f,d,e){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[f,d,e]))}},_propagate:function(e,d){a.ui.plugin.call(this,e,[d,this.ui()]),"resize"!=e&&this._trigger(e,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var f=a(this).data("resizable"),d=f.options,e=function(g){a(g).each(function(){var h=a(this);h.data("resizable-alsoresize",{width:parseInt(h.width(),10),height:parseInt(h.height(),10),left:parseInt(h.css("left"),10),top:parseInt(h.css("top"),10)})})};"object"!=typeof d.alsoResize||d.alsoResize.parentNode?e(d.alsoResize):d.alsoResize.length?(d.alsoResize=d.alsoResize[0],e(d.alsoResize)):a.each(d.alsoResize,function(g){e(g)})},resize:function(m,f){var l=a(this).data("resizable"),d=l.options,g=l.originalSize,k=l.originalPosition,j={height:l.size.height-g.height||0,width:l.size.width-g.width||0,top:l.position.top-k.top||0,left:l.position.left-k.left||0},e=function(i,h){a(i).each(function(){var s=a(this),o=a(this).data("resizable-alsoresize"),p={},q=h&&h.length?h:s.parents(f.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(q,function(n,u){var r=(o[u]||0)+(j[u]||0);r&&r>=0&&(p[u]=r||null)}),s.css(p)})};"object"!=typeof d.alsoResize||d.alsoResize.nodeType?e(d.alsoResize):a.each(d.alsoResize,function(h,i){e(h,i)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(q){var f=a(this).data("resizable"),p=f.options,d=f._proportionallyResizeElements,j=d.length&&/textarea/i.test(d[0].nodeName),m=j&&a.ui.hasScroll(d[0],"left")?0:f.sizeDiff.height,k=j?0:f.sizeDiff.width,e={width:f.size.width-k,height:f.size.height-m},g=parseInt(f.element.css("left"),10)+(f.position.left-f.originalPosition.left)||null,v=parseInt(f.element.css("top"),10)+(f.position.top-f.originalPosition.top)||null;f.element.animate(a.extend(e,v&&g?{top:v,left:g}:{}),{duration:p.animateDuration,easing:p.animateEasing,step:function(){var h={width:parseInt(f.element.css("width"),10),height:parseInt(f.element.css("height"),10),top:parseInt(f.element.css("top"),10),left:parseInt(f.element.css("left"),10)};d&&d.length&&a(d[0]).css({width:h.width,height:h.height}),f._updateCache(h),f._propagate("resize",q)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var k=a(this).data("resizable"),x=k.options,e=k.element,q=x.containment,w=q instanceof a?q.get(0):/parent/.test(q)?e.parent().get(0):q;if(w){if(k.containerElement=a(w),/document/.test(q)||q==document){k.containerOffset={left:0,top:0},k.containerPosition={left:0,top:0},k.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}}else{var t=a(w),j=[];a(["Top","Right","Left","Bottom"]).each(function(d,h){j[d]=c(t.css("padding"+h))}),k.containerOffset=t.offset(),k.containerPosition=t.position(),k.containerSize={height:t.innerHeight()-j[3],width:t.innerWidth()-j[1]};var m=k.containerOffset,y=k.containerSize.height,g=k.containerSize.width,f=a.ui.hasScroll(w,"left")?w.scrollWidth:g,v=a.ui.hasScroll(w)?w.scrollHeight:y;k.parentData={element:w,left:m.left,top:m.top,width:f,height:v}}}},resize:function(x){var k=a(this).data("resizable"),w=k.options,e=(k.containerSize,k.containerOffset),p=(k.size,k.position),v=k._aspectRatio||x.shiftKey,q={top:0,left:0},j=k.containerElement;j[0]!=document&&/static/.test(j.css("position"))&&(q=e),p.left<(k._helper?e.left:0)&&(k.size.width=k.size.width+(k._helper?k.position.left-e.left:k.position.left-q.left),v&&(k.size.height=k.size.width/k.aspectRatio),k.position.left=w.helper?e.left:0),p.top<(k._helper?e.top:0)&&(k.size.height=k.size.height+(k._helper?k.position.top-e.top:k.position.top),v&&(k.size.width=k.size.height*k.aspectRatio),k.position.top=k._helper?e.top:0),k.offset.left=k.parentData.left+k.position.left,k.offset.top=k.parentData.top+k.position.top;var m=Math.abs((k._helper?k.offset.left-q.left:k.offset.left-q.left)+k.sizeDiff.width),y=Math.abs((k._helper?k.offset.top-q.top:k.offset.top-e.top)+k.sizeDiff.height),g=k.containerElement.get(0)==k.element.parent().get(0),f=/relative|absolute/.test(k.containerElement.css("position"));g&&f&&(m-=k.parentData.left),m+k.size.width>=k.parentData.width&&(k.size.width=k.parentData.width-m,v&&(k.size.height=k.size.width/k.aspectRatio)),y+k.size.height>=k.parentData.height&&(k.size.height=k.parentData.height-y,v&&(k.size.width=k.size.height*k.aspectRatio))},stop:function(){var q=a(this).data("resizable"),f=q.options,p=(q.position,q.containerOffset),d=q.containerPosition,j=q.containerElement,m=a(q.helper),k=m.offset(),e=m.outerWidth()-q.sizeDiff.width,g=m.outerHeight()-q.sizeDiff.height;q._helper&&!f.animate&&/relative/.test(j.css("position"))&&a(this).css({left:k.left-d.left-p.left,width:e,height:g}),q._helper&&!f.animate&&/static/.test(j.css("position"))&&a(this).css({left:k.left-d.left-p.left,width:e,height:g})}}),a.ui.plugin.add("resizable","ghost",{start:function(){var f=a(this).data("resizable"),d=f.options,e=f.size;f.ghost=f.originalElement.clone(),f.ghost.css({opacity:0.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof d.ghost?d.ghost:""),f.ghost.appendTo(f.helper)},resize:function(){var d=a(this).data("resizable");d.options,d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(){var d=a(this).data("resizable");d.options,d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(q){var f=a(this).data("resizable"),p=f.options,d=f.size,j=f.originalSize,m=f.originalPosition,k=f.axis;p._aspectRatio||q.shiftKey,p.grid="number"==typeof p.grid?[p.grid,p.grid]:p.grid;var e=Math.round((d.width-j.width)/(p.grid[0]||1))*(p.grid[0]||1),g=Math.round((d.height-j.height)/(p.grid[1]||1))*(p.grid[1]||1);/^(se|s|e)$/.test(k)?(f.size.width=j.width+e,f.size.height=j.height+g):/^(ne)$/.test(k)?(f.size.width=j.width+e,f.size.height=j.height+g,f.position.top=m.top-g):/^(sw)$/.test(k)?(f.size.width=j.width+e,f.size.height=j.height+g,f.position.left=m.left-e):(f.size.width=j.width+e,f.size.height=j.height+g,f.position.top=m.top-g,f.position.left=m.left-e)}});var c=function(d){return parseInt(d,10)||0},b=function(d){return !isNaN(parseInt(d,10))}})(jQuery);(function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var c=this;this.element.addClass("ui-selectable"),this.dragged=!1;var b;this.refresh=function(){b=a(c.options.filter,c.element[0]),b.addClass("ui-selectee"),b.each(function(){var e=a(this),d=e.offset();a.data(this,"selectable-item",{element:this,$element:e,left:d.left,top:d.top,right:d.left+e.outerWidth(),bottom:d.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=b.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(d){var b=this;if(this.opos=[d.pageX,d.pageY],!this.options.disabled){var c=this.options;this.selectees=a(c.filter,this.element[0]),this._trigger("start",d),a(c.appendTo).append(this.helper),this.helper.css({left:d.clientX,top:d.clientY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=a.data(this,"selectable-item");e.startselected=!0,d.metaKey||d.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,b._trigger("unselecting",d,{unselecting:e.element}))}),a(d.target).parents().andSelf().each(function(){var f=a.data(this,"selectable-item");if(f){var e=!d.metaKey&&!d.ctrlKey||!f.$element.hasClass("ui-selected");return f.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),f.unselecting=!e,f.selecting=e,f.selected=e,e?b._trigger("selecting",d,{selecting:f.element}):b._trigger("unselecting",d,{unselecting:f.element}),!1}})}},_mouseDrag:function(k){var d=this;if(this.dragged=!0,!this.options.disabled){var j=this.options,b=this.opos[0],e=this.opos[1],g=k.pageX,f=k.pageY;if(b>g){var c=g;g=b,b=c}if(e>f){var c=f;f=e,e=c}return this.helper.css({left:b,top:e,width:g-b,height:f-e}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(i&&i.element!=d.element[0]){var m=!1;"touch"==j.tolerance?m=!(i.left>g||b>i.right||i.top>f||e>i.bottom):"fit"==j.tolerance&&(m=i.left>b&&g>i.right&&i.top>e&&f>i.bottom),m?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,d._trigger("selecting",k,{selecting:i.element}))):(i.selecting&&((k.metaKey||k.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),d._trigger("unselecting",k,{unselecting:i.element}))),i.selected&&(k.metaKey||k.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,d._trigger("unselecting",k,{unselecting:i.element}))))}}),!1}},_mouseStop:function(c){var b=this;return this.dragged=!1,this.options,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,b._trigger("unselected",c,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,b._trigger("selected",c,{selected:d.element})}),this._trigger("stop",c),this.helper.remove(),!1}})})(jQuery);(function(a){a.widget("ui.sortable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var b=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===b.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--){this.items[b].item.removeData(this.widgetName+"-item")}return this},_setOption:function(c,b){"disabled"===c?(this.options[c]=b,this.widget().toggleClass("ui-sortable-disabled",!!b)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(f,c){var e=this;if(this.reverting){return !1}if(this.options.disabled||"static"==this.options.type){return !1}this._refreshItems(f);var b=null;if(a(f.target).parents().each(function(){return a.data(this,e.widgetName+"-item")==e?(b=a(this),!1):undefined}),a.data(f.target,e.widgetName+"-item")==e&&(b=a(f.target)),!b){return !1}if(this.options.handle&&!c){var d=!1;if(a(this.options.handle,b).find("*").andSelf().each(function(){this==f.target&&(d=!0)}),!d){return !1}}return this.currentItem=b,this._removeCurrentsFromItems(),!0},_mouseStart:function(f,c,e){var b=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(f),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(f),this.originalPageX=f.pageX,this.originalPageY=f.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),b.containment&&this._setContainment(),b.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",b.cursor)),b.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",b.opacity)),b.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",b.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",f,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!e){for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("activate",f,this._uiHash(this))}}return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,f),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(f),!0},_mouseDrag:function(h){if(this.position=this._generatePosition(h),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var c=this.options,g=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-h.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop+c.scrollSpeed:h.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-h.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft+c.scrollSpeed:h.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(h.pageY-a(document).scrollTop()<c.scrollSensitivity?g=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(h.pageY-a(document).scrollTop())<c.scrollSensitivity&&(g=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),h.pageX-a(document).scrollLeft()<c.scrollSensitivity?g=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(h.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(g=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),g!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,h)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var b=this.items.length-1;b>=0;b--){var d=this.items[b],f=d.item[0],e=this._intersectsWithPointer(d);if(e&&d.instance===this.currentContainer&&f!=this.currentItem[0]&&this.placeholder[1==e?"next":"prev"]()[0]!=f&&!a.contains(this.placeholder[0],f)&&("semi-dynamic"==this.options.type?!a.contains(this.element[0],f):!0)){if(this.direction=1==e?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(d)){break}this._rearrange(h,d),this._trigger("change",h,this._uiHash());break}}return this._contactContainers(h),a.ui.ddmanager&&a.ui.ddmanager.drag(this,h),this._trigger("sort",h,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,c){if(e){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,e),this.options.revert){var d=this,b=this.placeholder.offset();this.reverting=!0,a(this.helper).animate({left:b.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:b.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(e)})}else{this._clear(e,c)}return !1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--){this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(d){var b=this._getItemsAsjQuery(d&&d.connected),c=[];return d=d||{},a(b).each(function(){var e=(a(d.item||this).attr(d.attribute||"id")||"").match(d.expression||/(.+)[-=_](.+)/);e&&c.push((d.key||e[1]+"[]")+"="+(d.key&&d.expression?e[1]:e[2]))}),!c.length&&d.key&&c.push(d.key+"="),c.join("&")},toArray:function(d){var b=this._getItemsAsjQuery(d&&d.connected),c=[];return d=d||{},b.each(function(){c.push(a(d.item||this).attr(d.attribute||"id")||"")}),c},_intersectsWith:function(f){var w=this.positionAbs.left,j=w+this.helperProportions.width,v=this.positionAbs.top,b=v+this.helperProportions.height,m=f.left,q=m+f.width,p=f.top,g=p+f.height,k=this.offset.click.top,x=this.offset.click.left,d=v+k>p&&g>v+k&&w+x>m&&q>w+x;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>f[this.floating?"width":"height"]?d:w+this.helperProportions.width/2>m&&q>j-this.helperProportions.width/2&&v+this.helperProportions.height/2>p&&g>b-this.helperProportions.height/2},_intersectsWithPointer:function(g){var c="x"===this.options.axis||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,g.top,g.height),f="y"===this.options.axis||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,g.left,g.width),b=c&&f,d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return b?this.floating?e&&"right"==e||"down"==d?2:1:d&&("down"==d?2:1):!1},_intersectsWithSides:function(f){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top+f.height/2,f.height),e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left+f.width/2,f.width),b=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return this.floating&&d?"right"==d&&e||"left"==d&&!e:b&&("down"==b&&c||"up"==b&&!c)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return 0!=b&&(b>0?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return 0!=b&&(b>0?"right":"left")},refresh:function(b){return this._refreshItems(b),this.refreshPositions(),this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(k){var d=[],j=[],b=this._connectWith();if(b&&k){for(var e=b.length-1;e>=0;e--){for(var g=a(b[e]),f=g.length-1;f>=0;f--){var c=a.data(g[f],this.widgetName);c&&c!=this&&!c.options.disabled&&j.push([a.isFunction(c.options.items)?c.options.items.call(c.element):a(c.options.items,c.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),c])}}}j.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var e=j.length-1;e>=0;e--){j[e][0].each(function(){d.push(this)})}return a(d)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(c){for(var d=0;b.length>d;d++){if(b[d]==c.item[0]){return !1}}return !0})},_refreshItems:function(w){this.items=[],this.containers=[this];var j=this.items,v=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],w,{item:this.currentItem}):a(this.options.items,this.element),this]],b=this._connectWith();if(b&&this.ready){for(var m=b.length-1;m>=0;m--){for(var q=a(b[m]),p=q.length-1;p>=0;p--){var g=a.data(q[p],this.widgetName);g&&g!=this&&!g.options.disabled&&(v.push([a.isFunction(g.options.items)?g.options.items.call(g.element[0],w,{item:this.currentItem}):a(g.options.items,g.element),g]),this.containers.push(g))}}}for(var m=v.length-1;m>=0;m--){for(var k=v[m][1],x=v[m][0],p=0,e=x.length;e>p;p++){var f=a(x[p]);f.data(this.widgetName+"-item",k),j.push({item:f,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(f){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var e=this.items[c];if(e.instance==this.currentContainer||!this.currentContainer||e.item[0]==this.currentItem[0]){var b=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item;f||(e.width=b.outerWidth(),e.height=b.outerHeight());var d=b.offset();e.left=d.left,e.top=d.top}}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var c=this.containers.length-1;c>=0;c--){var d=this.containers[c].element.offset();this.containers[c].containerCache.left=d.left,this.containers[c].containerCache.top=d.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}}return this},_createPlaceholder:function(d){d=d||this;var b=d.options;if(!b.placeholder||b.placeholder.constructor==String){var c=b.placeholder;b.placeholder={element:function(){var e=a(document.createElement(d.currentItem[0].nodeName)).addClass(c||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return c||(e.style.visibility="hidden"),e},update:function(g,f){(!c||b.forcePlaceholderSize)&&(f.height()||f.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10)),f.width()||f.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10)))}}}d.placeholder=a(b.placeholder.element.call(d.element,d.currentItem)),d.currentItem.after(d.placeholder),b.placeholder.update(d,d.placeholder)},_contactContainers:function(w){for(var j=null,v=null,b=this.containers.length-1;b>=0;b--){if(!a.contains(this.currentItem[0],this.containers[b].element[0])){if(this._intersectsWith(this.containers[b].containerCache)){if(j&&a.contains(this.containers[b].element[0],j.element[0])){continue}j=this.containers[b],v=b}else{this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",w,this._uiHash(this)),this.containers[b].containerCache.over=0)}}}if(j){if(1===this.containers.length){this.containers[v]._trigger("over",w,this._uiHash(this)),this.containers[v].containerCache.over=1}else{for(var m=10000,q=null,p=this.containers[v].floating?"left":"top",g=this.containers[v].floating?"width":"height",k=this.positionAbs[p]+this.offset.click[p],x=this.items.length-1;x>=0;x--){if(a.contains(this.containers[v].element[0],this.items[x].item[0])&&this.items[x].item[0]!=this.currentItem[0]){var e=this.items[x].item.offset()[p],f=!1;Math.abs(e-k)>Math.abs(e+this.items[x][g]-k)&&(f=!0,e+=this.items[x][g]),m>Math.abs(e-k)&&(m=Math.abs(e-k),q=this.items[x],this.direction=f?"up":"down")}}if(!q&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[v],q?this._rearrange(w,q,null,!0):this._rearrange(w,null,this.containers[v].element,!0),this._trigger("change",w,this._uiHash()),this.containers[v]._trigger("change",w,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[v]._trigger("over",w,this._uiHash(this)),this.containers[v].containerCache.over=1}}},_createHelper:function(d){var b=this.options,c=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],[d,this.currentItem])):"clone"==b.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||a("parent"!=b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==c[0].style.width||b.forceHelperSize)&&c.width(this.currentItem.width()),(""==c[0].style.height||b.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(e.containment)){var c=a(e.containment)[0],d=a(e.containment).offset(),b="hidden"!=a(c).css("overflow");this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(b?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(b?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(f,c){c||(c=this.position);var e="absolute"==f?1:-1,b=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),d=/(html|body)/i.test(b[0].tagName);return{top:c.top+this.offset.relative.top*e+this.offset.parent.top*e-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():d?0:b.scrollTop())*e,left:c.left+this.offset.relative.left*e+this.offset.parent.left*e-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():d?0:b.scrollLeft())*e}},_generatePosition:function(k){var d=this.options,j="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,b=/(html|body)/i.test(j[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var e=k.pageX,g=k.pageY;if(this.originalPosition&&(this.containment&&(k.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),k.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),k.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+this.offset.click.left),k.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),d.grid)){var f=this.originalPageY+Math.round((g-this.originalPageY)/d.grid[1])*d.grid[1];g=this.containment?f-this.offset.click.top<this.containment[1]||f-this.offset.click.top>this.containment[3]?f-this.offset.click.top<this.containment[1]?f+d.grid[1]:f-d.grid[1]:f:f;var c=this.originalPageX+Math.round((e-this.originalPageX)/d.grid[0])*d.grid[0];e=this.containment?c-this.offset.click.left<this.containment[0]||c-this.offset.click.left>this.containment[2]?c-this.offset.click.left<this.containment[0]?c+d.grid[0]:c-d.grid[0]:c:c}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():b?0:j.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():b?0:j.scrollLeft())}},_rearrange:function(c,g,d,f){d?d[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?g.item[0]:g.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var b=this.counter;this._delay(function(){b==this.counter&&this.refreshPositions(!f)})},_clear:function(e,c){this.reverting=!1;var d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var b in this._storedCSS){("auto"==this._storedCSS[b]||"static"==this._storedCSS[b])&&(this._storedCSS[b]="")}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!c&&d.push(function(f){this._trigger("receive",f,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||c||d.push(function(f){this._trigger("update",f,this._uiHash())}),this!==this.currentContainer&&(c||(d.push(function(f){this._trigger("remove",f,this._uiHash())}),d.push(function(f){return function(g){f._trigger("receive",g,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(f){return function(g){f._trigger("update",g,this._uiHash(this))}}.call(this,this.currentContainer))));for(var b=this.containers.length-1;b>=0;b--){c||d.push(function(f){return function(g){f._trigger("deactivate",g,this._uiHash(this))}}.call(this,this.containers[b])),this.containers[b].containerCache.over&&(d.push(function(f){return function(g){f._trigger("out",g,this._uiHash(this))}}.call(this,this.containers[b])),this.containers[b].containerCache.over=0)}if(this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",e,this._uiHash());for(var b=0;d.length>b;b++){d[b].call(this,e)}this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(c||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!c){for(var b=0;d.length>b;b++){d[b].call(this,e)}this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(c){var b=c||this;return{helper:b.helper,placeholder:b.placeholder||a([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:c?c.element:null}}})})(jQuery);jQuery.effects||function(c,f){var d=c.uiBackCompat!==!1,b="ui-effects-";c.effects={effect:{}},function(D,v){function e(l,n,m){var h=g[n.type]||{};return null==l?m||!n.def?null:n.def:(l=h.floor?~~l:parseFloat(l),isNaN(l)?n.def:h.mod?(l+h.mod)%h.mod:0>l?0:l>h.max?h.max:l)}function C(i){var h=E(),l=h._rgba=[];return i=i.toLowerCase(),x(w,function(F,p){var u,s=p.re.exec(i),a=s&&p.parse(s),m=p.space||"rgba";return a?(u=h[m](a),h[j[m].cache]=u[j[m].cache],l=h._rgba=u._rgba,!1):v}),l.length?("0,0,0,0"===l.join()&&D.extend(l,B.transparent),h):B[i]}function y(a,l,h){return h=(h+1)%1,1>6*h?a+6*(l-a)*h:1>2*h?l:2>3*h?a+6*(l-a)*(2/3-h):a}var B,z="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),q=/^([\-+])=\s*(\d+\.?\d*)/,w=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],E=D.Color=function(l,m,h,n){return new D.Color.fn.parse(l,m,h,n)},j={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},g={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},A=E.support={},k=D("<p>")[0],x=D.each;k.style.cssText="background-color:rgba(1,1,1,.5)",A.rgba=k.style.backgroundColor.indexOf("rgba")>-1,x(j,function(a,h){h.cache="_"+a,h.props.alpha={idx:3,type:"percent",def:1}}),E.fn=D.extend(E.prototype,{parse:function(s,t,m,r){if(s===v){return this._rgba=[null,null,null,null],this}(s.jquery||s.nodeType)&&(s=D(s).css(t),t=v);var a=this,u=D.type(s),i=this._rgba=[];return t!==v&&(s=[s,t,m,r],u="array"),"string"===u?this.parse(C(s)||B._default):"array"===u?(x(j.rgba.props,function(h,l){i[l.idx]=e(s[l.idx],l)}),this):"object"===u?(s instanceof E?x(j,function(h,l){s[l.cache]&&(a[l.cache]=s[l.cache].slice())}):x(j,function(n,h){var l=h.cache;x(h.props,function(o,p){if(!a[l]&&h.to){if("alpha"===o||null==s[o]){return}a[l]=h.to(a._rgba)}a[l][p.idx]=e(s[o],p,!0)}),a[l]&&0>c.inArray(null,a[l].slice(0,3))&&(a[l][3]=1,h.from&&(a._rgba=h.from(a[l])))}),this):v},is:function(i){var m=E(i),h=!0,l=this;return x(j,function(a,p){var t,s=m[p.cache];return s&&(t=l[p.cache]||p.to&&p.to(l._rgba)||[],x(p.props,function(n,o){return null!=s[o.idx]?h=s[o.idx]===t[o.idx]:v})),h}),h},_space:function(){var a=[],h=this;return x(j,function(m,l){h[l.cache]&&a.push(m)}),a.pop()},transition:function(a,H){var m=E(a),G=m._space(),p=j[G],F=0===this.alpha()?E("transparent"):this,u=F[p.cache]||p.to(F._rgba),l=u.slice();return m=m[p.cache],x(p.props,function(h,I){var o=I.idx,t=u[o],i=m[o],J=g[I.type]||{};null!==i&&(null===t?l[o]=i:(J.mod&&(i-t>J.mod/2?t+=J.mod:t-i>J.mod/2&&(t-=J.mod)),l[o]=e((i-t)*H+t,I)))}),this[G](l)},blend:function(l){if(1===this._rgba[3]){return this}var m=this._rgba.slice(),h=m.pop(),n=E(l)._rgba;return E(D.map(m,function(a,i){return(1-h)*n[i]+h*a}))},toRgbaString:function(){var a="rgba(",h=D.map(this._rgba,function(i,l){return null==i?l>2?1:0:i});return 1===h[3]&&(h.pop(),a="rgb("),a+h.join()+")"},toHslaString:function(){var a="hsla(",h=D.map(this.hsla(),function(i,l){return null==i&&(i=l>2?1:0),l&&3>l&&(i=Math.round(100*i)+"%"),i});return 1===h[3]&&(h.pop(),a="hsl("),a+h.join()+")"},toHexString:function(l){var m=this._rgba.slice(),h=m.pop();return l&&m.push(~~(255*h)),"#"+D.map(m,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),E.fn.parse.prototype=E.fn,j.hsla.to=function(F){if(null==F[0]||null==F[1]||null==F[2]){return[null,null,null,F[3]]}var N,H,m=F[0]/255,M=F[1]/255,J=F[2]/255,L=F[3],K=Math.max(m,M,J),G=Math.min(m,M,J),I=K-G,O=K+G,p=0.5*O;return N=G===K?0:m===K?60*(M-J)/I+360:M===K?60*(J-m)/I+120:60*(m-M)/I+240,H=0===p||1===p?p:0.5>=p?I/O:I/(2-O),[Math.round(N)%360,H,p,null==L?1:L]},j.hsla.from=function(l){if(null==l[0]||null==l[1]||null==l[2]){return[null,null,null,l[3]]}var F=l[0]/360,m=l[1],h=l[2],u=l[3],p=0.5>=h?h*(1+m):h+m-h*m,n=2*h-p;return[Math.round(255*y(n,p,F+1/3)),Math.round(255*y(n,p,F)),Math.round(255*y(n,p,F-1/3)),u]},x(j,function(a,t){var i=t.props,p=t.cache,m=t.to,h=t.from;E.fn[a]=function(o){if(m&&!this[p]&&(this[p]=m(this._rgba)),o===v){return this[p].slice()}var u,r=D.type(o),n="array"===r||"object"===r?o:arguments,l=this[p].slice();return x(i,function(s,G){var F=n["object"===r?s:G.idx];null==F&&(F=l[G.idx]),l[G.idx]=e(F,G)}),h?(u=E(h(l)),u[p]=l,u):E(l)},x(i,function(n,l){E.fn[n]||(E.fn[n]=function(J){var G,I=D.type(J),H="alpha"===n?this._hsla?"hsla":"rgba":a,F=this[H](),K=F[l.idx];return"undefined"===I?K:("function"===I&&(J=J.call(this,K),I=D.type(J)),null==J&&l.empty?this:("string"===I&&(G=q.exec(J),G&&(J=K+parseFloat(G[2])*("+"===G[1]?1:-1))),F[l.idx]=J,this[H](F)))})})}),x(z,function(a,h){D.cssHooks[h]={set:function(m,i){var t,F,u="";if("string"!==D.type(i)||(t=C(i))){if(i=E(t||i),!A.rgba&&1!==i._rgba[3]){for(F="backgroundColor"===h?m.parentNode:m;(""===u||"transparent"===u)&&F&&F.style;){try{u=D.css(F,"backgroundColor"),F=F.parentNode}catch(p){}}i=i.blend(u&&"transparent"!==u?u:"_default")}i=i.toRgbaString()}try{m.style[h]=i}catch(s){}}},D.fx.step[h]=function(i){i.colorInit||(i.start=E(i.elem,h),i.end=E(i.end),i.colorInit=!0),D.cssHooks[h].set(i.elem,i.start.transition(i.end,i.pos))}}),D.cssHooks.borderColor={expand:function(a){var h={};return x(["Top","Right","Bottom","Left"],function(m,l){h["border"+l+"Color"]=a}),h}},B=D.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function g(){var n,l,k=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,m={};if(k&&k.length&&k[0]&&k[k[0]]){for(l=k.length;l--;){n=k[l],"string"==typeof k[n]&&(m[c.camelCase(n)]=k[n])}}else{for(n in k){"string"==typeof k[n]&&(m[n]=k[n])}}return m}function e(o,l){var k,n,m={};for(k in l){n=l[k],o[k]!==n&&(h[k]||(c.fx.step[k]||!isNaN(parseFloat(n)))&&(m[k]=n))}return m}var j=["add","remove","toggle"],h={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};c.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(k,a){c.fx.step[a]=function(i){("none"!==i.end&&!i.setAttr||1===i.pos&&!i.setAttr)&&(jQuery.style(i.elem,a,i.end),i.setAttr=!0)}}),c.effects.animateClass=function(m,i,l,k){var a=c.speed(i,l,k);return this.queue(function(){var q,t=c(this),s=t.attr("class")||"",p=a.children?t.find("*").andSelf():t;p=p.map(function(){var n=c(this);return{el:n,start:g.call(this)}}),q=function(){c.each(j,function(n,o){m[o]&&t[o+"Class"](m[o])})},q(),p=p.map(function(){return this.end=g.call(this.el[0]),this.diff=e(this.start,this.end),this}),t.attr("class",s),p=p.map(function(){var r=this,o=c.Deferred(),n=jQuery.extend({},a,{queue:!1,complete:function(){o.resolve(r)}});return this.el.animate(this.diff,n),o.promise()}),c.when.apply(c,p.get()).done(function(){q(),c.each(arguments,function(){var n=this.el;c.each(this.diff,function(o){n.css(o,"")})}),a.complete.call(t[0])})})},c.fn.extend({_addClass:c.fn.addClass,addClass:function(n,l,k,m){return l?c.effects.animateClass.call(this,{add:n},l,k,m):this._addClass(n)},_removeClass:c.fn.removeClass,removeClass:function(n,l,k,m){return l?c.effects.animateClass.call(this,{remove:n},l,k,m):this._removeClass(n)},_toggleClass:c.fn.toggleClass,toggleClass:function(l,k,p,m,o){return"boolean"==typeof k||k===f?p?c.effects.animateClass.call(this,k?{add:l}:{remove:l},p,m,o):this._toggleClass(l,k):c.effects.animateClass.call(this,{toggle:l},k,p,m)},switchClass:function(p,l,k,o,m){return c.effects.animateClass.call(this,{add:l,remove:p},k,o,m)}})}(),function(){function e(k,h,g,j){return c.isPlainObject(k)&&(h=k,k=k.effect),k={effect:k},null==h&&(h={}),c.isFunction(h)&&(j=h,g=null,h={}),("number"==typeof h||c.fx.speeds[h])&&(j=g,g=h,h={}),c.isFunction(g)&&(j=g,g=null),h&&c.extend(k,h),g=g||h.duration,k.duration=c.fx.off?0:"number"==typeof g?g:g in c.fx.speeds?c.fx.speeds[g]:c.fx.speeds._default,k.complete=j||h.complete,k}function a(g){return !g||"number"==typeof g||c.fx.speeds[g]?!0:"string"!=typeof g||c.effects.effect[g]?!1:d&&c.effects[g]?!1:!0}c.extend(c.effects,{version:"1.9.2",save:function(g,j){for(var h=0;j.length>h;h++){null!==j[h]&&g.data(b+j[h],g[0].style[j[h]])}},restore:function(g,h){var k,j;for(j=0;h.length>j;j++){null!==h[j]&&(k=g.data(b+h[j]),k===f&&(k=""),g.css(h[j],k))}},setMode:function(g,h){return"toggle"===h&&(h=g.is(":hidden")?"show":"hide"),h},getBaseline:function(h,k){var j,g;switch(h[0]){case"top":j=0;break;case"middle":j=0.5;break;case"bottom":j=1;break;default:j=h[0]/k.height}switch(h[1]){case"left":g=0;break;case"center":g=0.5;break;case"right":g=1;break;default:g=h[1]/k.width}return{x:g,y:j}},createWrapper:function(m){if(m.parent().is(".ui-effects-wrapper")){return m.parent()}var h={width:m.outerWidth(!0),height:m.outerHeight(!0),"float":m.css("float")},g=c("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),l={width:m.width(),height:m.height()},j=document.activeElement;try{j.id}catch(k){j=document.body}return m.wrap(g),(m[0]===j||c.contains(m[0],j))&&c(j).focus(),g=m.parent(),"static"===m.css("position")?(g.css({position:"relative"}),m.css({position:"relative"})):(c.extend(h,{position:m.css("position"),zIndex:m.css("z-index")}),c.each(["top","left","bottom","right"],function(n,i){h[i]=m.css(i),isNaN(parseInt(h[i],10))&&(h[i]="auto")}),m.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),m.css(l),g.css(h).show()},removeWrapper:function(h){var g=document.activeElement;return h.parent().is(".ui-effects-wrapper")&&(h.parent().replaceWith(h),(h[0]===g||c.contains(h[0],g))&&c(g).focus()),h},setTransition:function(k,h,g,j){return j=j||{},c.each(h,function(l,m){var o=k.cssUnit(m);o[0]>0&&(j[m]=o[0]*g+o[1])}),j}}),c.fn.extend({effect:function(){function m(u){function h(){c.isFunction(o)&&o.call(q[0]),c.isFunction(u)&&u()}var q=c(this),o=g.complete,p=g.mode;(q.is(":hidden")?"hide"===p:"show"===p)?h():k.call(q[0],g,h)}var g=e.apply(this,arguments),j=g.mode,l=g.queue,k=c.effects.effect[g.effect],i=!k&&d&&c.effects[g.effect];return c.fx.off||!k&&!i?j?this[j](g.duration,g.complete):this.each(function(){g.complete&&g.complete.call(this)}):k?l===!1?this.each(m):this.queue(l||"fx",m):i.call(this,{options:g,duration:g.duration,callback:g.complete,mode:g.mode})},_show:c.fn.show,show:function(g){if(a(g)){return this._show.apply(this,arguments)}var h=e.apply(this,arguments);return h.mode="show",this.effect.call(this,h)},_hide:c.fn.hide,hide:function(g){if(a(g)){return this._hide.apply(this,arguments)}var h=e.apply(this,arguments);return h.mode="hide",this.effect.call(this,h)},__toggle:c.fn.toggle,toggle:function(h){if(a(h)||"boolean"==typeof h||c.isFunction(h)){return this.__toggle.apply(this,arguments)}var g=e.apply(this,arguments);return g.mode="toggle",this.effect.call(this,g)},cssUnit:function(j){var h=this.css(j),g=[];return c.each(["em","px","%","pt"],function(i,k){h.indexOf(k)>0&&(g=[parseFloat(h),k])}),g}})}(),function(){var a={};c.each(["Quad","Cubic","Quart","Quint","Expo"],function(g,h){a[h]=function(e){return Math.pow(e,g+2)}}),c.extend(a,{Sine:function(g){return 1-Math.cos(g*Math.PI/2)},Circ:function(g){return 1-Math.sqrt(1-g*g)},Elastic:function(g){return 0===g||1===g?g:-Math.pow(2,8*(g-1))*Math.sin((80*(g-1)-7.5)*Math.PI/15)},Back:function(g){return g*g*(3*g-2)},Bounce:function(g){for(var j,h=4;((j=Math.pow(2,--h))-1)/11>g;){}return 1/Math.pow(4,3-h)-7.5625*Math.pow((3*j-2)/22-g,2)}}),c.each(a,function(g,e){c.easing["easeIn"+g]=e,c.easing["easeOut"+g]=function(h){return 1-e(1-h)},c.easing["easeInOut"+g]=function(h){return 0.5>h?e(2*h)/2:1-e(-2*h+2)/2}})}()}(jQuery);(function(a){var c=/up|down|vertical/,b=/up|left|vertical|horizontal/;a.effects.effect.blind=function(e,C){var y,B,z,w=a(this),t=["position","top","bottom","left","right","height","width"],D=a.effects.setMode(w,e.mode||"hide"),j=e.direction||"up",i=c.test(j),A=i?"height":"width",x=i?"top":"left",k=b.test(j),q={},E="show"===D;w.parent().is(".ui-effects-wrapper")?a.effects.save(w.parent(),t):a.effects.save(w,t),w.show(),y=a.effects.createWrapper(w).css({overflow:"hidden"}),B=y[A](),z=parseFloat(y.css(x))||0,q[A]=E?B:0,k||(w.css(i?"bottom":"right",0).css(i?"top":"left","auto").css({position:"absolute"}),q[x]=E?z:B+z),E&&(y.css(A,0),k||y.css(x,z+B)),y.animate(q,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===D&&w.hide(),a.effects.restore(w,t),a.effects.removeWrapper(w),C()}})}})(jQuery);(function(a){a.effects.effect.bounce=function(J,B){var j,I,E,H=a(this),F=["position","top","bottom","left","right","height","width"],C=a.effects.setMode(H,J.mode||"effect"),A="hide"===C,K="show"===C,w=J.direction||"up",q=J.distance,G=J.times||5,D=2*G+(K||A?1:0),x=J.duration/D,z=J.easing,L="up"===w||"down"===w?"top":"left",M="up"===w||"left"===w,k=H.queue(),e=k.length;for((K||A)&&F.push("opacity"),a.effects.save(H,F),H.show(),a.effects.createWrapper(H),q||(q=H["top"===L?"outerHeight":"outerWidth"]()/3),K&&(E={opacity:1},E[L]=0,H.css("opacity",0).css(L,M?2*-q:2*q).animate(E,x,z)),A&&(q/=Math.pow(2,G-1)),E={},E[L]=0,j=0;G>j;j++){I={},I[L]=(M?"-=":"+=")+q,H.animate(I,x,z).animate(E,x,z),q=A?2*q:q/2}A&&(I={opacity:0},I[L]=(M?"-=":"+=")+q,H.animate(I,x,z)),H.queue(function(){A&&H.hide(),a.effects.restore(H,F),a.effects.removeWrapper(H),B()}),e>1&&k.splice.apply(k,[1,0].concat(k.splice(e,D+1))),H.dequeue()}})(jQuery);(function(a){a.effects.effect.clip=function(A,j){var b,z,v,y=a(this),w=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(y,A.mode||"hide"),g="show"===k,B=A.direction||"vertical",f="vertical"===B,e=f?"height":"width",x=f?"top":"left",q={};a.effects.save(y,w),y.show(),b=a.effects.createWrapper(y).css({overflow:"hidden"}),z="IMG"===y[0].tagName?b:y,v=z[e](),g&&(z.css(e,0),z.css(x,v/2)),q[e]=g?v:0,q[x]=g?0:v/2,z.animate(q,{queue:!1,duration:A.duration,easing:A.easing,complete:function(){g||y.hide(),a.effects.restore(y,w),a.effects.removeWrapper(y),j()}})}})(jQuery);(function(a){a.effects.effect.drop=function(q,f){var b,p=a(this),j=["position","top","bottom","left","right","opacity","height","width"],m=a.effects.setMode(p,q.mode||"hide"),k="show"===m,g=q.direction||"left",e="up"===g||"down"===g?"top":"left",v="up"===g||"left"===g?"pos":"neg",c={opacity:k?1:0};a.effects.save(p,j),p.show(),a.effects.createWrapper(p),b=q.distance||p["top"===e?"outerHeight":"outerWidth"](!0)/2,k&&p.css("opacity",0).css(e,"pos"===v?-b:b),c[e]=(k?"pos"===v?"+=":"-=":"pos"===v?"-=":"+=")+b,p.animate(c,{queue:!1,duration:q.duration,easing:q.easing,complete:function(){"hide"===m&&p.hide(),a.effects.restore(p,j),a.effects.removeWrapper(p),f()}})}})(jQuery);(function(a){a.effects.effect.explode=function(I,A){function e(){j.push(this),j.length===q*k&&H()}function H(){F.css({visibility:"visible"}),a(j).remove(),w||F.hide(),A()}var D,G,E,B,z,J,q=I.pieces?Math.round(Math.sqrt(I.pieces)):3,k=q,F=a(this),C=a.effects.setMode(F,I.mode||"hide"),w="show"===C,x=F.show().css("visibility","hidden").offset(),K=Math.ceil(F.outerWidth()/k),L=Math.ceil(F.outerHeight()/q),j=[];for(D=0;q>D;D++){for(B=x.top+D*L,J=D-(q-1)/2,G=0;k>G;G++){E=x.left+G*K,z=G-(k-1)/2,F.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-G*K,top:-D*L}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:K,height:L,left:E+(w?z*K:0),top:B+(w?J*L:0),opacity:w?0:1}).animate({left:E+(w?0:z*K),top:B+(w?0:J*L),opacity:w?1:0},I.duration||500,I.easing,e)}}}})(jQuery);(function(a){a.effects.effect.fade=function(e,c){var b=a(this),d=a.effects.setMode(b,e.mode||"toggle");b.animate({opacity:d},{queue:!1,duration:e.duration,easing:e.easing,complete:c})}})(jQuery);(function(a){a.effects.effect.fold=function(F,x){var b,E,A=a(this),D=["position","top","bottom","left","right","height","width"],B=a.effects.setMode(A,F.mode||"hide"),y="show"===B,w="hide"===B,G=F.size||15,j=/([0-9]+)%/.exec(G),e=!!F.horizFirst,C=y!==e,z=C?["width","height"]:["height","width"],k=F.duration/2,q={},H={};a.effects.save(A,D),A.show(),b=a.effects.createWrapper(A).css({overflow:"hidden"}),E=C?[b.width(),b.height()]:[b.height(),b.width()],j&&(G=parseInt(j[1],10)/100*E[w?0:1]),y&&b.css(e?{height:0,width:G}:{height:G,width:0}),q[z[0]]=y?E[0]:G,H[z[1]]=y?E[1]:0,b.animate(q,k,F.easing).animate(H,k,F.easing,function(){w&&A.hide(),a.effects.restore(A,D),a.effects.removeWrapper(A),x()})}})(jQuery);(function(a){a.effects.effect.highlight=function(g,c){var b=a(this),f=["backgroundImage","backgroundColor","opacity"],d=a.effects.setMode(b,g.mode||"show"),e={backgroundColor:b.css("backgroundColor")};"hide"===d&&(e.opacity=0),a.effects.save(b,f),b.show().css({backgroundImage:"none",backgroundColor:g.color||"#ffff99"}).animate(e,{queue:!1,duration:g.duration,easing:g.easing,complete:function(){"hide"===d&&b.hide(),a.effects.restore(b,f),c()}})}})(jQuery);(function(a){a.effects.effect.pulsate=function(y,j){var b,x=a(this),m=a.effects.setMode(x,y.mode||"show"),w="show"===m,q="hide"===m,k=w||"hide"===m,g=2*(y.times||5)+(k?1:0),z=y.duration/g,f=0,e=x.queue(),v=e.length;for((w||!x.is(":visible"))&&(x.css("opacity",0).show(),f=1),b=1;g>b;b++){x.animate({opacity:f},z,y.easing),f=1-f}x.animate({opacity:f},z,y.easing),x.queue(function(){q&&x.hide(),j()}),v>1&&e.splice.apply(e,[1,0].concat(e.splice(v,g+1))),x.dequeue()}})(jQuery);(function(a){a.effects.effect.puff=function(k,d){var b=a(this),j=a.effects.setMode(b,k.mode||"hide"),e="hide"===j,g=parseInt(k.percent,10)||150,f=g/100,c={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};a.extend(k,{effect:"scale",queue:!1,fade:!0,mode:j,complete:d,percent:e?g:100,from:e?c:{height:c.height*f,width:c.width*f,outerHeight:c.outerHeight*f,outerWidth:c.outerWidth*f}}),b.effect(k)},a.effects.effect.scale=function(m,d){var b=a(this),k=a.extend(!0,{},m),f=a.effects.setMode(b,m.mode||"effect"),j=parseInt(m.percent,10)||(0===parseInt(m.percent,10)?0:"hide"===f?0:100),g=m.direction||"both",c=m.origin,e={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()},p={y:"horizontal"!==g?j/100:1,x:"vertical"!==g?j/100:1};k.effect="size",k.queue=!1,k.complete=d,"effect"!==f&&(k.origin=c||["middle","center"],k.restore=!0),k.from=m.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:e),k.to={height:e.height*p.y,width:e.width*p.x,outerHeight:e.outerHeight*p.y,outerWidth:e.outerWidth*p.x},k.fade&&("show"===f&&(k.from.opacity=0,k.to.opacity=1),"hide"===f&&(k.from.opacity=1,k.to.opacity=0)),b.effect(k)},a.effects.effect.size=function(I,A){var e,H,D,G=a(this),E=["position","top","bottom","left","right","width","height","overflow","opacity"],z=["position","top","bottom","left","right","overflow","opacity"],B=["width","height","overflow"],J=["fontSize"],q=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],k=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],F=a.effects.setMode(G,I.mode||"effect"),w=I.restore||"effect"!==F,C=I.scale||"both",x=I.origin||["middle","center"],K=G.css("position"),L=w?E:z,j={height:0,width:0,outerHeight:0,outerWidth:0};"show"===F&&G.show(),e={height:G.height(),width:G.width(),outerHeight:G.outerHeight(),outerWidth:G.outerWidth()},"toggle"===I.mode&&"show"===F?(G.from=I.to||j,G.to=I.from||e):(G.from=I.from||("show"===F?j:e),G.to=I.to||("hide"===F?j:e)),D={from:{y:G.from.height/e.height,x:G.from.width/e.width},to:{y:G.to.height/e.height,x:G.to.width/e.width}},("box"===C||"both"===C)&&(D.from.y!==D.to.y&&(L=L.concat(q),G.from=a.effects.setTransition(G,q,D.from.y,G.from),G.to=a.effects.setTransition(G,q,D.to.y,G.to)),D.from.x!==D.to.x&&(L=L.concat(k),G.from=a.effects.setTransition(G,k,D.from.x,G.from),G.to=a.effects.setTransition(G,k,D.to.x,G.to))),("content"===C||"both"===C)&&D.from.y!==D.to.y&&(L=L.concat(J).concat(B),G.from=a.effects.setTransition(G,J,D.from.y,G.from),G.to=a.effects.setTransition(G,J,D.to.y,G.to)),a.effects.save(G,L),G.show(),a.effects.createWrapper(G),G.css("overflow","hidden").css(G.from),x&&(H=a.effects.getBaseline(x,e),G.from.top=(e.outerHeight-G.outerHeight())*H.y,G.from.left=(e.outerWidth-G.outerWidth())*H.x,G.to.top=(e.outerHeight-G.to.outerHeight)*H.y,G.to.left=(e.outerWidth-G.to.outerWidth)*H.x),G.css(G.from),("content"===C||"both"===C)&&(q=q.concat(["marginTop","marginBottom"]).concat(J),k=k.concat(["marginLeft","marginRight"]),B=E.concat(q).concat(k),G.find("*[width]").each(function(){var c=a(this),b={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};w&&a.effects.save(c,B),c.from={height:b.height*D.from.y,width:b.width*D.from.x,outerHeight:b.outerHeight*D.from.y,outerWidth:b.outerWidth*D.from.x},c.to={height:b.height*D.to.y,width:b.width*D.to.x,outerHeight:b.height*D.to.y,outerWidth:b.width*D.to.x},D.from.y!==D.to.y&&(c.from=a.effects.setTransition(c,q,D.from.y,c.from),c.to=a.effects.setTransition(c,q,D.to.y,c.to)),D.from.x!==D.to.x&&(c.from=a.effects.setTransition(c,k,D.from.x,c.from),c.to=a.effects.setTransition(c,k,D.to.x,c.to)),c.css(c.from),c.animate(c.to,I.duration,I.easing,function(){w&&a.effects.restore(c,B)})})),G.animate(G.to,{queue:!1,duration:I.duration,easing:I.easing,complete:function(){0===G.to.opacity&&G.css("opacity",G.from.opacity),"hide"===F&&G.hide(),a.effects.restore(G,L),w||("static"===K?G.css({position:"relative",top:G.to.top,left:G.to.left}):a.each(["top","left"],function(b,c){G.css(c,function(h,f){var d=parseInt(f,10),g=b?G.to.left:G.to.top;return"auto"===f?g+"px":d+g+"px"})})),a.effects.removeWrapper(G),A()}})}})(jQuery);(function(a){a.effects.effect.shake=function(G,x){var b,F=a(this),B=["position","top","bottom","left","right","height","width"],E=a.effects.setMode(F,G.mode||"effect"),C=G.direction||"left",w=G.distance||20,z=G.times||3,H=2*z+1,j=Math.round(G.duration/H),e="up"===C||"down"===C?"top":"left",D="up"===C||"left"===C,k={},A={},q={},I=F.queue(),J=I.length;for(a.effects.save(F,B),F.show(),a.effects.createWrapper(F),k[e]=(D?"-=":"+=")+w,A[e]=(D?"+=":"-=")+2*w,q[e]=(D?"-=":"+=")+2*w,F.animate(k,j,G.easing),b=1;z>b;b++){F.animate(A,j,G.easing).animate(q,j,G.easing)}F.animate(A,j,G.easing).animate(k,j/2,G.easing).queue(function(){"hide"===E&&F.hide(),a.effects.restore(F,B),a.effects.removeWrapper(F),x()}),J>1&&I.splice.apply(I,[1,0].concat(I.splice(J,H+1))),F.dequeue()}})(jQuery);(function(a){a.effects.effect.slide=function(q,f){var b,p=a(this),j=["position","top","bottom","left","right","width","height"],m=a.effects.setMode(p,q.mode||"show"),k="show"===m,e=q.direction||"left",g="up"===e||"down"===e?"top":"left",v="up"===e||"left"===e,c={};a.effects.save(p,j),p.show(),b=q.distance||p["top"===g?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(p).css({overflow:"hidden"}),k&&p.css(g,v?isNaN(b)?"-"+b:-b:b),c[g]=(k?v?"+=":"-=":v?"-=":"+=")+b,p.animate(c,{queue:!1,duration:q.duration,easing:q.easing,complete:function(){"hide"===m&&p.hide(),a.effects.restore(p,j),a.effects.removeWrapper(p),f()}})}})(jQuery);(function(a){a.effects.effect.transfer=function(w,j){var b=a(this),v=a(w.to),m="fixed"===v.css("position"),q=a("body"),p=m?q.scrollTop():0,g=m?q.scrollLeft():0,k=v.offset(),x={top:k.top-p,left:k.left-g,height:v.innerHeight(),width:v.innerWidth()},f=b.offset(),e=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(w.className).css({top:f.top-p,left:f.left-g,height:b.innerHeight(),width:b.innerWidth(),position:m?"fixed":"absolute"}).animate(x,w.duration,w.easing,function(){e.remove(),j()})}})(jQuery);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(a,o){
/*
 * jsTree 3.0.2
 * http://jstree.com/
 *
 * Copyright (c) 2014 Ivan Bozhanov (http://vakata.com)
 *
 * Licensed same as jquery - under the terms of the MIT License
 *   http://www.opensource.org/licenses/mit-license.php
 */
/*
 * if using jslint please allow for the jQuery global and use following options: 
 * jslint: browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
 */
if(a.jstree){return}var k=0,i=false,h=false,g=false,m=[],l=a("script:last").attr("src"),b=document,d=b.createElement("LI"),e,f;d.setAttribute("role","treeitem");e=b.createElement("I");e.className="jstree-icon jstree-ocl";d.appendChild(e);e=b.createElement("A");e.className="jstree-anchor";e.setAttribute("href","#");f=b.createElement("I");f.className="jstree-icon jstree-themeicon";e.appendChild(f);d.appendChild(e);e=f=null;a.jstree={version:"3.0.2",defaults:{plugins:[]},plugins:{},path:l&&l.indexOf("/")!==-1?l.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}]/g};a.jstree.create=function(p,r){var s=new a.jstree.core(++k),q=r;r=a.extend(true,{},a.jstree.defaults,r);if(q&&q.plugins){r.plugins=q.plugins}a.each(r.plugins,function(t,u){if(t!=="core"){s=s.plugin(u,r[u])}});s.init(p,r);return s};a.jstree.core=function(p){this._id=p;this._cnt=0;this._wrk=null;this._data={core:{themes:{name:false,dots:false,icons:false},selected:[],last_error:{}}}};a.jstree.reference=function(q){var s=null,r=null;if(q&&q.id){q=q.id}if(!r||!r.length){try{r=a(q)}catch(p){}}if(!r||!r.length){try{r=a("#"+q.replace(a.jstree.idregex,"\\$&"))}catch(p){}}if(r&&r.length&&(r=r.closest(".jstree")).length&&(r=r.data("jstree"))){s=r}else{a(".jstree").each(function(){var t=a(this).data("jstree");if(t&&t._model.data[q]){s=t;return false}})}return s};a.fn.jstree=function(p){var r=(typeof p==="string"),q=Array.prototype.slice.call(arguments,1),s=null;this.each(function(){var t=a.jstree.reference(this),u=r&&t?t[p]:null;s=r&&u?u.apply(t,q):null;if(!t&&!r&&(p===o||a.isPlainObject(p))){a(this).data("jstree",new a.jstree.create(this,p))}if((t&&!r)||p===true){s=t||false}if(s!==null&&s!==o){return false}});return s!==null&&s!==o?s:this};a.expr[":"].jstree=a.expr.createPseudo(function(p){return function(q){return a(q).hasClass("jstree")&&a(q).data("jstree")!==o}});a.jstree.defaults.core={data:false,strings:false,check_callback:false,error:a.noop,animation:200,multiple:true,themes:{name:false,url:false,dir:false,dots:true,icons:true,stripes:false,variant:false,responsive:false},expand_selected_onload:true,worker:true};a.jstree.core.prototype={plugin:function(q,r){var p=a.jstree.plugins[q];if(p){this._data[q]={};p.prototype=this;return new p(r,this)}return this},init:function(p,q){this._model={data:{"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:false}}},changed:[],force_full_redraw:false,redraw_timeout:false,default_state:{loaded:true,opened:false,selected:false,disabled:false}};this.element=a(p).addClass("jstree jstree-"+this._id);this.settings=q;this.element.bind("destroyed",a.proxy(this.teardown,this));this._data.core.ready=false;this._data.core.loaded=false;this._data.core.rtl=(this.element.css("direction")==="rtl");this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl");this.element.attr("role","tree");this.bind();this.trigger("init");this._data.core.original_container_html=this.element.find(" > ul > li").clone(true);this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return this.nodeType===3&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove();this.element.html("<ul class='jstree-container-ul jstree-children'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>");this._data.core.li_height=this.get_container_ul().children("li:eq(0)").height()||24;this.trigger("loading");this.load_node("#")},destroy:function(p){if(!p){this.element.empty()}this.element.unbind("destroyed",this.teardown);this.teardown()},teardown:function(){this.unbind();this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});this.element=null},bind:function(){this.element.on("dblclick.jstree",function(){if(document.selection&&document.selection.empty){document.selection.empty()}else{if(window.getSelection){var q=window.getSelection();try{q.removeAllRanges();q.collapse()}catch(p){}}}}).on("click.jstree",".jstree-ocl",a.proxy(function(p){this.toggle_node(p.target)},this)).on("click.jstree",".jstree-anchor",a.proxy(function(p){p.preventDefault();a(p.currentTarget).focus();this.activate_node(p.currentTarget,p)},this)).on("keydown.jstree",".jstree-anchor",a.proxy(function(p){if(p.target.tagName==="INPUT"){return true}var q=null;switch(p.which){case 13:case 32:p.type="click";a(p.currentTarget).trigger(p);break;case 37:p.preventDefault();if(this.is_open(p.currentTarget)){this.close_node(p.currentTarget)}else{q=this.get_prev_dom(p.currentTarget);if(q&&q.length){q.children(".jstree-anchor").focus()}}break;case 38:p.preventDefault();q=this.get_prev_dom(p.currentTarget);if(q&&q.length){q.children(".jstree-anchor").focus()}break;case 39:p.preventDefault();if(this.is_closed(p.currentTarget)){this.open_node(p.currentTarget,function(r){this.get_node(r,true).children(".jstree-anchor").focus()})}else{q=this.get_next_dom(p.currentTarget);if(q&&q.length){q.children(".jstree-anchor").focus()}}break;case 40:p.preventDefault();q=this.get_next_dom(p.currentTarget);if(q&&q.length){q.children(".jstree-anchor").focus()}break;case 46:p.preventDefault();q=this.get_node(p.currentTarget);if(q&&q.id&&q.id!=="#"){q=this.is_selected(q)?this.get_selected():q}break;case 113:p.preventDefault();q=this.get_node(p.currentTarget);
/*
								if(o && o.id && o.id !== '#') {
									// this.edit(o);
								}
								*/
break;default:break}},this)).on("load_node.jstree",a.proxy(function(q,p){if(p.status){if(p.node.id==="#"&&!this._data.core.loaded){this._data.core.loaded=true;this.trigger("loaded")}if(!this._data.core.ready&&!this.get_container_ul().find(".jstree-loading:eq(0)").length){this._data.core.ready=true;if(this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t=[],r,s;for(r=0,s=this._data.core.selected.length;r<s;r++){t=t.concat(this._model.data[this._data.core.selected[r]].parents)}t=a.vakata.array_unique(t);for(r=0,s=t.length;r<s;r++){this.open_node(t[r],false,0)}}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}setTimeout(a.proxy(function(){this.trigger("ready")},this),0)}}},this)).on("init.jstree",a.proxy(function(){var p=this.settings.core.themes;this._data.core.themes.dots=p.dots;this._data.core.themes.stripes=p.stripes;this._data.core.themes.icons=p.icons;this.set_theme(p.name||"default",p.url);this.set_theme_variant(p.variant)},this)).on("loading.jstree",a.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"]();this[this._data.core.themes.icons?"show_icons":"hide_icons"]();this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",a.proxy(function(p){a(p.currentTarget).filter(".jstree-hovered").mouseleave()},this)).on("focus.jstree",".jstree-anchor",a.proxy(function(p){this.element.find(".jstree-hovered").not(p.currentTarget).mouseleave();a(p.currentTarget).mouseenter()},this)).on("mouseenter.jstree",".jstree-anchor",a.proxy(function(p){this.hover_node(p.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",a.proxy(function(p){this.dehover_node(p.currentTarget)},this))},unbind:function(){this.element.off(".jstree");a(document).off(".jstree-"+this._id)},trigger:function(q,p){if(!p){p={}}p.instance=this;this.element.triggerHandler(q.replace(".jstree","")+".jstree",p)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children:eq(0)")},get_string:function(q){var p=this.settings.core.strings;if(a.isFunction(p)){return p.call(this,q)}if(p&&p[q]){return p[q]}return q},_firstChild:function(p){p=p?p.firstChild:null;while(p!==null&&p.nodeType!==1){p=p.nextSibling}return p},_nextSibling:function(p){p=p?p.nextSibling:null;while(p!==null&&p.nodeType!==1){p=p.nextSibling}return p},_previousSibling:function(p){p=p?p.previousSibling:null;while(p!==null&&p.nodeType!==1){p=p.previousSibling}return p},get_node:function(s,p){if(s&&s.id){s=s.id}var q;try{if(this._model.data[s]){s=this._model.data[s]}else{if(((q=a(s,this.element)).length||(q=a("#"+s.replace(a.jstree.idregex,"\\$&"),this.element)).length)&&this._model.data[q.closest(".jstree-node").attr("id")]){s=this._model.data[q.closest(".jstree-node").attr("id")]}else{if((q=a(s,this.element)).length&&q.hasClass("jstree")){s=this._model.data["#"]}else{return false}}}if(p){s=s.id==="#"?this.element:a("#"+s.id.replace(a.jstree.idregex,"\\$&"),this.element)}return s}catch(r){return false}},get_path:function(u,q,s){u=u.parents?u:this.get_node(u);if(!u||u.id==="#"||!u.parents){return false}var r,t,v=[];v.push(s?u.id:u.text);for(r=0,t=u.parents.length;r<t;r++){v.push(s?u.parents[r]:this.get_text(u.parents[r]))}v=v.reverse().slice(1);return q?v.join(q):v},get_next_dom:function(p,q){var r;p=this.get_node(p,true);if(p[0]===this.element[0]){r=this._firstChild(this.get_container_ul()[0]);return r?a(r):false}if(!p||!p.length){return false}if(q){r=this._nextSibling(p[0]);return r?a(r):false}if(p.hasClass("jstree-open")){r=this._firstChild(p.children(".jstree-children")[0]);return r?a(r):false}if((r=this._nextSibling(p[0]))!==null){return a(r)}return p.parentsUntil(".jstree",".jstree-node").next(".jstree-node").eq(0)},get_prev_dom:function(p,q){var r;p=this.get_node(p,true);if(p[0]===this.element[0]){r=this.get_container_ul()[0].lastChild;return r?a(r):false}if(!p||!p.length){return false}if(q){r=this._previousSibling(p[0]);return r?a(r):false}if((r=this._previousSibling(p[0]))!==null){p=a(r);while(p.hasClass("jstree-open")){p=p.children(".jstree-children:eq(0)").children(".jstree-node:last")}return p}r=p[0].parentNode.parentNode;return r&&r.className&&r.className.indexOf("jstree-node")!==-1?a(r):false},get_parent:function(p){p=this.get_node(p);if(!p||p.id==="#"){return false}return p.parent},get_children_dom:function(p){p=this.get_node(p,true);if(p[0]===this.element[0]){return this.get_container_ul().children(".jstree-node")}if(!p||!p.length){return false}return p.children(".jstree-children").children(".jstree-node")},is_parent:function(p){p=this.get_node(p);return p&&(p.state.loaded===false||p.children.length>0)},is_loaded:function(p){p=this.get_node(p);return p&&p.state.loaded},is_loading:function(p){p=this.get_node(p);return p&&p.state&&p.state.loading},is_open:function(p){p=this.get_node(p);return p&&p.state.opened},is_closed:function(p){p=this.get_node(p);return p&&this.is_parent(p)&&!p.state.opened},is_leaf:function(p){return !this.is_parent(p)},load_node:function(v,q){var t,u,r,s,p;if(a.isArray(v)){this._load_nodes(v.slice(),q);return true}v=this.get_node(v);if(!v){if(q){q.call(this,v,false)}return false}if(v.state.loaded){v.state.loaded=false;for(t=0,u=v.children_d.length;t<u;t++){for(r=0,s=v.parents.length;r<s;r++){this._model.data[v.parents[r]].children_d=a.vakata.array_remove_item(this._model.data[v.parents[r]].children_d,v.children_d[t])}if(this._model.data[v.children_d[t]].state.selected){p=true;this._data.core.selected=a.vakata.array_remove_item(this._data.core.selected,v.children_d[t])}delete this._model.data[v.children_d[t]]}v.children=[];v.children_d=[];if(p){this.trigger("changed",{action:"load_node",node:v,selected:this._data.core.selected})}}v.state.loading=true;this.get_node(v,true).addClass("jstree-loading");this._load_node(v,a.proxy(function(x){v=this._model.data[v.id];v.state.loading=false;v.state.loaded=x;var w=this.get_node(v,true);if(v.state.loaded&&!v.children.length&&w&&w.length&&!w.hasClass("jstree-leaf")){w.removeClass("jstree-closed jstree-open").addClass("jstree-leaf")}w.removeClass("jstree-loading");this.trigger("load_node",{node:v,status:x});if(q){q.call(this,v,x)}},this));return true},_load_nodes:function(w,q,t){var x=true,p=function(){this._load_nodes(w,q,true)},v=this._model.data,s,u;for(s=0,u=w.length;s<u;s++){if(v[w[s]]&&(!v[w[s]].state.loaded||!t)){if(!this.is_loading(w[s])){this.load_node(w[s],p)}x=false}}if(x){if(!q.done){q.call(this,w);q.done=true}}},_load_node:function(q,p){var r=this.settings.core.data,u;if(!r){if(q.id==="#"){return this._append_html_data(q,this._data.core.original_container_html.clone(true),function(s){p.call(this,s)})}else{return p.call(this,false)}}if(a.isFunction(r)){return r.call(this,q,a.proxy(function(s){if(s===false){p.call(this,false)}this[typeof s==="string"?"_append_html_data":"_append_json_data"](q,typeof s==="string"?a(s):s,function(t){p.call(this,t)})},this))}if(typeof r==="object"){if(r.url){r=a.extend(true,{},r);if(a.isFunction(r.url)){r.url=r.url.call(this,q)}if(a.isFunction(r.data)){r.data=r.data.call(this,q)}return a.ajax(r).done(a.proxy(function(s,v,y){var w=y.getResponseHeader("Content-Type");if(w.indexOf("json")!==-1||typeof s==="object"){return this._append_json_data(q,s,function(t){p.call(this,t)})}if(w.indexOf("html")!==-1||typeof s==="string"){return this._append_html_data(q,a(s),function(t){p.call(this,t)})}this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:q.id,xhr:y})};this.settings.core.error.call(this,this._data.core.last_error);return p.call(this,false)},this)).fail(a.proxy(function(s){p.call(this,false);this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:q.id,xhr:s})};this.settings.core.error.call(this,this._data.core.last_error)},this))}u=(a.isArray(r)||a.isPlainObject(r))?JSON.parse(JSON.stringify(r)):r;if(q.id==="#"){return this._append_json_data(q,u,function(s){p.call(this,s)})}else{this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:q.id})};this.settings.core.error.call(this,this._data.core.last_error);return p.call(this,false)}}if(typeof r==="string"){if(q.id==="#"){return this._append_html_data(q,a(r),function(s){p.call(this,s)})}else{this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:q.id})};this.settings.core.error.call(this,this._data.core.last_error);return p.call(this,false)}}return p.call(this,false)},_node_changed:function(p){p=this.get_node(p);if(p){this._model.changed.push(p.id)}},_append_html_data:function(v,u,q){v=this.get_node(v);v.children=[];v.children_d=[];var t=u.is("ul")?u.children():u,B=v.id,r=[],w=[],z=this._model.data,A=z[B],C=this._data.core.selected.length,D,x,y;t.each(a.proxy(function(p,s){D=this._parse_model_from_html(a(s),B,A.parents.concat());if(D){r.push(D);w.push(D);if(z[D].children_d.length){w=w.concat(z[D].children_d)}}},this));A.children=r;A.children_d=w;for(x=0,y=A.parents.length;x<y;x++){z[A.parents[x]].children_d=z[A.parents[x]].children_d.concat(w)}this.trigger("model",{nodes:w,parent:B});if(B!=="#"){this._node_changed(B);this.redraw()}else{this.get_container_ul().children(".jstree-initial-node").remove();this.redraw(true)}if(this._data.core.selected.length!==C){this.trigger("changed",{action:"model",selected:this._data.core.selected})}q.call(this,true)},_append_json_data:function(s,r,q){s=this.get_node(s);s.children=[];s.children_d=[];if(r.d){r=r.d;if(typeof r==="string"){r=JSON.parse(r)}}if(!a.isArray(r)){r=[r]}var x=null,p={df:this._model.default_state,dat:r,par:s.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},u=function(A,P){if(A.data){A=A.data}var z=A.dat,H=A.par,y=[],C=[],w=[],B=A.df,N=A.t_id,M=A.t_cnt,F=A.m,G=F[H],L=A.sel,O,D,E,K,I=function(R,V,W){if(!W){W=[]}else{W=W.concat()}if(V){W.unshift(V)}var X=R.id.toString(),T,U,Q,S,Y={id:X,text:R.text||"",icon:R.icon!==P?R.icon:true,parent:V,parents:W,children:R.children||[],children_d:R.children_d||[],data:R.data,state:{},li_attr:{id:false},a_attr:{href:"#"},original:false};for(T in B){if(B.hasOwnProperty(T)){Y.state[T]=B[T]}}if(R&&R.data&&R.data.jstree&&R.data.jstree.icon){Y.icon=R.data.jstree.icon}if(R&&R.data){Y.data=R.data;if(R.data.jstree){for(T in R.data.jstree){if(R.data.jstree.hasOwnProperty(T)){Y.state[T]=R.data.jstree[T]}}}}if(R&&typeof R.state==="object"){for(T in R.state){if(R.state.hasOwnProperty(T)){Y.state[T]=R.state[T]}}}if(R&&typeof R.li_attr==="object"){for(T in R.li_attr){if(R.li_attr.hasOwnProperty(T)){Y.li_attr[T]=R.li_attr[T]}}}if(!Y.li_attr.id){Y.li_attr.id=X}if(R&&typeof R.a_attr==="object"){for(T in R.a_attr){if(R.a_attr.hasOwnProperty(T)){Y.a_attr[T]=R.a_attr[T]}}}if(R&&R.children&&R.children===true){Y.state.loaded=false;Y.children=[];Y.children_d=[]}F[Y.id]=Y;for(T=0,U=Y.children.length;T<U;T++){Q=I(F[Y.children[T]],Y.id,W);S=F[Q];Y.children_d.push(Q);if(S.children_d.length){Y.children_d=Y.children_d.concat(S.children_d)}}delete R.data;delete R.children;F[Y.id].original=R;if(Y.state.selected){w.push(Y.id)}return Y.id},J=function(R,V,W){if(!W){W=[]}else{W=W.concat()}if(V){W.unshift(V)}var X=false,T,U,Q,S,Y;do{X="j"+N+"_"+(++M)}while(F[X]);Y={id:false,text:typeof R==="string"?R:"",icon:typeof R==="object"&&R.icon!==P?R.icon:true,parent:V,parents:W,children:[],children_d:[],data:null,state:{},li_attr:{id:false},a_attr:{href:"#"},original:false};for(T in B){if(B.hasOwnProperty(T)){Y.state[T]=B[T]}}if(R&&R.id){Y.id=R.id.toString()}if(R&&R.text){Y.text=R.text}if(R&&R.data&&R.data.jstree&&R.data.jstree.icon){Y.icon=R.data.jstree.icon}if(R&&R.data){Y.data=R.data;if(R.data.jstree){for(T in R.data.jstree){if(R.data.jstree.hasOwnProperty(T)){Y.state[T]=R.data.jstree[T]}}}}if(R&&typeof R.state==="object"){for(T in R.state){if(R.state.hasOwnProperty(T)){Y.state[T]=R.state[T]}}}if(R&&typeof R.li_attr==="object"){for(T in R.li_attr){if(R.li_attr.hasOwnProperty(T)){Y.li_attr[T]=R.li_attr[T]}}}if(Y.li_attr.id&&!Y.id){Y.id=Y.li_attr.id.toString()}if(!Y.id){Y.id=X}if(!Y.li_attr.id){Y.li_attr.id=Y.id}if(R&&typeof R.a_attr==="object"){for(T in R.a_attr){if(R.a_attr.hasOwnProperty(T)){Y.a_attr[T]=R.a_attr[T]}}}if(R&&R.children&&R.children.length){for(T=0,U=R.children.length;T<U;T++){Q=J(R.children[T],Y.id,W);S=F[Q];Y.children.push(Q);if(S.children_d.length){Y.children_d=Y.children_d.concat(S.children_d)}}Y.children_d=Y.children_d.concat(Y.children)}if(R&&R.children&&R.children===true){Y.state.loaded=false;Y.children=[];Y.children_d=[]}delete R.data;delete R.children;Y.original=R;F[Y.id]=Y;if(Y.state.selected){w.push(Y.id)}return Y.id};if(z.length&&z[0].id!==P&&z[0].parent!==P){for(D=0,E=z.length;D<E;D++){if(!z[D].children){z[D].children=[]}F[z[D].id.toString()]=z[D]}for(D=0,E=z.length;D<E;D++){F[z[D].parent.toString()].children.push(z[D].id.toString());G.children_d.push(z[D].id.toString())}for(D=0,E=G.children.length;D<E;D++){O=I(F[G.children[D]],H,G.parents.concat());C.push(O);if(F[O].children_d.length){C=C.concat(F[O].children_d)}}K={cnt:M,mod:F,sel:L,par:H,dpc:C,add:w}}else{for(D=0,E=z.length;D<E;D++){O=J(z[D],H,G.parents.concat());if(O){y.push(O);C.push(O);if(F[O].children_d.length){C=C.concat(F[O].children_d)}}}G.children=y;G.children_d=C;for(D=0,E=G.parents.length;D<E;D++){F[G.parents[D]].children_d=F[G.parents[D]].children_d.concat(C)}K={cnt:M,mod:F,sel:L,par:H,dpc:C,add:w}}return K},v=function(C,E){this._cnt=C.cnt;this._model.data=C.mod;if(E){var y,z,w=C.add,B=C.sel,D=this._data.core.selected.slice(),A=this._model.data;if(B.length!==D.length||a.vakata.array_unique(B.concat(D)).length!==B.length){for(y=0,z=B.length;y<z;y++){if(a.inArray(B[y],w)===-1&&a.inArray(B[y],D)===-1){A[B[y]].state.selected=false}}for(y=0,z=D.length;y<z;y++){if(a.inArray(D[y],B)===-1){A[D[y]].state.selected=true}}}}if(C.add.length){this._data.core.selected=this._data.core.selected.concat(C.add)}this.trigger("model",{nodes:C.dpc,parent:C.par});if(C.par!=="#"){this._node_changed(C.par);this.redraw()}else{this.redraw(true)}if(C.add.length){this.trigger("changed",{action:"model",selected:this._data.core.selected})}q.call(this,true)};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker){try{if(this._wrk===null){this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+u.toString().replace(/return ([^;}]+)[\s;}]+$/,"postMessage($1);}")],{type:"text/javascript"}))}x=new window.Worker(this._wrk);x.onmessage=a.proxy(function(w){v.call(this,w.data,true)},this);x.postMessage(p)}catch(t){v.call(this,u(p),false)}}else{v.call(this,u(p),false)}},_parse_model_from_html:function(r,w,x){if(!x){x=[]}else{x=[].concat(x)}if(w){x.unshift(w)}var q,t,v=this._model.data,s={id:false,text:false,icon:true,parent:w,parents:x,children:[],children_d:[],data:null,state:{},li_attr:{id:false},a_attr:{href:"#"},original:false},u,z,y;for(u in this._model.default_state){if(this._model.default_state.hasOwnProperty(u)){s.state[u]=this._model.default_state[u]}}z=a.vakata.attributes(r,true);a.each(z,function(p,A){A=a.trim(A);if(!A.length){return true}s.li_attr[p]=A;if(p==="id"){s.id=A.toString()}});z=r.children("a").eq(0);if(z.length){z=a.vakata.attributes(z,true);a.each(z,function(p,A){A=a.trim(A);if(A.length){s.a_attr[p]=A}})}z=r.children("a:eq(0)").length?r.children("a:eq(0)").clone():r.clone();z.children("ins, i, ul").remove();z=z.html();z=a("<div />").html(z);s.text=z.html();z=r.data();s.data=z?a.extend(true,{},z):null;s.state.opened=r.hasClass("jstree-open");s.state.selected=r.children("a").hasClass("jstree-clicked");s.state.disabled=r.children("a").hasClass("jstree-disabled");if(s.data&&s.data.jstree){for(u in s.data.jstree){if(s.data.jstree.hasOwnProperty(u)){s.state[u]=s.data.jstree[u]}}}z=r.children("a").children(".jstree-themeicon");if(z.length){s.icon=z.hasClass("jstree-themeicon-hidden")?false:z.attr("rel")}if(s.state.icon){s.icon=s.state.icon}z=r.children("ul").children("li");do{y="j"+this._id+"_"+(++this._cnt)}while(v[y]);s.id=s.li_attr.id?s.li_attr.id.toString():y;if(z.length){z.each(a.proxy(function(p,A){q=this._parse_model_from_html(a(A),s.id,x);t=this._model.data[q];s.children.push(q);if(t.children_d.length){s.children_d=s.children_d.concat(t.children_d)}},this));s.children_d=s.children_d.concat(s.children)}else{if(r.hasClass("jstree-closed")){s.state.loaded=false}}if(s.li_attr["class"]){s.li_attr["class"]=s.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")}if(s.a_attr["class"]){s.a_attr["class"]=s.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")}v[s.id]=s;if(s.state.selected){this._data.core.selected.push(s.id)}return s.id},_parse_model_from_flat_json:function(r,x,y){if(!y){y=[]}else{y=y.concat()}if(x){y.unshift(x)}var z=r.id.toString(),w=this._model.data,s=this._model.default_state,u,v,q,t,A={id:z,text:r.text||"",icon:r.icon!==o?r.icon:true,parent:x,parents:y,children:r.children||[],children_d:r.children_d||[],data:r.data,state:{},li_attr:{id:false},a_attr:{href:"#"},original:false};for(u in s){if(s.hasOwnProperty(u)){A.state[u]=s[u]}}if(r&&r.data&&r.data.jstree&&r.data.jstree.icon){A.icon=r.data.jstree.icon}if(r&&r.data){A.data=r.data;if(r.data.jstree){for(u in r.data.jstree){if(r.data.jstree.hasOwnProperty(u)){A.state[u]=r.data.jstree[u]}}}}if(r&&typeof r.state==="object"){for(u in r.state){if(r.state.hasOwnProperty(u)){A.state[u]=r.state[u]}}}if(r&&typeof r.li_attr==="object"){for(u in r.li_attr){if(r.li_attr.hasOwnProperty(u)){A.li_attr[u]=r.li_attr[u]}}}if(!A.li_attr.id){A.li_attr.id=z}if(r&&typeof r.a_attr==="object"){for(u in r.a_attr){if(r.a_attr.hasOwnProperty(u)){A.a_attr[u]=r.a_attr[u]}}}if(r&&r.children&&r.children===true){A.state.loaded=false;A.children=[];A.children_d=[]}w[A.id]=A;for(u=0,v=A.children.length;u<v;u++){q=this._parse_model_from_flat_json(w[A.children[u]],A.id,y);t=w[q];A.children_d.push(q);if(t.children_d.length){A.children_d=A.children_d.concat(t.children_d)}}delete r.data;delete r.children;w[A.id].original=r;if(A.state.selected){this._data.core.selected.push(A.id)}return A.id},_parse_model_from_json:function(r,x,y){if(!y){y=[]}else{y=y.concat()}if(x){y.unshift(x)}var z=false,u,v,q,t,w=this._model.data,s=this._model.default_state,A;do{z="j"+this._id+"_"+(++this._cnt)}while(w[z]);A={id:false,text:typeof r==="string"?r:"",icon:typeof r==="object"&&r.icon!==o?r.icon:true,parent:x,parents:y,children:[],children_d:[],data:null,state:{},li_attr:{id:false},a_attr:{href:"#"},original:false};for(u in s){if(s.hasOwnProperty(u)){A.state[u]=s[u]}}if(r&&r.id){A.id=r.id.toString()}if(r&&r.text){A.text=r.text}if(r&&r.data&&r.data.jstree&&r.data.jstree.icon){A.icon=r.data.jstree.icon}if(r&&r.data){A.data=r.data;if(r.data.jstree){for(u in r.data.jstree){if(r.data.jstree.hasOwnProperty(u)){A.state[u]=r.data.jstree[u]}}}}if(r&&typeof r.state==="object"){for(u in r.state){if(r.state.hasOwnProperty(u)){A.state[u]=r.state[u]}}}if(r&&typeof r.li_attr==="object"){for(u in r.li_attr){if(r.li_attr.hasOwnProperty(u)){A.li_attr[u]=r.li_attr[u]}}}if(A.li_attr.id&&!A.id){A.id=A.li_attr.id.toString()}if(!A.id){A.id=z}if(!A.li_attr.id){A.li_attr.id=A.id}if(r&&typeof r.a_attr==="object"){for(u in r.a_attr){if(r.a_attr.hasOwnProperty(u)){A.a_attr[u]=r.a_attr[u]}}}if(r&&r.children&&r.children.length){for(u=0,v=r.children.length;u<v;u++){q=this._parse_model_from_json(r.children[u],A.id,y);t=w[q];A.children.push(q);if(t.children_d.length){A.children_d=A.children_d.concat(t.children_d)}}A.children_d=A.children_d.concat(A.children)}if(r&&r.children&&r.children===true){A.state.loaded=false;A.children=[];A.children_d=[]}delete r.data;delete r.children;A.original=r;w[A.id]=A;if(A.state.selected){this._data.core.selected.push(A.id)}return A.id},_redraw:function(){var s=this._model.force_full_redraw?this._model.data["#"].children.concat([]):this._model.changed.concat([]),p=document.createElement("UL"),t,q,r;for(q=0,r=s.length;q<r;q++){t=this.redraw_node(s[q],true,this._model.force_full_redraw);if(t&&this._model.force_full_redraw){p.appendChild(t)}}if(this._model.force_full_redraw){p.className=this.get_container_ul()[0].className;this.element.empty().append(p)}this._model.force_full_redraw=false;this._model.changed=[];this.trigger("redraw",{nodes:s})},redraw:function(p){if(p){this._model.force_full_redraw=true}this._redraw()},redraw_node:function(A,r,w){var B=this.get_node(A),D=false,v=false,C=false,u=false,x=false,y=false,p="",q=document,z=this._model.data,t=false,E=false,F=null;if(!B){return false}if(B.id==="#"){return this.redraw(true)}r=r||B.children.length===0;A=!document.querySelector?document.getElementById(B.id):this.element[0].querySelector("#"+("0123456789".indexOf(B.id[0])!==-1?"\\3"+B.id[0]+" "+B.id.substr(1).replace(a.jstree.idregex,"\\$&"):B.id.replace(a.jstree.idregex,"\\$&")));if(!A){r=true;if(!w){D=B.parent!=="#"?a("#"+B.parent.replace(a.jstree.idregex,"\\$&"),this.element)[0]:null;if(D!==null&&(!D||!z[B.parent].state.opened)){return false}v=a.inArray(B.id,D===null?z["#"].children:z[B.parent].children)}}else{A=a(A);if(!w){D=A.parent().parent()[0];if(D===this.element[0]){D=null}v=A.index()}if(!r&&B.children.length&&!A.children(".jstree-children").length){r=true}if(!r){C=A.children(".jstree-children")[0]}E=A.attr("aria-selected");t=A.children(".jstree-anchor")[0]===document.activeElement;A.remove()}A=d.cloneNode(true);p="jstree-node ";for(u in B.li_attr){if(B.li_attr.hasOwnProperty(u)){if(u==="id"){continue}if(u!=="class"){A.setAttribute(u,B.li_attr[u])}else{p+=B.li_attr[u]}}}if(E&&E!=="false"){A.setAttribute("aria-selected",true)}if(B.state.loaded&&!B.children.length){p+=" jstree-leaf"}else{p+=B.state.opened&&B.state.loaded?" jstree-open":" jstree-closed";A.setAttribute("aria-expanded",(B.state.opened&&B.state.loaded))}if(B.parent!==null&&z[B.parent].children[z[B.parent].children.length-1]===B.id){p+=" jstree-last"}A.id=B.id;A.className=p;p=(B.state.selected?" jstree-clicked":"")+(B.state.disabled?" jstree-disabled":"");for(x in B.a_attr){if(B.a_attr.hasOwnProperty(x)){if(x==="href"&&B.a_attr[x]==="#"){continue}if(x!=="class"){A.childNodes[1].setAttribute(x,B.a_attr[x])}else{p+=" "+B.a_attr[x]}}}if(p.length){A.childNodes[1].className="jstree-anchor "+p}if((B.icon&&B.icon!==true)||B.icon===false){if(B.icon===false){A.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden"}else{if(B.icon.indexOf("/")===-1&&B.icon.indexOf(".")===-1){A.childNodes[1].childNodes[0].className+=" "+B.icon+" jstree-themeicon-custom"}else{A.childNodes[1].childNodes[0].style.backgroundImage="url("+B.icon+")";A.childNodes[1].childNodes[0].style.backgroundPosition="center center";A.childNodes[1].childNodes[0].style.backgroundSize="auto";A.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom"}}}A.childNodes[1].innerHTML+=B.text;if(r&&B.children.length&&B.state.opened&&B.state.loaded){y=q.createElement("UL");y.setAttribute("role","group");y.className="jstree-children";for(u=0,x=B.children.length;u<x;u++){y.appendChild(this.redraw_node(B.children[u],r,true))}A.appendChild(y)}if(C){A.appendChild(C)}if(!w){if(!D){D=this.element[0]}for(u=0,x=D.childNodes.length;u<x;u++){if(D.childNodes[u]&&D.childNodes[u].className&&D.childNodes[u].className.indexOf("jstree-children")!==-1){F=D.childNodes[u];break}}if(!F){F=q.createElement("UL");F.setAttribute("role","group");F.className="jstree-children";D.appendChild(F)}D=F;if(v<D.childNodes.length){D.insertBefore(A,D.childNodes[v])}else{D.appendChild(A)}if(t){A.childNodes[1].focus()}}if(B.state.opened&&!B.state.loaded){B.state.opened=false;setTimeout(a.proxy(function(){this.open_node(B.id,false,0)},this),0)}return A},open_node:function(s,q,p){var v,w,r,u;if(a.isArray(s)){s=s.slice();for(v=0,w=s.length;v<w;v++){this.open_node(s[v],q,p)}return true}s=this.get_node(s);if(!s||s.id==="#"){return false}p=p===o?this.settings.core.animation:p;if(!this.is_closed(s)){if(q){q.call(this,s,false)}return false}if(!this.is_loaded(s)){if(this.is_loading(s)){return setTimeout(a.proxy(function(){this.open_node(s,q,p)},this),500)}this.load_node(s,function(t,x){return x?this.open_node(t,q,p):(q?q.call(this,t,false):false)})}else{r=this.get_node(s,true);u=this;if(r.length){if(s.children.length&&!this._firstChild(r.children(".jstree-children")[0])){s.state.opened=true;this.redraw_node(s,true);r=this.get_node(s,true)}if(!p){this.trigger("before_open",{node:s});r[0].className=r[0].className.replace("jstree-closed","jstree-open");r[0].setAttribute("aria-expanded",true)}else{this.trigger("before_open",{node:s});r.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",true).children(".jstree-children").stop(true,true).slideDown(p,function(){this.style.display="";u.trigger("after_open",{node:s})})}}s.state.opened=true;if(q){q.call(this,s,true)}if(!r.length){this.trigger("before_open",{node:s})}this.trigger("open_node",{node:s});if(!p||!r.length){this.trigger("after_open",{node:s})}}},_open_to:function(s){s=this.get_node(s);if(!s||s.id==="#"){return false}var q,r,t=s.parents;for(q=0,r=t.length;q<r;q+=1){if(q!=="#"){this.open_node(t[q],false,0)}}return a("#"+s.id.replace(a.jstree.idregex,"\\$&"),this.element)},close_node:function(r,p){var u,v,s,q;if(a.isArray(r)){r=r.slice();for(u=0,v=r.length;u<v;u++){this.close_node(r[u],p)}return true}r=this.get_node(r);if(!r||r.id==="#"){return false}if(this.is_closed(r)){return false}p=p===o?this.settings.core.animation:p;s=this;q=this.get_node(r,true);if(q.length){if(!p){q[0].className=q[0].className.replace("jstree-open","jstree-closed");q.attr("aria-expanded",false).children(".jstree-children").remove()}else{q.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",false).children(".jstree-children").stop(true,true).slideUp(p,function(){this.style.display="";q.children(".jstree-children").remove();s.trigger("after_close",{node:r})})}}r.state.opened=false;this.trigger("close_node",{node:r});if(!p||!q.length){this.trigger("after_close",{node:r})}},toggle_node:function(p){var q,r;if(a.isArray(p)){p=p.slice();for(q=0,r=p.length;q<r;q++){this.toggle_node(p[q])}return true}if(this.is_closed(p)){return this.open_node(p)}if(this.is_open(p)){return this.close_node(p)}},open_all:function(u,q,v){if(!u){u="#"}u=this.get_node(u);if(!u){return false}var r=u.id==="#"?this.get_container_ul():this.get_node(u,true),s,t,p;if(!r.length){for(s=0,t=u.children_d.length;s<t;s++){if(this.is_closed(this._model.data[u.children_d[s]])){this._model.data[u.children_d[s]].state.opened=true}}return this.trigger("open_all",{node:u})}v=v||r;p=this;r=this.is_closed(u)?r.find(".jstree-closed").addBack():r.find(".jstree-closed");r.each(function(){p.open_node(this,function(w,x){if(x&&this.is_parent(w)){this.open_all(w,q,v)}},q||0)});if(v.find(".jstree-closed").length===0){this.trigger("open_all",{node:this.get_node(v)})}},close_all:function(u,q){if(!u){u="#"}u=this.get_node(u);if(!u){return false}var r=u.id==="#"?this.get_container_ul():this.get_node(u,true),p=this,s,t;if(!r.length){for(s=0,t=u.children_d.length;s<t;s++){this._model.data[u.children_d[s]].state.opened=false}return this.trigger("close_all",{node:u})}r=this.is_open(u)?r.find(".jstree-open").addBack():r.find(".jstree-open");a(r.get().reverse()).each(function(){p.close_node(this,q||0)});this.trigger("close_all",{node:u})},is_disabled:function(p){p=this.get_node(p);return p&&p.state&&p.state.disabled},enable_node:function(p){var q,r;if(a.isArray(p)){p=p.slice();for(q=0,r=p.length;q<r;q++){this.enable_node(p[q])}return true}p=this.get_node(p);if(!p||p.id==="#"){return false}p.state.disabled=false;this.get_node(p,true).children(".jstree-anchor").removeClass("jstree-disabled");this.trigger("enable_node",{node:p})},disable_node:function(p){var q,r;if(a.isArray(p)){p=p.slice();for(q=0,r=p.length;q<r;q++){this.disable_node(p[q])}return true}p=this.get_node(p);if(!p||p.id==="#"){return false}p.state.disabled=true;this.get_node(p,true).children(".jstree-anchor").addClass("jstree-disabled");this.trigger("disable_node",{node:p})},activate_node:function(w,r){if(this.is_disabled(w)){return false}this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==o?this.get_node(this._data.core.last_clicked.id):null;if(this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected){this._data.core.last_clicked=null}if(!this._data.core.last_clicked&&this._data.core.selected.length){this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])}if(!this.settings.core.multiple||(!r.metaKey&&!r.ctrlKey&&!r.shiftKey)||(r.shiftKey&&(!this._data.core.last_clicked||!this.get_parent(w)||this.get_parent(w)!==this._data.core.last_clicked.parent))){if(!this.settings.core.multiple&&(r.metaKey||r.ctrlKey||r.shiftKey)&&this.is_selected(w)){this.deselect_node(w,false,r)}else{this.deselect_all(true);this.select_node(w,false,false,r);this._data.core.last_clicked=this.get_node(w)}}else{if(r.shiftKey){var v=this.get_node(w).id,u=this._data.core.last_clicked.id,x=this.get_node(this._data.core.last_clicked.parent).children,q=false,s,t;for(s=0,t=x.length;s<t;s+=1){if(x[s]===v){q=!q}if(x[s]===u){q=!q}if(q||x[s]===v||x[s]===u){this.select_node(x[s],false,false,r)}else{this.deselect_node(x[s],false,r)}}}else{if(!this.is_selected(w)){this.select_node(w,false,false,r)}else{this.deselect_node(w,false,r)}}}this.trigger("activate_node",{node:this.get_node(w)})},hover_node:function(q){q=this.get_node(q,true);if(!q||!q.length||q.children(".jstree-hovered").length){return false}var p=this.element.find(".jstree-hovered"),r=this.element;if(p&&p.length){this.dehover_node(p)}q.children(".jstree-anchor").addClass("jstree-hovered");this.trigger("hover_node",{node:this.get_node(q)});setTimeout(function(){r.attr("aria-activedescendant",q[0].id);q.attr("aria-selected",true)},0)},dehover_node:function(p){p=this.get_node(p,true);if(!p||!p.length||!p.children(".jstree-hovered").length){return false}p.attr("aria-selected",false).children(".jstree-anchor").removeClass("jstree-hovered");this.trigger("dehover_node",{node:this.get_node(p)})},select_node:function(r,t,s,q){var p,u,v,w;if(a.isArray(r)){r=r.slice();for(u=0,v=r.length;u<v;u++){this.select_node(r[u],t,s,q)}return true}r=this.get_node(r);if(!r||r.id==="#"){return false}p=this.get_node(r,true);if(!r.state.selected){r.state.selected=true;this._data.core.selected.push(r.id);if(!s){p=this._open_to(r)}if(p&&p.length){p.children(".jstree-anchor").addClass("jstree-clicked")}this.trigger("select_node",{node:r,selected:this._data.core.selected,event:q});if(!t){this.trigger("changed",{action:"select_node",node:r,selected:this._data.core.selected,event:q})}}},deselect_node:function(r,s,q){var t,u,p;if(a.isArray(r)){r=r.slice();for(t=0,u=r.length;t<u;t++){this.deselect_node(r[t],s,q)}return true}r=this.get_node(r);if(!r||r.id==="#"){return false}p=this.get_node(r,true);if(r.state.selected){r.state.selected=false;this._data.core.selected=a.vakata.array_remove_item(this._data.core.selected,r.id);if(p.length){p.children(".jstree-anchor").removeClass("jstree-clicked")}this.trigger("deselect_node",{node:r,selected:this._data.core.selected,event:q});if(!s){this.trigger("changed",{action:"deselect_node",node:r,selected:this._data.core.selected,event:q})}}},select_all:function(r){var s=this._data.core.selected.concat([]),p,q;this._data.core.selected=this._model.data["#"].children_d.concat();for(p=0,q=this._data.core.selected.length;p<q;p++){if(this._model.data[this._data.core.selected[p]]){this._model.data[this._data.core.selected[p]].state.selected=true}}this.redraw(true);this.trigger("select_all",{selected:this._data.core.selected});if(!r){this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:s})}},deselect_all:function(r){var s=this._data.core.selected.concat([]),p,q;for(p=0,q=this._data.core.selected.length;p<q;p++){if(this._model.data[this._data.core.selected[p]]){this._model.data[this._data.core.selected[p]].state.selected=false}}this._data.core.selected=[];this.element.find(".jstree-clicked").removeClass("jstree-clicked");this.trigger("deselect_all",{selected:this._data.core.selected,node:s});if(!r){this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:s})}},is_selected:function(p){p=this.get_node(p);if(!p||p.id==="#"){return false}return p.state.selected},get_selected:function(p){return p?a.map(this._data.core.selected,a.proxy(function(q){return this.get_node(q)},this)):this._data.core.selected},get_top_selected:function(p){var v=this.get_selected(true),u={},q,r,s,t;for(q=0,r=v.length;q<r;q++){u[v[q].id]=v[q]}for(q=0,r=v.length;q<r;q++){for(s=0,t=v[q].children_d.length;s<t;s++){if(u[v[q].children_d[s]]){delete u[v[q].children_d[s]]}}}v=[];for(q in u){if(u.hasOwnProperty(q)){v.push(q)}}return p?a.map(v,a.proxy(function(w){return this.get_node(w)},this)):v},get_bottom_selected:function(p){var t=this.get_selected(true),s=[],q,r;for(q=0,r=t.length;q<r;q++){if(!t[q].children.length){s.push(t[q].id)}}return p?a.map(s,a.proxy(function(u){return this.get_node(u)},this)):s},get_state:function(){var q={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},
/*
					'themes' : {
						'name' : this.get_theme(),
						'icons' : this._data.core.themes.icons,
						'dots' : this._data.core.themes.dots
					},
					*/
selected:[]}},p;for(p in this._model.data){if(this._model.data.hasOwnProperty(p)){if(p!=="#"){if(this._model.data[p].state.opened){q.core.open.push(p)}if(this._model.data[p].state.selected){q.core.selected.push(p)}}}}return q},set_state:function(u,q){if(u){if(u.core){var s,r,v,p;if(u.core.open){if(!a.isArray(u.core.open)){delete u.core.open;this.set_state(u,q);return false}s=true;r=false;v=this;a.each(u.core.open.concat([]),function(t,w){r=v.get_node(w);if(r){if(v.is_loaded(w)){if(v.is_closed(w)){v.open_node(w,false,0)}if(u&&u.core&&u.core.open){a.vakata.array_remove_item(u.core.open,w)}}else{if(!v.is_loading(w)){v.open_node(w,a.proxy(function(x,y){if(!y&&u&&u.core&&u.core.open){a.vakata.array_remove_item(u.core.open,x.id)}this.set_state(u,q)},v),0)}s=false}}});if(s){delete u.core.open;this.set_state(u,q)}return false}if(u.core.scroll){if(u.core.scroll&&u.core.scroll.left!==o){this.element.scrollLeft(u.core.scroll.left)}if(u.core.scroll&&u.core.scroll.top!==o){this.element.scrollTop(u.core.scroll.top)}delete u.core.scroll;this.set_state(u,q);return false;
/*
					if(state.core.themes) {
						if(state.core.themes.name) {
							this.set_theme(state.core.themes.name);
						}
						if(typeof state.core.themes.dots !== 'undefined') {
							this[ state.core.themes.dots ? "show_dots" : "hide_dots" ]();
						}
						if(typeof state.core.themes.icons !== 'undefined') {
							this[ state.core.themes.icons ? "show_icons" : "hide_icons" ]();
						}
						delete state.core.themes;
						delete state.core.open;
						this.set_state(state, callback);
						return false;
					}
					*/
}if(u.core.selected){p=this;this.deselect_all();a.each(u.core.selected,function(t,w){p.select_node(w)});delete u.core.selected;this.set_state(u,q);return false}if(a.isEmptyObject(u.core)){delete u.core;this.set_state(u,q);return false}}if(a.isEmptyObject(u)){u=null;if(q){q.call(this)}this.trigger("set_state");return false}return true}return false},refresh:function(q){this._data.core.state=this.get_state();this._cnt=0;this._model.data={"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:false}}};var p=this.get_container_ul()[0].className;if(!q){this.element.html("<ul class='"+p+"'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>")}this.load_node("#",function(r,t){if(t){this.get_container_ul()[0].className=p;this.set_state(a.extend(true,{},this._data.core.state),function(){this.trigger("refresh")})}this._data.core.state=null})},refresh_node:function(p){p=this.get_node(p);if(!p||p.id==="#"){return false}var q=[],r=this._data.core.selected.concat([]);if(p.state.opened===true){q.push(p.id)}this.get_node(p,true).find(".jstree-open").each(function(){q.push(this.id)});this._load_nodes(q,a.proxy(function(s){this.open_node(s,false,0);this.select_node(this._data.core.selected);this.trigger("refresh_node",{node:p,nodes:s})},this))},set_id:function(t,q){t=this.get_node(t);if(!t||t.id==="#"){return false}var p,r,s=this._model.data;q=q.toString();s[t.parent].children[a.inArray(t.id,s[t.parent].children)]=q;for(p=0,r=t.parents.length;p<r;p++){s[t.parents[p]].children_d[a.inArray(t.id,s[t.parents[p]].children_d)]=q}for(p=0,r=t.children.length;p<r;p++){s[t.children[p]].parent=q}for(p=0,r=t.children_d.length;p<r;p++){s[t.children_d[p]].parents[a.inArray(t.id,s[t.children_d[p]].parents)]=q}p=a.inArray(t.id,this._data.core.selected);if(p!==-1){this._data.core.selected[p]=q}p=this.get_node(t.id,true);if(p){p.attr("id",q)}delete s[t.id];t.id=q;s[q]=t;return true},get_text:function(p){p=this.get_node(p);return(!p||p.id==="#")?false:p.text},set_text:function(q,u){var r,s,p,t;if(a.isArray(q)){q=q.slice();for(r=0,s=q.length;r<s;r++){this.set_text(q[r],u)}return true}q=this.get_node(q);if(!q||q.id==="#"){return false}q.text=u;p=this.get_node(q,true);if(p.length){p=p.children(".jstree-anchor:eq(0)");t=p.children("I").clone();p.html(u).prepend(t);this.trigger("set_text",{obj:q,text:u})}return true},get_json:function(s,t,p){s=this.get_node(s||"#");if(!s){return false}if(t&&t.flat&&!p){p=[]}var u={id:s.id,text:s.text,icon:this.get_icon(s),li_attr:s.li_attr,a_attr:s.a_attr,state:{},data:t&&t.no_data?false:s.data},q,r;if(t&&t.flat){u.parent=s.parent}else{u.children=[]}if(!t||!t.no_state){for(q in s.state){if(s.state.hasOwnProperty(q)){u.state[q]=s.state[q]}}}if(t&&t.no_id){delete u.id;if(u.li_attr&&u.li_attr.id){delete u.li_attr.id}}if(t&&t.flat&&s.id!=="#"){p.push(u)}if(!t||!t.no_children){for(q=0,r=s.children.length;q<r;q++){if(t&&t.flat){this.get_json(s.children[q],t,p)}else{u.children.push(this.get_json(s.children[q],t))}}}return t&&t.flat?p:(s.id==="#"?u.children:u)},create_node:function(v,u,w,p,s){if(v===null){v="#"}v=this.get_node(v);if(!v){return false}w=w===o?"last":w;if(!w.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(v)){return this.load_node(v,function(){this.create_node(v,u,w,p,true)})}if(!u){u={text:this.get_string("New node")}}if(u.text===o){u.text=this.get_string("New node")}var x,q,r,t;if(v.id==="#"){if(w==="before"){w="first"}if(w==="after"){w="last"}}switch(w){case"before":x=this.get_node(v.parent);w=a.inArray(v.id,x.children);v=x;break;case"after":x=this.get_node(v.parent);w=a.inArray(v.id,x.children)+1;v=x;break;case"inside":case"first":w=0;break;case"last":w=v.children.length;break;default:if(!w){w=0}break}if(w>v.children.length){w=v.children.length}if(!u.id){u.id=true}if(!this.check("create_node",u,v,w)){this.settings.core.error.call(this,this._data.core.last_error);return false}if(u.id===true){delete u.id}u=this._parse_model_from_json(u,v.id,v.parents.concat());if(!u){return false}x=this.get_node(u);q=[];q.push(u);q=q.concat(x.children_d);this.trigger("model",{nodes:q,parent:v.id});v.children_d=v.children_d.concat(q);for(r=0,t=v.parents.length;r<t;r++){this._model.data[v.parents[r]].children_d=this._model.data[v.parents[r]].children_d.concat(q)}u=x;x=[];for(r=0,t=v.children.length;r<t;r++){x[r>=w?r+1:r]=v.children[r]}x[w]=u.id;v.children=x;this.redraw_node(v,true);if(p){p.call(this,this.get_node(u))}this.trigger("create_node",{node:this.get_node(u),parent:v.id,position:w});return u.id},rename_node:function(p,t){var r,s,q;if(a.isArray(p)){p=p.slice();for(r=0,s=p.length;r<s;r++){this.rename_node(p[r],t)}return true}p=this.get_node(p);if(!p||p.id==="#"){return false}q=p.text;if(!this.check("rename_node",p,this.get_parent(p),t)){this.settings.core.error.call(this,this._data.core.last_error);return false}this.set_text(p,t);this.trigger("rename_node",{node:p,text:t,old:q});return true},delete_node:function(u){var x,y,v,w,z,q,r,s,t,p;if(a.isArray(u)){u=u.slice();for(x=0,y=u.length;x<y;x++){this.delete_node(u[x])}return true}u=this.get_node(u);if(!u||u.id==="#"){return false}v=this.get_node(u.parent);w=a.inArray(u.id,v.children);p=false;if(!this.check("delete_node",u,v,w)){this.settings.core.error.call(this,this._data.core.last_error);return false}if(w!==-1){v.children=a.vakata.array_remove(v.children,w)}z=u.children_d.concat([]);z.push(u.id);for(s=0,t=z.length;s<t;s++){for(q=0,r=u.parents.length;q<r;q++){w=a.inArray(z[s],this._model.data[u.parents[q]].children_d);if(w!==-1){this._model.data[u.parents[q]].children_d=a.vakata.array_remove(this._model.data[u.parents[q]].children_d,w)}}if(this._model.data[z[s]].state.selected){p=true;w=a.inArray(z[s],this._data.core.selected);if(w!==-1){this._data.core.selected=a.vakata.array_remove(this._data.core.selected,w)}}}this.trigger("delete_node",{node:u,parent:v.id});if(p){this.trigger("changed",{action:"delete_node",node:u,selected:this._data.core.selected,parent:v.id})}for(s=0,t=z.length;s<t;s++){delete this._model.data[z[s]]}this.redraw_node(v,true);return true},check:function(q,s,t,u,r){s=s&&s.id?s:this.get_node(s);t=t&&t.id?t:this.get_node(t);var v=q.match(/^move_node|copy_node|create_node$/i)?t:s,p=this.settings.core.check_callback;if(q==="move_node"||q==="copy_node"){if((!r||!r.is_multi)&&(s.id===t.id||a.inArray(s.id,t.children)===u||a.inArray(t.id,s.children_d)!==-1)){this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:q,pos:u,obj:s&&s.id?s.id:false,par:t&&t.id?t.id:false})};return false}}if(v&&v.data){v=v.data}if(v&&v.functions&&(v.functions[q]===false||v.functions[q]===true)){if(v.functions[q]===false){this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+q,data:JSON.stringify({chk:q,pos:u,obj:s&&s.id?s.id:false,par:t&&t.id?t.id:false})}}return v.functions[q]}if(p===false||(a.isFunction(p)&&p.call(this,q,s,t,u,r)===false)||(p&&p[q]===false)){this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+q,data:JSON.stringify({chk:q,pos:u,obj:s&&s.id?s.id:false,par:t&&t.id?t.id:false})};return false}return true},last_error:function(){return this._data.core.last_error},move_node:function(z,E,F,q,t){var G,H,B,C,y,A,u,r,I,s,v,w,x,D;E=this.get_node(E);F=F===o?0:F;if(!E){return false}if(!F.toString().match(/^(before|after)$/)&&!t&&!this.is_loaded(E)){return this.load_node(E,function(){this.move_node(z,E,F,q,true)})}if(a.isArray(z)){z=z.reverse().slice();for(G=0,H=z.length;G<H;G++){this.move_node(z[G],E,F,q,t)}return true}z=z&&z.id?z:this.get_node(z);if(!z||z.id==="#"){return false}B=(z.parent||"#").toString();y=(!F.toString().match(/^(before|after)$/)||E.id==="#")?E:this.get_node(E.parent);A=z.instance?z.instance:(this._model.data[z.id]?this:a.jstree.reference(z.id));u=!A||!A._id||(this._id!==A._id);C=A&&A._id&&B&&A._model.data[B]&&A._model.data[B].children?a.inArray(z.id,A._model.data[B].children):-1;if(u){if(this.copy_node(z,E,F,q,t)){if(A){A.delete_node(z)}return true}return false}if(y.id==="#"){if(F==="before"){F="first"}if(F==="after"){F="last"}}switch(F){case"before":F=a.inArray(E.id,y.children);break;case"after":F=a.inArray(E.id,y.children)+1;break;case"inside":case"first":F=0;break;case"last":F=y.children.length;break;default:if(!F){F=0}break}if(F>y.children.length){F=y.children.length}if(!this.check("move_node",z,y,F,{core:true,is_multi:(A&&A._id&&A._id!==this._id),is_foreign:(!A||!A._id)})){this.settings.core.error.call(this,this._data.core.last_error);return false}if(z.parent===y.id){r=y.children.concat();I=a.inArray(z.id,r);if(I!==-1){r=a.vakata.array_remove(r,I);if(F>I){F--}}I=[];for(s=0,v=r.length;s<v;s++){I[s>=F?s+1:s]=r[s]}I[F]=z.id;y.children=I;this._node_changed(y.id);this.redraw(y.id==="#")}else{I=z.children_d.concat();I.push(z.id);for(s=0,v=z.parents.length;s<v;s++){r=[];D=A._model.data[z.parents[s]].children_d;for(w=0,x=D.length;w<x;w++){if(a.inArray(D[w],I)===-1){r.push(D[w])}}A._model.data[z.parents[s]].children_d=r}A._model.data[B].children=a.vakata.array_remove_item(A._model.data[B].children,z.id);for(s=0,v=y.parents.length;s<v;s++){this._model.data[y.parents[s]].children_d=this._model.data[y.parents[s]].children_d.concat(I)}r=[];for(s=0,v=y.children.length;s<v;s++){r[s>=F?s+1:s]=y.children[s]}r[F]=z.id;y.children=r;y.children_d.push(z.id);y.children_d=y.children_d.concat(z.children_d);z.parent=y.id;I=y.parents.concat();I.unshift(y.id);D=z.parents.length;z.parents=I;I=I.concat();for(s=0,v=z.children_d.length;s<v;s++){this._model.data[z.children_d[s]].parents=this._model.data[z.children_d[s]].parents.slice(0,D*-1);Array.prototype.push.apply(this._model.data[z.children_d[s]].parents,I)}this._node_changed(B);this._node_changed(y.id);this.redraw(B==="#"||y.id==="#")}if(q){q.call(this,z,y,F)}this.trigger("move_node",{node:z,parent:y.id,position:F,old_parent:B,old_position:C,is_multi:(A&&A._id&&A._id!==this._id),is_foreign:(!A||!A._id),old_instance:A,new_instance:this});return true},copy_node:function(x,A,B,p,s){var C,D,q,E,r,u,w,z,v,y,t;A=this.get_node(A);B=B===o?0:B;if(!A){return false}if(!B.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(A)){return this.load_node(A,function(){this.copy_node(x,A,B,p,true)})}if(a.isArray(x)){x=x.reverse().slice();for(C=0,D=x.length;C<D;C++){this.copy_node(x[C],A,B,p,s)}return true}x=x&&x.id?x:this.get_node(x);if(!x||x.id==="#"){return false}z=(x.parent||"#").toString();v=(!B.toString().match(/^(before|after)$/)||A.id==="#")?A:this.get_node(A.parent);y=x.instance?x.instance:(this._model.data[x.id]?this:a.jstree.reference(x.id));t=!y||!y._id||(this._id!==y._id);if(v.id==="#"){if(B==="before"){B="first"}if(B==="after"){B="last"}}switch(B){case"before":B=a.inArray(A.id,v.children);break;case"after":B=a.inArray(A.id,v.children)+1;break;case"inside":case"first":B=0;break;case"last":B=v.children.length;break;default:if(!B){B=0}break}if(B>v.children.length){B=v.children.length}if(!this.check("copy_node",x,v,B,{core:true,is_multi:(y&&y._id&&y._id!==this._id),is_foreign:(!y||!y._id)})){this.settings.core.error.call(this,this._data.core.last_error);return false}w=y?y.get_json(x,{no_id:true,no_data:true,no_state:true}):x;if(!w){return false}if(w.id===true){delete w.id}w=this._parse_model_from_json(w,v.id,v.parents.concat());if(!w){return false}E=this.get_node(w);if(x&&x.state&&x.state.loaded===false){E.state.loaded=false}q=[];q.push(w);q=q.concat(E.children_d);this.trigger("model",{nodes:q,parent:v.id});for(r=0,u=v.parents.length;r<u;r++){this._model.data[v.parents[r]].children_d=this._model.data[v.parents[r]].children_d.concat(q)}q=[];for(r=0,u=v.children.length;r<u;r++){q[r>=B?r+1:r]=v.children[r]}q[B]=E.id;v.children=q;v.children_d.push(E.id);v.children_d=v.children_d.concat(E.children_d);this._node_changed(v.id);this.redraw(v.id==="#");if(p){p.call(this,E,v,B)}this.trigger("copy_node",{node:E,original:x,parent:v.id,position:B,old_parent:z,old_position:y&&y._id&&z&&y._model.data[z]&&y._model.data[z].children?a.inArray(x.id,y._model.data[z].children):-1,is_multi:(y&&y._id&&y._id!==this._id),is_foreign:(!y||!y._id),old_instance:y,new_instance:this});return E.id},cut:function(q){if(!q){q=this._data.core.selected.concat()}if(!a.isArray(q)){q=[q]}if(!q.length){return false}var t=[],p,r,s;for(r=0,s=q.length;r<s;r++){p=this.get_node(q[r]);if(p&&p.id&&p.id!=="#"){t.push(p)}}if(!t.length){return false}i=t;g=this;h="move_node";this.trigger("cut",{node:q})},copy:function(q){if(!q){q=this._data.core.selected.concat()}if(!a.isArray(q)){q=[q]}if(!q.length){return false}var t=[],p,r,s;for(r=0,s=q.length;r<s;r++){p=this.get_node(q[r]);if(p&&p.id&&p.id!=="#"){t.push(p)}}if(!t.length){return false}i=t;g=this;h="copy_node";this.trigger("copy",{node:q})},get_buffer:function(){return{mode:h,node:i,inst:g}},can_paste:function(){return h!==false&&i!==false},paste:function(p,q){p=this.get_node(p);if(!p||!h||!h.match(/^(copy_node|move_node)$/)||!i){return false}if(this[h](i,p,q)){this.trigger("paste",{parent:p.id,node:i,mode:h})}i=false;h=false;g=false},edit:function(x,q){x=this._open_to(x);if(!x||!x.length){return false}if(this.settings.core.check_callback===false){this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"};this.settings.core.error.call(this,this._data.core.last_error);return false}var y=this._data.core.rtl,B=this.element.width(),p=x.children(".jstree-anchor"),z=a("<span>")
/*
				oi = obj.children("i:visible"),
				ai = a.children("i:visible"),
				w1 = oi.width() * oi.length,
				w2 = ai.width() * ai.length,
				*/
,A=typeof q==="string"?q:this.get_text(x),u=a("<div />",{css:{position:"absolute",top:"-200px",left:(y?"0px":"-1000px"),visibility:"hidden"}}).appendTo("body"),v=a("<input />",{value:A,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:(this._data.core.li_height)+"px",lineHeight:(this._data.core.li_height)+"px",width:"150px"},blur:a.proxy(function(){var s=z.children(".jstree-rename-input"),t=s.val();if(t===""){t=A}u.remove();z.replaceWith(p);z.remove();this.set_text(x,A);if(this.rename_node(x,t)===false){this.set_text(x,A)}},this),keydown:function(s){var t=s.which;if(t===27){this.value=A}if(t===27||t===13||t===37||t===38||t===39||t===40||t===32){s.stopImmediatePropagation()}if(t===27||t===13){s.preventDefault();this.blur()}},click:function(s){s.stopImmediatePropagation()},mousedown:function(s){s.stopImmediatePropagation()},keyup:function(s){v.width(Math.min(u.text("pW"+this.value).width(),B))},keypress:function(s){if(s.which===13){return false}}}),r={fontFamily:p.css("fontFamily")||"",fontSize:p.css("fontSize")||"",fontWeight:p.css("fontWeight")||"",fontStyle:p.css("fontStyle")||"",fontStretch:p.css("fontStretch")||"",fontVariant:p.css("fontVariant")||"",letterSpacing:p.css("letterSpacing")||"",wordSpacing:p.css("wordSpacing")||""};this.set_text(x,"");z.attr("class",p.attr("class")).append(p.contents().clone()).append(v);p.replaceWith(z);u.css(r);v.css(r).width(Math.min(u.text("pW"+v[0].value).width(),B))[0].select()},set_theme:function(q,r){if(!q){return false}if(r===true){var p=this.settings.core.themes.dir;if(!p){p=a.jstree.path+"/themes"}r=p+"/"+q+"/style.css"}if(r&&a.inArray(r,m)===-1){a("head").append('<link rel="stylesheet" href="'+r+'" type="text/css" />');m.push(r)}if(this._data.core.themes.name){this.element.removeClass("jstree-"+this._data.core.themes.name)}this._data.core.themes.name=q;this.element.addClass("jstree-"+q);this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+q+"-responsive");this.trigger("set_theme",{theme:q})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(p){if(this._data.core.themes.variant){this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)}this._data.core.themes.variant=p;if(p){this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)}},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=true;this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=false;this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){if(this._data.core.themes.stripes){this.hide_stripes()}else{this.show_stripes()}},show_dots:function(){this._data.core.themes.dots=true;this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=false;this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){if(this._data.core.themes.dots){this.hide_dots()}else{this.show_dots()}},show_icons:function(){this._data.core.themes.icons=true;this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=false;this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){if(this._data.core.themes.icons){this.hide_icons()}else{this.show_icons()}},set_icon:function(r,q){var t,u,p,s;if(a.isArray(r)){r=r.slice();for(t=0,u=r.length;t<u;t++){this.set_icon(r[t],q)}return true}r=this.get_node(r);if(!r||r.id==="#"){return false}s=r.icon;r.icon=q;p=this.get_node(r,true).children(".jstree-anchor").children(".jstree-themeicon");if(q===false){this.hide_icon(r)}else{if(q===true){p.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel")}else{if(q.indexOf("/")===-1&&q.indexOf(".")===-1){p.removeClass(s).css("background","");p.addClass(q+" jstree-themeicon-custom").attr("rel",q)}else{p.removeClass(s).css("background","");p.addClass("jstree-themeicon-custom").css("background","url('"+q+"') center center no-repeat").attr("rel",q)}}}return true},get_icon:function(p){p=this.get_node(p);return(!p||p.id==="#")?false:p.icon},hide_icon:function(p){var q,r;if(a.isArray(p)){p=p.slice();for(q=0,r=p.length;q<r;q++){this.hide_icon(p[q])}return true}p=this.get_node(p);if(!p||p==="#"){return false}p.icon=false;this.get_node(p,true).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden");return true},show_icon:function(q){var r,s,p;if(a.isArray(q)){q=q.slice();for(r=0,s=q.length;r<s;r++){this.show_icon(q[r])}return true}q=this.get_node(q);if(!q||q==="#"){return false}p=this.get_node(q,true);q.icon=p.length?p.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):true;if(!q.icon){q.icon=true}p.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden");return true}};a.vakata={};a.vakata.attributes=function(q,r){q=a(q)[0];var p=r?{}:[];if(q&&q.attributes){a.each(q.attributes,function(s,t){if(a.inArray(t.nodeName.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])!==-1){return}if(t.nodeValue!==null&&a.trim(t.nodeValue)!==""){if(r){p[t.nodeName]=t.nodeValue}else{p.push(t.nodeName)}}})}return p};a.vakata.array_unique=function(q){var p=[],r,s,t;for(r=0,t=q.length;r<t;r++){for(s=0;s<=r;s++){if(q[r]===q[s]){break}}if(s===r){p.push(q[r])}}return p};a.vakata.array_remove=function(p,q,s){var r=p.slice((s||q)+1||p.length);p.length=q<0?p.length+q:q;p.push.apply(p,r);return p};a.vakata.array_remove_item=function(p,q){var r=a.inArray(q,p);return r!==-1?a.vakata.array_remove(p,r):p};var c=document.createElement("I");c.className="jstree-icon jstree-checkbox";a.jstree.defaults.checkbox={visible:true,three_state:true,whole_node:true,keep_selected_style:true,cascade:""};a.jstree.plugins.checkbox=function(p,q){this.bind=function(){q.bind.call(this);this._data.checkbox.uto=false;if(this.settings.checkbox.three_state){this.settings.checkbox.cascade="up+down+undetermined"}this.element.on("init.jstree",a.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible;if(!this.settings.checkbox.keep_selected_style){this.element.addClass("jstree-checkbox-no-clicked")}},this)).on("loading.jstree",a.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this));if(this.settings.checkbox.cascade.indexOf("undetermined")!==-1){this.element.on("changed.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",a.proxy(function(){if(this._data.checkbox.uto){clearTimeout(this._data.checkbox.uto)}this._data.checkbox.uto=setTimeout(a.proxy(this._undetermined,this),50)},this))}if(this.settings.checkbox.cascade.indexOf("up")!==-1||this.settings.checkbox.cascade.indexOf("down")!==-1){this.element.on("model.jstree",a.proxy(function(w,u){var B=this._model.data,C=B[u.parent],v=u.nodes,t=[],r,x,y,z,A,E,D=this.settings.checkbox.cascade;if(D.indexOf("down")!==-1){if(C.state.selected){for(x=0,y=v.length;x<y;x++){B[v[x]].state.selected=true}this._data.core.selected=this._data.core.selected.concat(v)}else{for(x=0,y=v.length;x<y;x++){if(B[v[x]].state.selected){for(z=0,A=B[v[x]].children_d.length;z<A;z++){B[B[v[x]].children_d[z]].state.selected=true}this._data.core.selected=this._data.core.selected.concat(B[v[x]].children_d)}}}}if(D.indexOf("up")!==-1){for(x=0,y=C.children_d.length;x<y;x++){if(!B[C.children_d[x]].children.length){t.push(B[C.children_d[x]].parent)}}t=a.vakata.array_unique(t);for(z=0,A=t.length;z<A;z++){C=B[t[z]];while(C&&C.id!=="#"){r=0;for(x=0,y=C.children.length;x<y;x++){r+=B[C.children[x]].state.selected}if(r===y){C.state.selected=true;this._data.core.selected.push(C.id);E=this.get_node(C,true);if(E&&E.length){E.children(".jstree-anchor").addClass("jstree-clicked")}}else{break}C=this.get_node(C.parent)}}}this._data.core.selected=a.vakata.array_unique(this._data.core.selected)},this)).on("select_node.jstree",a.proxy(function(v,t){var z=t.node,y=this._model.data,A=this.get_node(z.parent),u=this.get_node(z,true),w,x,r,C,B=this.settings.checkbox.cascade;if(B.indexOf("down")!==-1){this._data.core.selected=a.vakata.array_unique(this._data.core.selected.concat(z.children_d));for(w=0,x=z.children_d.length;w<x;w++){C=y[z.children_d[w]];C.state.selected=true;if(C&&C.original&&C.original.state&&C.original.state.undetermined){C.original.state.undetermined=false}}}if(B.indexOf("up")!==-1){while(A&&A.id!=="#"){r=0;for(w=0,x=A.children.length;w<x;w++){r+=y[A.children[w]].state.selected}if(r===x){A.state.selected=true;this._data.core.selected.push(A.id);C=this.get_node(A,true);if(C&&C.length){C.children(".jstree-anchor").addClass("jstree-clicked")}}else{break}A=this.get_node(A.parent)}}if(B.indexOf("down")!==-1&&u.length){u.find(".jstree-anchor").addClass("jstree-clicked")}},this)).on("deselect_all.jstree",a.proxy(function(s,r){var w=this.get_node("#"),v=this._model.data,t,u,x;for(t=0,u=w.children_d.length;t<u;t++){x=v[w.children_d[t]];if(x&&x.original&&x.original.state&&x.original.state.undetermined){x.original.state.undetermined=false}}},this)).on("deselect_node.jstree",a.proxy(function(u,r){var x=r.node,t=this.get_node(x,true),v,w,z,y=this.settings.checkbox.cascade;if(x&&x.original&&x.original.state&&x.original.state.undetermined){x.original.state.undetermined=false}if(y.indexOf("down")!==-1){for(v=0,w=x.children_d.length;v<w;v++){z=this._model.data[x.children_d[v]];z.state.selected=false;if(z&&z.original&&z.original.state&&z.original.state.undetermined){z.original.state.undetermined=false}}}if(y.indexOf("up")!==-1){for(v=0,w=x.parents.length;v<w;v++){z=this._model.data[x.parents[v]];z.state.selected=false;if(z&&z.original&&z.original.state&&z.original.state.undetermined){z.original.state.undetermined=false}z=this.get_node(x.parents[v],true);if(z&&z.length){z.children(".jstree-anchor").removeClass("jstree-clicked")}}}z=[];for(v=0,w=this._data.core.selected.length;v<w;v++){if((y.indexOf("down")===-1||a.inArray(this._data.core.selected[v],x.children_d)===-1)&&(y.indexOf("up")===-1||a.inArray(this._data.core.selected[v],x.parents)===-1)){z.push(this._data.core.selected[v])}}this._data.core.selected=a.vakata.array_unique(z);if(y.indexOf("down")!==-1&&t.length){t.find(".jstree-anchor").removeClass("jstree-clicked")}},this))}if(this.settings.checkbox.cascade.indexOf("up")!==-1){this.element.on("delete_node.jstree",a.proxy(function(t,s){var x=this.get_node(s.parent),w=this._model.data,u,v,r,y;while(x&&x.id!=="#"){r=0;for(u=0,v=x.children.length;u<v;u++){r+=w[x.children[u]].state.selected}if(r===v){x.state.selected=true;this._data.core.selected.push(x.id);y=this.get_node(x,true);if(y&&y.length){y.children(".jstree-anchor").addClass("jstree-clicked")}}else{break}x=this.get_node(x.parent)}},this)).on("move_node.jstree",a.proxy(function(t,s){var v=s.is_multi,z=s.old_parent,y=this.get_node(s.parent),x=this._model.data,A,r,u,w,B;if(!v){A=this.get_node(z);while(A&&A.id!=="#"){r=0;for(u=0,w=A.children.length;u<w;u++){r+=x[A.children[u]].state.selected}if(r===w){A.state.selected=true;this._data.core.selected.push(A.id);B=this.get_node(A,true);if(B&&B.length){B.children(".jstree-anchor").addClass("jstree-clicked")}}else{break}A=this.get_node(A.parent)}}A=y;while(A&&A.id!=="#"){r=0;for(u=0,w=A.children.length;u<w;u++){r+=x[A.children[u]].state.selected}if(r===w){if(!A.state.selected){A.state.selected=true;this._data.core.selected.push(A.id);B=this.get_node(A,true);if(B&&B.length){B.children(".jstree-anchor").addClass("jstree-clicked")}}}else{if(A.state.selected){A.state.selected=false;this._data.core.selected=a.vakata.array_remove_item(this._data.core.selected,A.id);B=this.get_node(A,true);if(B&&B.length){B.children(".jstree-anchor").removeClass("jstree-clicked")}}else{break}}A=this.get_node(A.parent)}},this))}};this._undetermined=function(){var r,u,v=this._model.data,x=this._data.core.selected,w=[],y=this;for(r=0,u=x.length;r<u;r++){if(v[x[r]]&&v[x[r]].parents){w=w.concat(v[x[r]].parents)}}this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var s=y.get_node(this),t;if(!s.state.loaded){if(s.original&&s.original.state&&s.original.state.undetermined&&s.original.state.undetermined===true){w.push(s.id);w=w.concat(s.parents)}}else{for(r=0,u=s.children_d.length;r<u;r++){t=v[s.children_d[r]];if(!t.state.loaded&&t.original&&t.original.state&&t.original.state.undetermined&&t.original.state.undetermined===true){w.push(t.id);w=w.concat(t.parents)}}}});w=a.vakata.array_unique(w);w=a.vakata.array_remove_item(w,"#");this.element.find(".jstree-undetermined").removeClass("jstree-undetermined");for(r=0,u=w.length;r<u;r++){if(!v[w[r]].state.selected){x=this.get_node(w[r],true);if(x&&x.length){x.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}}}};this.redraw_node=function(v,r,t){v=q.redraw_node.call(this,v,r,t);if(v){var s,u,w=null;for(s=0,u=v.childNodes.length;s<u;s++){if(v.childNodes[s]&&v.childNodes[s].className&&v.childNodes[s].className.indexOf("jstree-anchor")!==-1){w=v.childNodes[s];break}}if(w){w.insertBefore(c.cloneNode(false),w.childNodes[0])}}if(!t&&this.settings.checkbox.cascade.indexOf("undetermined")!==-1){if(this._data.checkbox.uto){clearTimeout(this._data.checkbox.uto)}this._data.checkbox.uto=setTimeout(a.proxy(this._undetermined,this),50)}return v};this.activate_node=function(s,r){if(this.settings.checkbox.whole_node||a(r.target).hasClass("jstree-checkbox")){r.ctrlKey=true}return q.activate_node.call(this,s,r)};this.show_checkboxes=function(){this._data.core.themes.checkboxes=true;this.get_container_ul().removeClass("jstree-no-checkboxes")};this.hide_checkboxes=function(){this._data.core.themes.checkboxes=false;this.get_container_ul().addClass("jstree-no-checkboxes")};this.toggle_checkboxes=function(){if(this._data.core.themes.checkboxes){this.hide_checkboxes()}else{this.show_checkboxes()}}};a.jstree.defaults.contextmenu={select_node:true,show_at_node:true,items:function(q,p){return{create:{separator_before:false,separator_after:true,_disabled:false,label:"Create",action:function(r){var s=a.jstree.reference(r.reference),t=s.get_node(r.reference);s.create_node(t,{},"last",function(u){setTimeout(function(){s.edit(u)},0)})}},rename:{separator_before:false,separator_after:false,_disabled:false,label:"Rename",action:function(r){var s=a.jstree.reference(r.reference),t=s.get_node(r.reference);s.edit(t)}},remove:{separator_before:false,icon:false,separator_after:false,_disabled:false,label:"Delete",action:function(r){var s=a.jstree.reference(r.reference),t=s.get_node(r.reference);if(s.is_selected(t)){s.delete_node(s.get_selected())}else{s.delete_node(t)}}},ccp:{separator_before:true,icon:false,separator_after:false,label:"Edit",action:false,submenu:{cut:{separator_before:false,separator_after:false,label:"Cut",action:function(r){var s=a.jstree.reference(r.reference),t=s.get_node(r.reference);if(s.is_selected(t)){s.cut(s.get_selected())}else{s.cut(t)}}},copy:{separator_before:false,icon:false,separator_after:false,label:"Copy",action:function(r){var s=a.jstree.reference(r.reference),t=s.get_node(r.reference);if(s.is_selected(t)){s.copy(s.get_selected())}else{s.copy(t)}}},paste:{separator_before:false,icon:false,_disabled:function(r){return !a.jstree.reference(r.reference).can_paste()},separator_after:false,label:"Paste",action:function(r){var s=a.jstree.reference(r.reference),t=s.get_node(r.reference);s.paste(t)}}}}}}};a.jstree.plugins.contextmenu=function(p,q){this.bind=function(){q.bind.call(this);var r=0;this.element.on("contextmenu.jstree",".jstree-anchor",a.proxy(function(s){s.preventDefault();r=s.ctrlKey?s.timeStamp:0;if(!this.is_loading(s.currentTarget)){this.show_contextmenu(s.currentTarget,s.pageX,s.pageY,s)}},this)).on("click.jstree",".jstree-anchor",a.proxy(function(s){if(this._data.contextmenu.visible&&(!r||s.timeStamp-r>250)){a.vakata.context.hide()}},this));a(document).on("context_hide.vakata",a.proxy(function(){this._data.contextmenu.visible=false},this))};this.teardown=function(){if(this._data.contextmenu.visible){a.vakata.context.hide()}q.teardown.call(this)};this.show_contextmenu=function(z,B,C,u){z=this.get_node(z);if(!z||z.id==="#"){return false}var A=this.settings.contextmenu,t=this.get_node(z,true),r=t.children(".jstree-anchor"),w=false,v=false;if(A.show_at_node||B===o||C===o){w=r.offset();B=w.left;C=w.top+this._data.core.li_height}if(this.settings.contextmenu.select_node&&!this.is_selected(z)){this.activate_node(z,u)}v=A.items;if(a.isFunction(v)){v=v.call(this,z,a.proxy(function(s){this._show_contextmenu(z,B,C,s)},this))}if(a.isPlainObject(v)){this._show_contextmenu(z,B,C,v)}};this._show_contextmenu=function(u,v,w,t){var s=this.get_node(u,true),r=s.children(".jstree-anchor");a(document).one("context_show.vakata",a.proxy(function(z,y){var x="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";a(y.element).addClass(x)},this));this._data.contextmenu.visible=true;a.vakata.context.show(r,{x:v,y:w},t);this.trigger("show_contextmenu",{node:u,x:v,y:w})}};(function(p){var q=false,r={element:false,reference:false,position_x:0,position_y:0,items:[],html:"",is_visible:false};p.vakata.context={settings:{hide_onmouseleave:0,icons:true},_trigger:function(s){p(document).triggerHandler("context_"+s+".vakata",{reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_execute:function(s){s=r.items[s];return s&&(!s._disabled||(p.isFunction(s._disabled)&&!s._disabled({item:s,reference:r.reference,element:r.element})))&&s.action?s.action.call(null,{item:s,reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}}):false},_parse:function(t,s){if(!t){return false}if(!s){r.html="";r.items=[]}var v="",u=false,w;if(s){v+="<ul>"}p.each(t,function(x,y){if(!y){return true}r.items.push(y);if(!u&&y.separator_before){v+="<li class='vakata-context-separator'><a href='#' "+(p.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"}u=false;v+="<li class='"+(y._class||"")+(y._disabled===true||(p.isFunction(y._disabled)&&y._disabled({item:y,reference:r.reference,element:r.element}))?" vakata-contextmenu-disabled ":"")+"' "+(y.shortcut?" data-shortcut='"+y.shortcut+"' ":"")+">";v+="<a href='#' rel='"+(r.items.length-1)+"'>";if(p.vakata.context.settings.icons){v+="<i ";if(y.icon){if(y.icon.indexOf("/")!==-1||y.icon.indexOf(".")!==-1){v+=" style='background:url(\""+y.icon+"\") center center no-repeat' "}else{v+=" class='"+y.icon+"' "}}v+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"}v+=(p.isFunction(y.label)?y.label({item:x,reference:r.reference,element:r.element}):y.label)+(y.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+y.shortcut+'">'+(y.shortcut_label||"")+"</span>":"")+"</a>";if(y.submenu){w=p.vakata.context._parse(y.submenu,true);if(w){v+=w}}v+="</li>";if(y.separator_after){v+="<li class='vakata-context-separator'><a href='#' "+(p.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>";u=true}});v=v.replace(/<li class\='vakata-context-separator'\><\/li\>$/,"");if(s){v+="</ul>"}if(!s){r.html=v;p.vakata.context._trigger("parse")}return v.length>10?v:false},_show_submenu:function(z){z=p(z);if(!z.length||!z.children("ul").length){return}var u=z.children("ul"),B=z.offset().left+z.outerWidth(),C=z.offset().top,A=u.width(),v=u.height(),t=p(window).width()+p(window).scrollLeft(),s=p(window).height()+p(window).scrollTop();if(q){z[B-(A+10+z.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left")}else{z[B+A+10>t?"addClass":"removeClass"]("vakata-context-right")}if(C+v+10>s){u.css("bottom","-1px")}u.show()},show:function(D,C,t){var B,z,F,G,E,A,v,u,s=true;if(r.element&&r.element.length){r.element.width("")}switch(s){case (!C&&!D):return false;case (!!C&&!!D):r.reference=D;r.position_x=C.x;r.position_y=C.y;break;case (!C&&!!D):r.reference=D;B=D.offset();r.position_x=B.left+D.outerHeight();r.position_y=B.top;break;case (!!C&&!D):r.position_x=C.x;r.position_y=C.y;break}if(!!D&&!t&&p(D).data("vakata_contextmenu")){t=p(D).data("vakata_contextmenu")}if(p.vakata.context._parse(t)){r.element.html(r.html)}if(r.items.length){z=r.element;F=r.position_x;G=r.position_y;E=z.width();A=z.height();v=p(window).width()+p(window).scrollLeft();u=p(window).height()+p(window).scrollTop();if(q){F-=z.outerWidth();if(F<p(window).scrollLeft()+20){F=p(window).scrollLeft()+20}}if(F+E+20>v){F=v-(E+20)}if(G+A+20>u){G=u-(A+20)}r.element.css({left:F,top:G}).show().find("a:eq(0)").focus().parent().addClass("vakata-context-hover");r.is_visible=true;p.vakata.context._trigger("show")}},hide:function(){if(r.is_visible){r.element.hide().find("ul").hide().end().find(":focus").blur();r.is_visible=false;p.vakata.context._trigger("hide")}}};p(function(){q=p("body").css("direction")==="rtl";var s=false;r.element=p("<ul class='vakata-context'></ul>");r.element.on("mouseenter","li",function(t){t.stopImmediatePropagation();if(p.contains(this,t.relatedTarget)){return}if(s){clearTimeout(s)}r.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end();p(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover");p.vakata.context._show_submenu(this)}).on("mouseleave","li",function(t){if(p.contains(this,t.relatedTarget)){return}p(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){p(this).find(".vakata-context-hover").removeClass("vakata-context-hover");if(p.vakata.context.settings.hide_onmouseleave){s=setTimeout((function(u){return function(){p.vakata.context.hide()}}(this)),p.vakata.context.settings.hide_onmouseleave)}}).on("click","a",function(t){t.preventDefault();if(!p(this).blur().parent().hasClass("vakata-context-disabled")&&p.vakata.context._execute(p(this).attr("rel"))!==false){p.vakata.context.hide()}}).on("keydown","a",function(t){var u=null;switch(t.which){case 13:case 32:t.type="mouseup";t.preventDefault();p(t.currentTarget).trigger(t);break;case 37:if(r.is_visible){r.element.find(".vakata-context-hover").last().parents("li:eq(0)").find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus();t.stopImmediatePropagation();t.preventDefault()}break;case 38:if(r.is_visible){u=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first();if(!u.length){u=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()}u.addClass("vakata-context-hover").children("a").focus();t.stopImmediatePropagation();t.preventDefault()}break;case 39:if(r.is_visible){r.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus();t.stopImmediatePropagation();t.preventDefault()}break;case 40:if(r.is_visible){u=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first();if(!u.length){u=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()}u.addClass("vakata-context-hover").children("a").focus();t.stopImmediatePropagation();t.preventDefault()}break;case 27:p.vakata.context.hide();t.preventDefault();break;default:break}}).on("keydown",function(u){u.preventDefault();var t=r.element.find(".vakata-contextmenu-shortcut-"+u.which).parent();if(t.parent().not(".vakata-context-disabled")){t.mouseup()}}).appendTo("body");p(document).on("mousedown",function(t){if(r.is_visible&&!p.contains(r.element[0],t.target)){p.vakata.context.hide()}}).on("context_show.vakata",function(u,t){r.element.find("li:has(ul)").children("a").addClass("vakata-context-parent");if(q){r.element.addClass("vakata-context-rtl").css("direction","rtl")}r.element.find("ul").hide().end()})})}(a));a.jstree.defaults.dnd={copy:true,open_timeout:500,is_draggable:true,check_while_dragging:true,always_copy:false,inside_pos:0};a.jstree.plugins.dnd=function(p,q){this.bind=function(){q.bind.call(this);this.element.on("mousedown.jstree touchstart.jstree",".jstree-anchor",a.proxy(function(r){var t=this.get_node(r.target),s=this.is_selected(t)?this.get_selected().length:1;if(t&&t.id&&t.id!=="#"&&(r.which===1||r.type==="touchstart")&&(this.settings.dnd.is_draggable===true||(a.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,(s>1?this.get_selected(true):[t]))))){this.element.trigger("mousedown.jstree");return a.vakata.dnd.start(r,{jstree:true,origin:this,obj:this.get_node(t,true),nodes:s>1?this.get_selected():[t.id]},'<div id="jstree-dnd" class="jstree-'+this.get_theme()+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+(s>1?s+" "+this.get_string("nodes"):this.get_text(r.currentTarget,true))+'<ins class="jstree-copy" style="display:none;">+</ins></div>')}},this))}};a(function(){var q=false,p=false,s=false,r=a('<div id="jstree-marker">&#160;</div>').hide().appendTo("body");a(document).bind("dnd_start.vakata",function(u,t){q=false}).bind("dnd_move.vakata",function(v,u){if(s){clearTimeout(s)}if(!u.data.jstree){return}if(u.event.target.id&&u.event.target.id==="jstree-marker"){return}var y=a.jstree.reference(u.event.target),I=false,C=false,J=false,A,K,w,F,x,B,D,L,M,E,H,G,z,N;if(y&&y._data&&y._data.dnd){r.attr("class","jstree-"+y.get_theme()+(y.settings.core.themes.responsive?" jstree-dnd-responsive":""));u.helper.children().attr("class","jstree-"+y.get_theme()+(y.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy:eq(0)")[u.data.origin&&(u.data.origin.settings.dnd.always_copy||(u.data.origin.settings.dnd.copy&&(u.event.metaKey||u.event.ctrlKey)))?"show":"hide"]();if((u.event.target===y.element[0]||u.event.target===y.get_container_ul()[0])&&y.get_container_ul().children().length===0){D=true;for(L=0,M=u.data.nodes.length;L<M;L++){D=D&&y.check((u.data.origin&&(u.data.origin.settings.dnd.always_copy||(u.data.origin.settings.dnd.copy&&(u.event.metaKey||u.event.ctrlKey)))?"copy_node":"move_node"),(u.data.origin&&u.data.origin!==y?u.data.origin.get_node(u.data.nodes[L]):u.data.nodes[L]),"#","last",{dnd:true,ref:y.get_node("#"),pos:"i",is_multi:(u.data.origin&&u.data.origin!==y),is_foreign:(!u.data.origin)});if(!D){break}}if(D){q={ins:y,par:"#",pos:"last"};r.hide();u.helper.find(".jstree-icon:eq(0)").removeClass("jstree-er").addClass("jstree-ok");return}}else{I=a(u.event.target).closest(".jstree-anchor");if(I&&I.length&&I.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")){C=I.offset();J=u.event.pageY-C.top;w=I.height();if(J<w/3){B=["b","i","a"]}else{if(J>w-w/3){B=["a","i","b"]}else{B=J>w/2?["i","a","b"]:["i","b","a"]}}a.each(B,function(t,O){switch(O){case"b":A=C.left-6;K=C.top;F=y.get_parent(I);x=I.parent().index();break;case"i":z=y.settings.dnd.inside_pos;N=y.get_node(I.parent());A=C.left-2;K=C.top+w/2+1;F=N.id;x=z==="first"?0:(z==="last"?N.children.length:Math.min(z,N.children.length));break;case"a":A=C.left-6;K=C.top+w;F=y.get_parent(I);x=I.parent().index()+1;break}
/*
								// TODO: moving inside, but the node is not yet loaded?
								// the check will work anyway, as when moving the node will be loaded first and checked again
								if(v === 'i' && !ins.is_loaded(p)) { }
								*/
D=true;for(L=0,M=u.data.nodes.length;L<M;L++){E=u.data.origin&&(u.data.origin.settings.dnd.always_copy||(u.data.origin.settings.dnd.copy&&(u.event.metaKey||u.event.ctrlKey)))?"copy_node":"move_node";H=x;if(E==="move_node"&&O==="a"&&(u.data.origin&&u.data.origin===y)&&F===y.get_parent(u.data.nodes[L])){G=y.get_node(F);if(H>a.inArray(u.data.nodes[L],G.children)){H-=1}}D=D&&((y&&y.settings&&y.settings.dnd&&y.settings.dnd.check_while_dragging===false)||y.check(E,(u.data.origin&&u.data.origin!==y?u.data.origin.get_node(u.data.nodes[L]):u.data.nodes[L]),F,H,{dnd:true,ref:y.get_node(I.parent()),pos:O,is_multi:(u.data.origin&&u.data.origin!==y),is_foreign:(!u.data.origin)}));if(!D){if(y&&y.last_error){p=y.last_error()}break}}if(D){if(O==="i"&&I.parent().is(".jstree-closed")&&y.settings.dnd.open_timeout){s=setTimeout((function(P,Q){return function(){P.open_node(Q)}}(y,I)),y.settings.dnd.open_timeout)}q={ins:y,par:F,pos:O==="i"&&z==="last"&&x===0&&!y.is_loaded(N)?"last":x};r.css({left:A+"px",top:K+"px"}).show();u.helper.find(".jstree-icon:eq(0)").removeClass("jstree-er").addClass("jstree-ok");p={};B=true;return false}});if(B===true){return}}}}q=false;u.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er");r.hide()}).bind("dnd_scroll.vakata",function(u,t){if(!t.data.jstree){return}r.hide();q=false;t.helper.find(".jstree-icon:eq(0)").removeClass("jstree-ok").addClass("jstree-er")}).bind("dnd_stop.vakata",function(u,t){if(s){clearTimeout(s)}if(!t.data.jstree){return}r.hide();var v,w,x=[];if(q){for(v=0,w=t.data.nodes.length;v<w;v++){x[v]=t.data.origin?t.data.origin.get_node(t.data.nodes[v]):t.data.nodes[v];if(t.data.origin){x[v].instance=t.data.origin}}q.ins[t.data.origin&&(t.data.origin.settings.dnd.always_copy||(t.data.origin.settings.dnd.copy&&(t.event.metaKey||t.event.ctrlKey)))?"copy_node":"move_node"](x,q.par,q.pos)}else{v=a(t.event.target).closest(".jstree");if(v.length&&p&&p.error&&p.error==="check"){v=v.jstree(true);if(v){v.settings.core.error.call(this,p)}}}}).bind("keyup keydown",function(u,t){t=a.vakata.dnd._get();if(t.data&&t.data.jstree){t.helper.find(".jstree-copy:eq(0)")[t.data.origin&&(t.data.origin.settings.dnd.always_copy||(t.data.origin.settings.dnd.copy&&(u.metaKey||u.ctrlKey)))?"show":"hide"]()}})});(function(p){var q={element:false,target:false,is_down:false,is_drag:false,helper:false,helper_w:0,data:false,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:false,scroll_i:false,is_touch:false};p.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(t,s){var r=p.vakata.dnd._get();r.event=s;p(document).triggerHandler("dnd_"+t+".vakata",r)},_get:function(){return{data:q.data,element:q.element,helper:q.helper}},_clean:function(){if(q.helper){q.helper.remove()}if(q.scroll_i){clearInterval(q.scroll_i);q.scroll_i=false}q={element:false,target:false,is_down:false,is_drag:false,helper:false,helper_w:0,data:false,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:false,scroll_i:false,is_touch:false};p(document).off("mousemove touchmove",p.vakata.dnd.drag);p(document).off("mouseup touchend",p.vakata.dnd.stop)},_scroll:function(s){if(!q.scroll_e||(!q.scroll_l&&!q.scroll_t)){if(q.scroll_i){clearInterval(q.scroll_i);q.scroll_i=false}return false}if(!q.scroll_i){q.scroll_i=setInterval(p.vakata.dnd._scroll,100);return false}if(s===true){return false}var r=q.scroll_e.scrollTop(),t=q.scroll_e.scrollLeft();q.scroll_e.scrollTop(r+q.scroll_t*p.vakata.dnd.settings.scroll_speed);q.scroll_e.scrollLeft(t+q.scroll_l*p.vakata.dnd.settings.scroll_speed);if(r!==q.scroll_e.scrollTop()||t!==q.scroll_e.scrollLeft()){p.vakata.dnd._trigger("scroll",q.scroll_e)}},start:function(s,r,t){if(s.type==="touchstart"&&s.originalEvent&&s.originalEvent.changedTouches&&s.originalEvent.changedTouches[0]){s.pageX=s.originalEvent.changedTouches[0].pageX;s.pageY=s.originalEvent.changedTouches[0].pageY;s.target=document.elementFromPoint(s.originalEvent.changedTouches[0].pageX-window.pageXOffset,s.originalEvent.changedTouches[0].pageY-window.pageYOffset)}if(q.is_drag){p.vakata.dnd.stop({})}try{s.currentTarget.unselectable="on";s.currentTarget.onselectstart=function(){return false};if(s.currentTarget.style){s.currentTarget.style.MozUserSelect="none"}}catch(u){}q.init_x=s.pageX;q.init_y=s.pageY;q.data=r;q.is_down=true;q.element=s.currentTarget;q.target=s.target;q.is_touch=s.type==="touchstart";if(t!==false){q.helper=p("<div id='vakata-dnd'></div>").html(t).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})}p(document).bind("mousemove touchmove",p.vakata.dnd.drag);p(document).bind("mouseup touchend",p.vakata.dnd.stop);return false},drag:function(x){if(x.type==="touchmove"&&x.originalEvent&&x.originalEvent.changedTouches&&x.originalEvent.changedTouches[0]){x.pageX=x.originalEvent.changedTouches[0].pageX;x.pageY=x.originalEvent.changedTouches[0].pageY;x.target=document.elementFromPoint(x.originalEvent.changedTouches[0].pageX-window.pageXOffset,x.originalEvent.changedTouches[0].pageY-window.pageYOffset)}if(!q.is_down){return}if(!q.is_drag){if(Math.abs(x.pageX-q.init_x)>(q.is_touch?p.vakata.dnd.settings.threshold_touch:p.vakata.dnd.settings.threshold)||Math.abs(x.pageY-q.init_y)>(q.is_touch?p.vakata.dnd.settings.threshold_touch:p.vakata.dnd.settings.threshold)){if(q.helper){q.helper.appendTo("body");q.helper_w=q.helper.outerWidth()}q.is_drag=true;p.vakata.dnd._trigger("start",x)}else{return}}var r=false,A=false,s=false,B=false,v=false,C=false,u=false,t=false,z=false,y=false;q.scroll_t=0;q.scroll_l=0;q.scroll_e=false;p(p(x.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return(/^auto|scroll$/).test(p(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var D=p(this),w=D.offset();if(this.scrollHeight>this.offsetHeight){if(w.top+D.height()-x.pageY<p.vakata.dnd.settings.scroll_proximity){q.scroll_t=1}if(x.pageY-w.top<p.vakata.dnd.settings.scroll_proximity){q.scroll_t=-1}}if(this.scrollWidth>this.offsetWidth){if(w.left+D.width()-x.pageX<p.vakata.dnd.settings.scroll_proximity){q.scroll_l=1}if(x.pageX-w.left<p.vakata.dnd.settings.scroll_proximity){q.scroll_l=-1}}if(q.scroll_t||q.scroll_l){q.scroll_e=p(this);return false}});if(!q.scroll_e){r=p(document);A=p(window);s=r.height();B=A.height();v=r.width();C=A.width();u=r.scrollTop();t=r.scrollLeft();if(s>B&&x.pageY-u<p.vakata.dnd.settings.scroll_proximity){q.scroll_t=-1}if(s>B&&B-(x.pageY-u)<p.vakata.dnd.settings.scroll_proximity){q.scroll_t=1}if(v>C&&x.pageX-t<p.vakata.dnd.settings.scroll_proximity){q.scroll_l=-1}if(v>C&&C-(x.pageX-t)<p.vakata.dnd.settings.scroll_proximity){q.scroll_l=1}if(q.scroll_t||q.scroll_l){q.scroll_e=r}}if(q.scroll_e){p.vakata.dnd._scroll(true)}if(q.helper){z=parseInt(x.pageY+p.vakata.dnd.settings.helper_top,10);y=parseInt(x.pageX+p.vakata.dnd.settings.helper_left,10);if(s&&z+25>s){z=s-50}if(v&&y+q.helper_w>v){y=v-(q.helper_w+2)}q.helper.css({left:y+"px",top:z+"px"})}p.vakata.dnd._trigger("move",x);return false},stop:function(r){if(r.type==="touchend"&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]){r.pageX=r.originalEvent.changedTouches[0].pageX;r.pageY=r.originalEvent.changedTouches[0].pageY;r.target=document.elementFromPoint(r.originalEvent.changedTouches[0].pageX-window.pageXOffset,r.originalEvent.changedTouches[0].pageY-window.pageYOffset)}if(q.is_drag){p.vakata.dnd._trigger("stop",r)}else{if(r.type==="touchend"&&r.target===q.target){var s=setTimeout(function(){p(r.target).click()},100);p(r.target).one("click",function(){if(s){clearTimeout(s)}})}}p.vakata.dnd._clean();return false}}}(jQuery));a.jstree.defaults.search={ajax:false,fuzzy:false,case_sensitive:false,show_only_matches:false,close_opened_onclear:true,search_leaves_only:false,search_callback:false};a.jstree.plugins.search=function(p,q){this.bind=function(){q.bind.call(this);this._data.search.str="";this._data.search.dom=a();this._data.search.res=[];this._data.search.opn=[];this.element.on("before_open.jstree",a.proxy(function(u,t){var w,x,v,z=this._data.search.res,A=[],y=a();if(z&&z.length){this._data.search.dom=a(this.element[0].querySelectorAll("#"+a.map(z,function(r){return"0123456789".indexOf(r[0])!==-1?"\\3"+r[0]+" "+r.substr(1).replace(a.jstree.idregex,"\\$&"):r.replace(a.jstree.idregex,"\\$&")}).join(", #")));this._data.search.dom.children(".jstree-anchor").addClass("jstree-search");if(this.settings.search.show_only_matches&&this._data.search.res.length){for(w=0,x=z.length;w<x;w++){A=A.concat(this.get_node(z[w]).parents)}A=a.vakata.array_remove_item(a.vakata.array_unique(A),"#");y=A.length?a(this.element[0].querySelectorAll("#"+a.map(A,function(r){return"0123456789".indexOf(r[0])!==-1?"\\3"+r[0]+" "+r.substr(1).replace(a.jstree.idregex,"\\$&"):r.replace(a.jstree.idregex,"\\$&")}).join(", #"))):a();this.element.find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last");y=y.add(this._data.search.dom);y.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){a(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")})}}},this));if(this.settings.search.show_only_matches){this.element.on("search.jstree",function(s,r){if(r.nodes.length){a(this).find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last");r.nodes.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){a(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")})}}).on("clear_search.jstree",function(s,r){if(r.nodes.length){a(this).find(".jstree-node").css("display","").filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last")}})}};this.search=function(B,A){if(B===false||a.trim(B.toString())===""){return this.clear_search()}B=B.toString();var z=this.settings.search,t=z.ajax?z.ajax:false,u=null,y=[],x=[],v,w;if(this._data.search.res.length){this.clear_search()}if(!A&&t!==false){if(a.isFunction(t)){return t.call(this,B,a.proxy(function(r){if(r&&r.d){r=r.d}this._load_nodes(!a.isArray(r)?[]:a.vakata.array_unique(r),function(){this.search(B,true)},true)},this))}else{t=a.extend({},t);if(!t.data){t.data={}}t.data.str=B;return a.ajax(t).fail(a.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(t)};this.settings.core.error.call(this,this._data.core.last_error)},this)).done(a.proxy(function(r){if(r&&r.d){r=r.d}this._load_nodes(!a.isArray(r)?[]:a.vakata.array_unique(r),function(){this.search(B,true)},true)},this))}}this._data.search.str=B;this._data.search.dom=a();this._data.search.res=[];this._data.search.opn=[];u=new a.vakata.search(B,true,{caseSensitive:z.case_sensitive,fuzzy:z.fuzzy});a.each(this._model.data,function(r,s){if(s.text&&((z.search_callback&&z.search_callback.call(this,B,s))||(!z.search_callback&&u.search(s.text).isMatch))&&(!z.search_leaves_only||(s.state.loaded&&s.children.length===0))){y.push(r);x=x.concat(s.parents)}});if(y.length){x=a.vakata.array_unique(x);this._search_open(x);this._data.search.dom=a(this.element[0].querySelectorAll("#"+a.map(y,function(r){return"0123456789".indexOf(r[0])!==-1?"\\3"+r[0]+" "+r.substr(1).replace(a.jstree.idregex,"\\$&"):r.replace(a.jstree.idregex,"\\$&")}).join(", #")));this._data.search.res=y;this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:B,res:this._data.search.res})};this.clear_search=function(){this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search");if(this.settings.search.close_opened_onclear){this.close_node(this._data.search.opn,0)}this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res});this._data.search.str="";this._data.search.res=[];this._data.search.opn=[];this._data.search.dom=a()};this._search_open=function(r){var s=this;a.each(r.concat([]),function(t,w){if(w==="#"){return true}try{w=a("#"+w.replace(a.jstree.idregex,"\\$&"),s.element)}catch(u){}if(w&&w.length){if(s.is_closed(w)){s._data.search.opn.push(w[0].id);s.open_node(w,function(){s._search_open(r)},0)}}})}};(function(p){p.vakata.search=function(w,A,v){v=v||{};if(v.fuzzy!==false){v.fuzzy=true}w=v.caseSensitive?w:w.toLowerCase();var s=v.location||0,r=v.distance||100,t=v.threshold||0.6,y=w.length,u,x,q,z;if(y>32){v.fuzzy=false}if(v.fuzzy){u=1<<(y-1);x=(function(){var C={},B=0;for(B=0;B<y;B++){C[w.charAt(B)]=0}for(B=0;B<y;B++){C[w.charAt(B)]|=1<<(y-B-1)}return C}());q=function(C,E){var B=C/y,D=Math.abs(s-E);if(!r){return D?1:B}return B+(D/r)}}z=function(P){P=v.caseSensitive?P:P.toLowerCase();if(w===P||P.indexOf(w)!==-1){return{isMatch:true,score:0}}if(!v.fuzzy){return{isMatch:false,score:1}}var H,I,Q=P.length,N=t,B=P.indexOf(w,s),E,D,C=y+Q,J,O,G,L,F,M=1,K=[];if(B!==-1){N=Math.min(q(0,B),N);B=P.lastIndexOf(w,s+y);if(B!==-1){N=Math.min(q(0,B),N)}}B=-1;for(H=0;H<y;H++){E=0;D=C;while(E<D){if(q(H,s+D)<=N){E=D}else{C=D}D=Math.floor((C-E)/2+E)}C=D;O=Math.max(1,s-D+1);G=Math.min(s+D,Q)+y;L=new Array(G+2);L[G+1]=(1<<H)-1;for(I=G;I>=O;I--){F=x[P.charAt(I-1)];if(H===0){L[I]=((L[I+1]<<1)|1)&F}else{L[I]=((L[I+1]<<1)|1)&F|(((J[I+1]|J[I])<<1)|1)|J[I+1]}if(L[I]&u){M=q(H,I-1);if(M<=N){N=M;B=I-1;K.push(B);if(B>s){O=Math.max(1,2*s-B)}else{break}}}}if(q(H+1,s)>N){break}J=L}return{isMatch:B>=0,score:M}};return A===true?{search:z}:z(A)}}(jQuery));a.jstree.defaults.sort=function(p,q){return this.get_text(p)>this.get_text(q)?1:-1};a.jstree.plugins.sort=function(p,q){this.bind=function(){q.bind.call(this);this.element.on("model.jstree",a.proxy(function(s,r){this.sort(r.parent,true)},this)).on("rename_node.jstree create_node.jstree",a.proxy(function(s,r){this.sort(r.parent||r.node.parent,false);this.redraw_node(r.parent||r.node.parent,true)},this)).on("move_node.jstree copy_node.jstree",a.proxy(function(s,r){this.sort(r.parent,false);this.redraw_node(r.parent,true)},this))};this.sort=function(u,r){var s,t;u=this.get_node(u);if(u&&u.children&&u.children.length){u.children.sort(a.proxy(this.settings.sort,this));if(r){for(s=0,t=u.children_d.length;s<t;s++){this.sort(u.children_d[s],false)}}}}};var n=false;a.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree",ttl:false,filter:false};a.jstree.plugins.state=function(p,q){this.bind=function(){q.bind.call(this);var r=a.proxy(function(){this.element.on(this.settings.state.events,a.proxy(function(){if(n){clearTimeout(n)}n=setTimeout(a.proxy(function(){this.save_state()},this),100)},this))},this);this.element.on("ready.jstree",a.proxy(function(t,s){this.element.one("restore_state.jstree",r);if(!this.restore_state()){r()}},this))};this.save_state=function(){var r={state:this.get_state(),ttl:this.settings.state.ttl,sec:+(new Date())};a.vakata.storage.set(this.settings.state.key,JSON.stringify(r))};this.restore_state=function(){var s=a.vakata.storage.get(this.settings.state.key);if(!!s){try{s=JSON.parse(s)}catch(r){return false}}if(!!s&&s.ttl&&s.sec&&+(new Date())-s.sec>s.ttl){return false}if(!!s&&s.state){s=s.state}if(!!s&&a.isFunction(this.settings.state.filter)){s=this.settings.state.filter.call(this,s)}if(!!s){this.element.one("set_state.jstree",function(u,t){t.instance.trigger("restore_state",{state:a.extend(true,{},s)})});this.set_state(s);return true}return false};this.clear_state=function(){return a.vakata.storage.del(this.settings.state.key)}};(function(p,q){p.vakata.storage={set:function(r,s){return window.localStorage.setItem(r,s)},get:function(r){return window.localStorage.getItem(r)},del:function(r){return window.localStorage.removeItem(r)}}}(jQuery));a.jstree.defaults.types={"#":{},"default":{}};a.jstree.plugins.types=function(p,q){this.init=function(r,u){var s,t;if(u&&u.types&&u.types["default"]){for(s in u.types){if(s!=="default"&&s!=="#"&&u.types.hasOwnProperty(s)){for(t in u.types["default"]){if(u.types["default"].hasOwnProperty(t)&&u.types[s][t]===o){u.types[s][t]=u.types["default"][t]}}}}}q.init.call(this,r,u);this._model.data["#"].type="#"};this.refresh=function(r){q.refresh.call(this,r);this._model.data["#"].type="#"};this.bind=function(){this.element.on("model.jstree",a.proxy(function(v,s){var y=this._model.data,u=s.nodes,z=this.settings.types,w,x,r="default";for(w=0,x=u.length;w<x;w++){r="default";if(y[u[w]].original&&y[u[w]].original.type&&z[y[u[w]].original.type]){r=y[u[w]].original.type}if(y[u[w]].data&&y[u[w]].data.jstree&&y[u[w]].data.jstree.type&&z[y[u[w]].data.jstree.type]){r=y[u[w]].data.jstree.type}y[u[w]].type=r;if(y[u[w]].icon===true&&z[r].icon!==o){y[u[w]].icon=z[r].icon}}y["#"].type="#"},this));q.bind.call(this)};this.get_json=function(v,x,r){var s,t,u=this._model.data,w=x?a.extend(true,{},x,{no_id:false}):{},y=q.get_json.call(this,v,w,r);if(y===false){return false}if(a.isArray(y)){for(s=0,t=y.length;s<t;s++){y[s].type=y[s].id&&u[y[s].id]&&u[y[s].id].type?u[y[s].id].type:"default";if(x&&x.no_id){delete y[s].id;if(y[s].li_attr&&y[s].li_attr.id){delete y[s].li_attr.id}}}}else{y.type=y.id&&u[y.id]&&u[y.id].type?u[y.id].type:"default";if(x&&x.no_id){y=this._delete_ids(y)}}return y};this._delete_ids=function(t){if(a.isArray(t)){for(var r=0,s=t.length;r<s;r++){t[r]=this._delete_ids(t[r])}return t}delete t.id;if(t.li_attr&&t.li_attr.id){delete t.li_attr.id}if(t.children&&a.isArray(t.children)){t.children=this._delete_ids(t.children)}return t};this.check=function(r,x,y,z,w){if(q.check.call(this,r,x,y,z,w)===false){return false}x=x&&x.id?x:this.get_node(x);y=y&&y.id?y:this.get_node(y);var v=x&&x.id?a.jstree.reference(x.id):null,A,s,t,u;v=v&&v._model&&v._model.data?v._model.data:null;switch(r){case"create_node":case"move_node":case"copy_node":if(r!=="move_node"||a.inArray(x.id,y.children)===-1){A=this.get_rules(y);if(A.max_children!==o&&A.max_children!==-1&&A.max_children===y.children.length){this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+r,data:JSON.stringify({chk:r,pos:z,obj:x&&x.id?x.id:false,par:y&&y.id?y.id:false})};return false}if(A.valid_children!==o&&A.valid_children!==-1&&a.inArray(x.type,A.valid_children)===-1){this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+r,data:JSON.stringify({chk:r,pos:z,obj:x&&x.id?x.id:false,par:y&&y.id?y.id:false})};return false}if(v&&x.children_d&&x.parents){s=0;for(t=0,u=x.children_d.length;t<u;t++){s=Math.max(s,v[x.children_d[t]].parents.length)}s=s-x.parents.length+1}if(s<=0||s===o){s=1}do{if(A.max_depth!==o&&A.max_depth!==-1&&A.max_depth<s){this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+r,data:JSON.stringify({chk:r,pos:z,obj:x&&x.id?x.id:false,par:y&&y.id?y.id:false})};return false}y=this.get_node(y.parent);A=this.get_rules(y);s++}while(y)}break}return true};this.get_rules=function(r){r=this.get_node(r);if(!r){return false}var s=this.get_type(r,true);if(s.max_depth===o){s.max_depth=-1}if(s.max_children===o){s.max_children=-1}if(s.valid_children===o){s.valid_children=-1}return s};this.get_type=function(r,s){r=this.get_node(r);return(!r)?false:(s?a.extend({type:r.type},this.settings.types[r.type]):r.type)};this.set_type=function(r,y){var v,w,x,u,s;if(a.isArray(r)){r=r.slice();for(w=0,x=r.length;w<x;w++){this.set_type(r[w],y)}return true}v=this.settings.types;r=this.get_node(r);if(!v[y]||!r){return false}u=r.type;s=this.get_icon(r);r.type=y;if(s===true||(v[u]&&v[u].icon&&s===v[u].icon)){this.set_icon(r,v[y].icon!==o?v[y].icon:true)}return true}};a.jstree.defaults.unique={case_sensitive:false,duplicate:function(q,p){return q+" ("+p+")"}};a.jstree.plugins.unique=function(p,q){this.check=function(t,z,A,B,x){if(q.check.call(this,t,z,A,B,x)===false){return false}z=z&&z.id?z:this.get_node(z);A=A&&A.id?A:this.get_node(A);if(!A||!A.children){return true}var y=t==="rename_node"?B:z.text,r=[],C=this.settings.unique.case_sensitive,w=this._model.data,u,v;for(u=0,v=A.children.length;u<v;u++){r.push(C?w[A.children[u]].text:w[A.children[u]].text.toLowerCase())}if(!C){y=y.toLowerCase()}switch(t){case"delete_node":return true;case"rename_node":u=(a.inArray(y,r)===-1||(z.text&&z.text===y));if(!u){this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+y+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:B,obj:z&&z.id?z.id:false,par:A&&A.id?A.id:false})}}return u;case"create_node":u=(a.inArray(y,r)===-1);if(!u){this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+y+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:B,obj:z&&z.id?z.id:false,par:A&&A.id?A.id:false})}}return u;case"copy_node":u=(a.inArray(y,r)===-1);if(!u){this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+y+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:B,obj:z&&z.id?z.id:false,par:A&&A.id?A.id:false})}}return u;case"move_node":u=(z.parent===A.id||a.inArray(y,r)===-1);if(!u){this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+y+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:B,obj:z&&z.id?z.id:false,par:A&&A.id?A.id:false})}}return u}return true};this.create_node=function(B,A,C,r,w){if(!A||A.text===o){if(B===null){B="#"}B=this.get_node(B);if(!B){return q.create_node.call(this,B,A,C,r,w)}C=C===o?"last":C;if(!C.toString().match(/^(before|after)$/)&&!w&&!this.is_loaded(B)){return q.create_node.call(this,B,A,C,r,w)}if(!A){A={}}var E,z,u,v,x,y=this._model.data,D=this.settings.unique.case_sensitive,t=this.settings.unique.duplicate;z=E=this.get_string("New node");u=[];for(v=0,x=B.children.length;v<x;v++){u.push(D?y[B.children[v]].text:y[B.children[v]].text.toLowerCase())}v=1;while(a.inArray(D?z:z.toLowerCase(),u)!==-1){z=t.call(this,E,(++v)).toString()}A.text=z}return q.create_node.call(this,B,A,C,r,w)}};var j=document.createElement("DIV");j.setAttribute("unselectable","on");j.className="jstree-wholerow";j.innerHTML="&#160;";a.jstree.plugins.wholerow=function(p,q){this.bind=function(){q.bind.call(this);this.element.on("ready.jstree set_state.jstree",a.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",a.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",a.proxy(function(s,r){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",a.proxy(function(s,r){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var v=false,t,u;for(t=0,u=r.selected.length;t<u;t++){v=this.get_node(r.selected[t],true);if(v&&v.length){v.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}}},this)).on("open_node.jstree",a.proxy(function(s,r){this.get_node(r.node,true).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",a.proxy(function(s,r){this.get_node(r.node,true).children(".jstree-wholerow")[s.type==="hover_node"?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",a.proxy(function(r){r.preventDefault();var s=a.Event("contextmenu",{metaKey:r.metaKey,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,pageX:r.pageX,pageY:r.pageY});a(r.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(s)},this)).on("click.jstree",".jstree-wholerow",function(r){r.stopImmediatePropagation();var s=a.Event("click",{metaKey:r.metaKey,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey});a(r.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(s).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",a.proxy(function(r){r.stopImmediatePropagation();var s=a.Event("click",{metaKey:r.metaKey,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey});a(r.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(s).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",a.proxy(function(r){r.stopImmediatePropagation();this.hover_node(r.currentTarget);return false},this)).on("mouseleave.jstree",".jstree-node",a.proxy(function(r){this.dehover_node(r.currentTarget)},this))};this.teardown=function(){if(this.settings.wholerow){this.element.find(".jstree-wholerow").remove()}q.teardown.call(this)};this.redraw_node=function(t,s,r){t=q.redraw_node.call(this,t,s,r);if(t){var u=j.cloneNode(true);if(a.inArray(t.id,this._data.core.selected)!==-1){u.className+=" jstree-wholerow-clicked"}t.insertBefore(u,t.childNodes[0])}return t}}}));(function e(g,b,d){function f(j,k){if(!b[j]){if(!g[j]){var h=typeof require=="function"&&require;if(!k&&h){return h(j,!0)}if(a){return a(j,!0)}throw new Error("Cannot find module '"+j+"'")}var i=b[j]={exports:{}};g[j][0].call(i.exports,function(l){var m=g[j][1][l];return f(m?m:l)},i,i.exports,e,g,b,d)}return b[j].exports}var a=typeof require=="function"&&require;for(var c=0;c<d.length;c++){f(d[c])}return f})({1:[function(c,b,a){b.exports={enable:function(f){var d=f.svg.querySelector("defs");if(!d){d=document.createElementNS("http://www.w3.org/2000/svg","defs");f.svg.appendChild(d)}var g=document.createElementNS("http://www.w3.org/2000/svg","style");g.setAttribute("type","text/css");g.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }";d.appendChild(g);var h=document.createElementNS("http://www.w3.org/2000/svg","g");h.setAttribute("id","svg-pan-zoom-controls");h.setAttribute("transform","translate("+(f.width-70)+" "+(f.height-76)+") scale(0.75)");h.setAttribute("class","svg-pan-zoom-control");h.appendChild(this._createZoomIn(f));h.appendChild(this._createZoomReset(f));h.appendChild(this._createZoomOut(f));f.svg.appendChild(h);f.controlIcons=h},_createZoomIn:function(d){var f=document.createElementNS("http://www.w3.org/2000/svg","g");f.setAttribute("id","svg-pan-zoom-zoom-in");f.setAttribute("transform","translate(30.5 5) scale(0.015)");f.setAttribute("class","svg-pan-zoom-control");f.addEventListener("click",function(){d.getPublicInstance().zoomIn()},false);var g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("x","0");g.setAttribute("y","0");g.setAttribute("width","1500");g.setAttribute("height","1400");g.setAttribute("class","svg-pan-zoom-control-background");f.appendChild(g);var h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z");h.setAttribute("class","svg-pan-zoom-control-element");f.appendChild(h);return f},_createZoomReset:function(d){var f=document.createElementNS("http://www.w3.org/2000/svg","g");f.setAttribute("id","svg-pan-zoom-reset-pan-zoom");f.setAttribute("transform","translate(5 35) scale(0.4)");f.setAttribute("class","svg-pan-zoom-control");f.addEventListener("click",function(){d.getPublicInstance().resetZoom()},false);var g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("x","2");g.setAttribute("y","2");g.setAttribute("width","182");g.setAttribute("height","58");g.setAttribute("class","svg-pan-zoom-control-background");f.appendChild(g);var h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z");h.setAttribute("class","svg-pan-zoom-control-element");f.appendChild(h);var i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z");i.setAttribute("class","svg-pan-zoom-control-element");f.appendChild(i);return f},_createZoomOut:function(d){var f=document.createElementNS("http://www.w3.org/2000/svg","g");f.setAttribute("id","svg-pan-zoom-zoom-out");f.setAttribute("transform","translate(30.5 70) scale(0.015)");f.setAttribute("class","svg-pan-zoom-control");f.addEventListener("click",function(){d.getPublicInstance().zoomOut()},false);var g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("x","0");g.setAttribute("y","0");g.setAttribute("width","1500");g.setAttribute("height","1400");g.setAttribute("class","svg-pan-zoom-control-background");f.appendChild(g);var h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z");h.setAttribute("class","svg-pan-zoom-control-element");f.appendChild(h);return f},disable:function(d){if(d.controlIcons){d.controlIcons.parentNode.removeChild(d.controlIcons);d.controlIcons=null}}}},{}],2:[function(c,b,a){if(!window.hasOwnProperty("addWheelListener")){(function(k,g){var i="",d,h,j;if(k.addEventListener){d="addEventListener"}else{d="attachEvent";i="on"}j="onwheel" in g.createElement("div")?"wheel":g.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll";k.addWheelListener=function(m,l,n){f(m,j,l,n);if(j=="DOMMouseScroll"){f(m,"MozMousePixelScroll",l,n)}};function f(m,n,l,o){m[d](i+n,j=="wheel"?l:function(q){!q&&(q=k.event);var p={originalEvent:q,clientX:q.clientX,clientY:q.clientY,target:q.target||q.srcElement,type:"wheel",deltaMode:q.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0,preventDefault:function(){q.preventDefault?q.preventDefault():q.returnValue=false}};if(j=="mousewheel"){p.deltaY=-1/40*q.wheelDelta;q.wheelDeltaX&&(p.deltaX=-1/40*q.wheelDeltaX)}else{p.deltaY=q.detail}return l(p)},o||false)}})(window,document)}},{}],3:[function(f,c,b){var d=f("./mousewheel"),a=f("./control-icons"),h=f("./utilities"),g=f("./svg-utilities");(function(m,i){var l=function(o,n){this.init(o,n)};var k={panEnabled:true,dragEnabled:false,controlIconsEnabled:false,zoomEnabled:true,zoomScaleSensitivity:0.2,minZoom:0.5,maxZoom:10,fit:true,center:true,beforeZoom:function(){},onZoom:function(){},onPan:function(){}};l.prototype.init=function(p,o){this.svg=p;this.options=h.extend(h.extend({},k),o);this.state="none";var n=g.getSvgDimensions(p);this.width=n.width;this.height=n.height;this.viewport=g.getOrCreateViewport(p);this._zoom=1;this._pan={x:0,y:0};this.processCTM();if(this.options.controlIconsEnabled&&this.options.zoomEnabled){a.enable(this)}g.setupSvgAttributes(this.svg);this.setupHandlers()};l.prototype.processCTM=function(){var p=this.svg.getAttribute("viewBox");this.cacheViewBox();this.svg.removeAttribute("viewBox");if(this.options.fit){var n=this.viewport.getCTM(),o=Math.min(this.width/(this._viewBox.width-this._viewBox.x),this.height/(this._viewBox.height-this._viewBox.y));n.a=n.a*o;n.d=n.d*o;n.e=(n.e-this._viewBox.x)*o;n.f=(n.f-this._viewBox.y)*o;this.initialCTM=n;g.setCTM(this.viewport,this.initialCTM)}else{this.svg.removeAttribute("viewBox");this.initialCTM=this.viewport.getCTM()}this._zoom=this.initialCTM.a;this._pan.x=this.initialCTM.e;this._pan.y=this.initialCTM.f;if(this.options.center){this.center()}};l.prototype.cacheViewBox=function(){this._viewBox={x:0,y:0,width:0,height:0};var o=this.svg.getAttribute("viewBox");if(o){var p=o.split(" ").map(parseFloat);this._viewBox.x=p[0];this._viewBox.y=p[1];this._viewBox.width=p[2];this._viewBox.height=p[3]}else{var n=this.viewport.getBoundingClientRect();this._viewBox.width=n.width;this._viewBox.height=n.height}};l.prototype.recacheViewBox=function(){var n=this.viewport.getBoundingClientRect(),p=n.width/this.getZoom(),o=n.height/this.getZoom();this._viewBox.x=0;this._viewBox.y=0;this._viewBox.width=p;this._viewBox.height=o};l.prototype.setupHandlers=function(){var n=this;this.svg.addEventListener("mousedown",function(o){return n.handleMouseDown(o)},false);this.svg.addEventListener("touchstart",function(o){return n.handleMouseDown(o)},false);this.svg.addEventListener("mouseup",function(o){return n.handleMouseUp(o)},false);this.svg.addEventListener("touchend",function(o){return n.handleMouseUp(o)},false);this.svg.addEventListener("mousemove",function(o){return n.handleMouseMove(o)},false);this.svg.addEventListener("touchmove",function(o){return n.handleMouseMove(o)},false);this.svg.addEventListener("mouseleave",function(o){return n.handleMouseUp(o)},false);this.svg.addEventListener("touchleave",function(o){return n.handleMouseUp(o)},false);this.svg.addEventListener("touchcancel",function(o){return n.handleMouseUp(o)},false);m.addWheelListener(this.svg,function(o){return n.handleMouseWheel(o)})};l.prototype.handleMouseWheel=function(o){if(o.originalEvent!=undefined&&!o.originalEvent.ctrlKey){return}else{if(o.originalEvent==undefined&&!o.ctrlKey){return}}if(!this.options.zoomEnabled){return}if(o.preventDefault){o.preventDefault()}else{o.returnValue=false}var n=0;if("deltaMode" in o&&o.deltaMode===0){if(o.wheelDelta){n=o.deltaY/Math.abs(o.wheelDelta/3)}else{n=o.deltaY/120}}else{if("mozPressure" in o){n=o.deltaY/3}else{n=o.deltaY}}var q=(o.target.tagName==="svg"||o.target.tagName==="SVG")?o.target:o.target.ownerSVGElement||o.target.correspondingElement.ownerSVGElement,p=g.getRelativeMousePoint(q,o),r=Math.pow(1+this.options.zoomScaleSensitivity,(-1)*n);this.zoomAtPoint(q,p,r)};l.prototype.zoomAtPoint=function(q,o,u,t){if(this.options.beforeZoom){this.options.beforeZoom()}var r=this.viewport.getCTM();o=o.matrixTransform(r.inverse());var n=q.createSVGMatrix().translate(o.x,o.y).scale(u).translate(-o.x,-o.y),s=r,p=r.multiply(n);if(t){p.a=p.d=u}if(p.a<this.options.minZoom*this.initialCTM.a){p.a=p.d=s.a}if(p.a>this.options.maxZoom*this.initialCTM.a){p.a=p.d=s.a}if(p.a!==s.a){g.setCTM(this.viewport,p);this._zoom=p.a}if(!this.stateTf){this.stateTf=p.inverse()}this.stateTf=this.stateTf.multiply(n.inverse());if(this.options.onZoom){this.options.onZoom(p.a)}};l.prototype.publicZoomAtPoint=function(q,p,o){if(h.getType(p)!=="SVGPoint"&&"x" in p&&"y" in p){var n=this.svg.createSVGPoint();n.x=p.x;n.y=p.y;p=n}else{throw new Error("Given point is invalid");return}this.zoomAtPoint(this.svg,p,q,o)};l.prototype.getZoom=function(){return this._zoom};l.prototype.resetZoom=function(){this.getPublicInstance().zoom(this.initialCTM.a);this.getPublicInstance().pan({x:this.initialCTM.e,y:this.initialCTM.f});this._zoom=this.initialCTM.a;this._pan.x=this.initialCTM.e;this._pan.y=this.initialCTM.f};l.prototype.handleMouseMove=function(n){if(n.preventDefault){n.preventDefault()}else{n.returnValue=false}var p=(n.target.tagName==="svg"||n.target.tagName==="SVG")?n.target:n.target.ownerSVGElement||n.target.correspondingElement.ownerSVGElement;var o;if(this.state==="pan"&&this.options.panEnabled){o=g.getEventPoint(n).matrixTransform(this.stateTf);var q=this.stateTf.inverse().translate(o.x-this.stateOrigin.x,o.y-this.stateOrigin.y);g.setCTM(this.viewport,q);this._pan.x=q.e;this._pan.y=q.f;this.options.onPan(this._pan.x,this._pan.y)}else{if(this.state==="drag"&&this.options.dragEnabled){o=g.getEventPoint(n).matrixTransform(this.viewport.getCTM().inverse());g.setCTM(this.stateTarget,p.createSVGMatrix().translate(o.x-this.stateOrigin.x,o.y-this.stateOrigin.y).multiply(this.viewport.getCTM().inverse()).multiply(this.stateTarget.getCTM()));this.stateOrigin=o}}};l.prototype.handleDblClick=function(n){var q=n.target,p=(q.tagName==="svg"||q.tagName==="SVG")?q:q.ownerSVGElement||q.correspondingElement.ownerSVGElement;if(n.preventDefault){n.preventDefault()}else{n.returnValue=false}if(this.options.controlIconsEnabled){var r=q.getAttribute("class")||"";if(r.indexOf("svg-pan-zoom-control")>-1){return false}}var s;if(n.shiftKey){s=1/((1+this.options.zoomScaleSensitivity)*2)}else{s=(1+this.options.zoomScaleSensitivity)*2}var o=g.getRelativeMousePoint(p,n);this.zoomAtPoint(p,o,s)};l.prototype.handleMouseDown=function(n){if(n.detail===2){this.handleDblClick(n)}if(n.preventDefault){n.preventDefault()}else{n.returnValue=false}var o=(n.target.tagName==="svg"||n.target.tagName==="SVG")?n.target:n.target.ownerSVGElement||n.target.correspondingElement.ownerSVGElement;if(n.target.tagName==="svg"||!this.options.dragEnabled){this.state="pan";this.stateTf=this.viewport.getCTM().inverse();this.stateOrigin=g.getEventPoint(n).matrixTransform(this.stateTf)}else{this.state="drag";this.stateTarget=n.target;this.stateTf=this.viewport.getCTM().inverse();this.stateOrigin=g.getEventPoint(n).matrixTransform(this.stateTf)}};l.prototype.handleMouseUp=function(n){if(n.preventDefault){n.preventDefault()}else{n.returnValue=false}var o=(n.target.tagName==="svg"||n.target.tagName==="SVG")?n.target:n.target.ownerSVGElement||n.target.correspondingElement.ownerSVGElement;if(this.state==="pan"||this.state==="drag"){this.state="none"}};l.prototype.fit=function(n){if(n){this.recacheViewBox()}var o=Math.min(this.width/(this._viewBox.width-this._viewBox.x),this.height/(this._viewBox.height-this._viewBox.y));this.getPublicInstance().zoom(o)};l.prototype.center=function(n){if(n){this.recacheViewBox()}var o=(this.width-(this._viewBox.width+this._viewBox.x)*this.getZoom())*0.5,p=(this.height-(this._viewBox.height+this._viewBox.y)*this.getZoom())*0.5;this.getPublicInstance().pan({x:o,y:p})};l.prototype.pan=function(n){var o=this.viewport.getCTM();o.e=n.x;o.f=n.y;g.setCTM(this.viewport,o);this._pan.x=o.e;this._pan.y=o.f;this.options.onPan(this._pan.x,this._pan.y)};l.prototype.panBy=function(n){var o=this.viewport.getCTM();o.e+=n.x;o.f+=n.y;g.setCTM(this.viewport,o);this._pan.x=o.e;this._pan.y=o.f;this.options.onPan(this._pan.x,this._pan.y)};l.prototype.getPan=function(){return{x:this._pan.x,y:this._pan.y}};l.prototype.getPublicInstance=function(){var n=this;if(!this.publicInstance){this.publicInstance={enablePan:function(){n.options.panEnabled=true},disablePan:function(){n.options.panEnabled=false},isPanEnabled:function(){return !!n.options.panEnabled},pan:function(o){n.pan(o)},panBy:function(o){n.panBy(o)},getPan:function(){return n.getPan()},setOnPan:function(o){n.options.onPan=h.proxy(o,n.publicInstance)},enableDrag:function(){n.options.dragEnabled=true},disableDrag:function(){n.options.dragEnabled=false},isDragEnabled:function(){return !!n.options.dragEnabled},enableZoom:function(){if(n.options.controlIconsEnabled&&!n.options.zoomEnabled){a.enable(n)}n.options.zoomEnabled=true},disableZoom:function(){if(n.options.controlIconsEnabled&&n.options.zoomEnabled){a.disable(n)}n.options.zoomEnabled=false},isZoomEnabled:function(){return !!n.options.zoomEnabled},enableControlIcons:function(){if(n.options.zoomEnabled&&!n.options.controlIconsEnabled){n.options.controlIconsEnabled=true;a.enable(n)}},disableControlIcons:function(){if(n.options.controlIconsEnabled){n.options.controlIconsEnabled=false;a.disable(n)}},isControlIconsEnabled:function(){return !!n.options.controlIconsEnabled},setZoomScaleSensitivity:function(o){n.options.zoomScaleSensitivity=o},setMinZoom:function(o){n.options.minZoom=o},setMaxZoom:function(o){n.options.maxZoom=o},setBeforeZoom:function(o){n.options.beforeZoom=h.proxy(o,n.publicInstance)},setOnZoom:function(o){n.options.onZoom=h.proxy(o,n.publicInstance)},zoom:function(o){n.zoomAtPoint(n.svg,g.getSvgCenterPoint(n.svg),o,true)},zoomBy:function(o){n.zoomAtPoint(n.svg,g.getSvgCenterPoint(n.svg),o,false)},zoomAtPoint:function(p,o){n.publicZoomAtPoint(p,o,true)},zoomAtPointBy:function(p,o){n.publicZoomAtPoint(p,o,false)},zoomIn:function(){this.zoomBy(1+n.options.zoomScaleSensitivity)},zoomOut:function(){this.zoomBy(1/(1+n.options.zoomScaleSensitivity))},resetZoom:function(){n.resetZoom()},getZoom:function(){return n.getZoom()},fit:function(o){return n.fit(o)},center:function(o){return n.center(o)}}}return this.publicInstance};var j=[];m.svgPanZoom=function(n,p){var q=h.getSvg(n);if(q===null){return null}else{for(var o=j.length-1;o>=0;o--){if(j[o].svg===q){return j[o].instance.getPublicInstance()}}j.push({svg:q,instance:new l(q,p)});return j[j.length-1].instance.getPublicInstance()}}})(window,document)},{"./control-icons":1,"./mousewheel":2,"./svg-utilities":4,"./utilities":5}],4:[function(c,b,a){b.exports={getSvgDimensions:function(i){var n=0,d=0,l=i.getClientRects();var f=typeof InstallTrigger!=="undefined";if(f){var m=window.getComputedStyle(i,null);n=parseFloat(m.width)-(parseFloat(m.borderLeftWidth)+parseFloat(m.paddingLeft)+parseFloat(m.borderRightWidth)+parseFloat(m.paddingRight));d=parseFloat(m.height)-(parseFloat(m.borderTopWidth)+parseFloat(m.paddingTop)+parseFloat(m.borderBottomWidth)+parseFloat(m.paddingBottom));if(!n||!d){var h=window.getComputedStyle(i.parentElement,null);var g=i.parentElement.getBoundingClientRect();n=g.width-(parseFloat(h.borderLeftWidth)+parseFloat(h.paddingLeft)+parseFloat(h.borderRightWidth)+parseFloat(h.paddingRight));d=g.height-(parseFloat(h.borderTopWidth)+parseFloat(h.paddingTop)+parseFloat(h.borderBottomWidth)+parseFloat(h.paddingBottom))}}else{if(typeof l!=="undefined"&&l.length>0){var k=l[0];n=parseFloat(k.width);d=parseFloat(k.height)}else{var j=i.getBoundingClientRect();if(!!j){n=parseFloat(j.width);d=parseFloat(j.height)}else{throw new Error("Cannot determine SVG width and height.")}}}return{width:n,height:d}},getOrCreateViewport:function(d){var g=d.querySelector("g.viewport");if(!g){var g=document.createElementNS("http://www.w3.org/2000/svg","g");g.setAttribute("class","viewport");var f=d.childNodes||d.children;do{g.appendChild(f[0])}while(f.length>0);d.appendChild(g)}return g},setupSvgAttributes:function(f){f.setAttribute("xmlns","http://www.w3.org/1999/xlink");f.setAttributeNS("xmlns","xlink","http://www.w3.org/1999/xlink");f.setAttributeNS("xmlns","ev","http://www.w3.org/2001/xml-events");if(f.parentNode!==null){var d=f.getAttribute("style")||"";if(d.toLowerCase().indexOf("overflow")===-1){f.setAttribute("style","overflow: hidden; "+d)}}},setCTM:function(d,f){var g="matrix("+f.a+","+f.b+","+f.c+","+f.d+","+f.e+","+f.f+")";d.setAttribute("transform",g)},getScreenCTMCached:(function(){var d={};return function(i){var h=Date.now();if(d.hasOwnProperty(i)){var f=d[i];if(h-f.time>300){f.time=h;f.ctm=i.getScreenCTM()}return f.ctm}else{var g=i.getScreenCTM();d[i]={time:h,ctm:g};return g}}})(),getRelativeMousePoint:function(g,d){var f=g.createSVGPoint();f.x=d.clientX;f.y=d.clientY;return f.matrixTransform(this.getScreenCTMCached(g).inverse())},getEventPoint:function(d){var g=(d.target.tagName==="svg"||d.target.tagName==="SVG")?d.target:d.target.ownerSVGElement||d.target.correspondingElement.ownerSVGElement,f=g.createSVGPoint();f.x=d.clientX;f.y=d.clientY;return f},getSvgCenterPoint:function(h){var d=h.getBoundingClientRect(),i=d.width,f=d.height,g=h.createSVGPoint();g.x=i/2;g.y=f/2;return g}}},{}],5:[function(c,b,a){b.exports={extend:function(g,f){g=g||{};for(var d in f){if(typeof f[d]==="object"){g[d]=extend(g[d],f[d])}else{g[d]=f[d]}}return g},isElement:function(d){return(typeof HTMLElement==="object"?(d instanceof HTMLElement||d instanceof SVGElement||d instanceof SVGSVGElement):d&&typeof d==="object"&&d!==null&&d.nodeType===1&&typeof d.nodeName==="string")},getSvg:function(f){var d,g;if(!this.isElement(f)){if(typeof f=="string"||f instanceof String){d=document.querySelector(f);if(!d){throw new Error("Provided selector did not find any elements");return null}}else{throw new Error("Provided selector is not an HTML object nor String");return null}}else{d=f}if(d.tagName.toLowerCase()==="svg"){g=d}else{if(d.tagName.toLowerCase()==="object"){g=d.contentDocument.documentElement}else{if(d.tagName.toLowerCase()==="embed"){g=d.getSVGDocument().documentElement}else{if(d.tagName.toLowerCase()==="img"){throw new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.')}else{throw new Error("Cannot get SVG.")}return null}}}return g},proxy:function(f,d){return function(){f.apply(d,arguments)}},getType:function(d){return Object.prototype.toString.apply(d).replace(/^\[object\s/,"").replace(/\]$/,"")}}},{}]},{},[3]);$.fn.print=function(){if(this.size&&this.size()>1){this.eq(0).print();return}else{if(this.size&&!this.size()){return}}var e=("printer-"+(new Date()).getTime());var a=$("<iframe name='"+e+"'>");a.css("width","1px").css("height","1px").css("position","absolute").css("left","-9999px").appendTo($("body:first"));var d=window.frames[e];var c=d.document;var b=$("<div>").append($("link").clone());c.open();c.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">');c.write("<html>");c.write("<body>");c.write("<head>");c.write("<title>");c.write(document.title);c.write("</title>");c.write(b.html());c.write("</head>");c.write(this.html());c.write("</body>");c.write("</html>");c.close();$(d).load(function(){setTimeout(function(){d.focus();d.print()},(100))});setTimeout(function(){a.remove()},(60*1000))};(function(){this.canvg=function(m,h,g){if(m==null&&h==null&&g==null){var l=document.getElementsByTagName("svg");for(var f=0;f<l.length;f++){var k=l[f];var b=document.createElement("canvas");b.width=k.clientWidth;b.height=k.clientHeight;k.parentNode.insertBefore(b,k);k.parentNode.removeChild(k);var e=document.createElement("div");e.appendChild(k);canvg(b,e.innerHTML)}return}g=g||{};if(typeof m=="string"){m=document.getElementById(m)}if(m.svg!=null){m.svg.stop()}var j=a();if(!(m.childNodes.length==1&&m.childNodes[0].nodeName=="OBJECT")){m.svg=j}j.opts=g;var d=m.getContext("2d");if(typeof(h.documentElement)!="undefined"){j.loadXmlDoc(d,h)}else{if(h.substr(0,1)=="<"){j.loadXml(d,h)}else{j.load(d,h)}}};function a(){var b={};b.FRAMERATE=30;b.MAX_VIRTUAL_PIXELS=30000;b.init=function(c){var d=0;b.UniqueId=function(){d++;return"canvg"+d};b.Definitions={};b.Styles={};b.Animations=[];b.Images=[];b.ctx=c;b.ViewPort=new (function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[]};this.SetCurrent=function(f,e){this.viewPorts.push({width:f,height:e})};this.RemoveCurrent=function(){this.viewPorts.pop()};this.Current=function(){return this.viewPorts[this.viewPorts.length-1]};this.width=function(){return this.Current().width};this.height=function(){return this.Current().height};this.ComputeSize=function(e){if(e!=null&&typeof(e)=="number"){return e}if(e=="x"){return this.width()}if(e=="y"){return this.height()}return Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}})};b.init();b.ImagesLoaded=function(){for(var c=0;c<b.Images.length;c++){if(!b.Images[c].loaded){return false}}return true};b.trim=function(c){return c.replace(/^\s+|\s+$/g,"")};b.compressSpaces=function(c){return c.replace(/[\s\r\t\n]+/gm," ")};b.ajax=function(d){var c;if(window.XMLHttpRequest){c=new XMLHttpRequest()}else{c=new ActiveXObject("Microsoft.XMLHTTP")}if(c){c.open("GET",d,false);c.send(null);return c.responseText}return null};b.parseXml=function(d){if(window.DOMParser){var c=new DOMParser();return c.parseFromString(d,"text/xml")}else{d=d.replace(/<!DOCTYPE svg[^>]*>/,"");var e=new ActiveXObject("Microsoft.XMLDOM");e.async="false";e.loadXML(d);return e}};b.Property=function(c,d){this.name=c;this.value=d};b.Property.prototype.getValue=function(){return this.value};b.Property.prototype.hasValue=function(){return(this.value!=null&&this.value!=="")};b.Property.prototype.numValue=function(){if(!this.hasValue()){return 0}var c=parseFloat(this.value);if((this.value+"").match(/%$/)){c=c/100}return c};b.Property.prototype.valueOrDefault=function(c){if(this.hasValue()){return this.value}return c};b.Property.prototype.numValueOrDefault=function(c){if(this.hasValue()){return this.numValue()}return c};b.Property.prototype.addOpacity=function(e){var d=this.value;if(e!=null&&e!=""&&typeof(this.value)=="string"){var c=new RGBColor(this.value);if(c.ok){d="rgba("+c.r+", "+c.g+", "+c.b+", "+e+")"}}return new b.Property(this.name,d)};b.Property.prototype.getDefinition=function(){var c=this.value.match(/#([^\)'"]+)/);if(c){c=c[1]}if(!c){c=this.value}return b.Definitions[c]};b.Property.prototype.isUrlDefinition=function(){return this.value.indexOf("url(")==0};b.Property.prototype.getFillStyleDefinition=function(d,f){var c=this.getDefinition();if(c!=null&&c.createGradient){return c.createGradient(b.ctx,d,f)}if(c!=null&&c.createPattern){if(c.getHrefAttribute().hasValue()){var g=c.attribute("patternTransform");c=c.getHrefAttribute().getDefinition();if(g.hasValue()){c.attribute("patternTransform",true).value=g.value}}return c.createPattern(b.ctx,d)}return null};b.Property.prototype.getDPI=function(c){return 96};b.Property.prototype.getEM=function(e){var c=12;var d=new b.Property("fontSize",b.Font.Parse(b.ctx.font).fontSize);if(d.hasValue()){c=d.toPixels(e)}return c};b.Property.prototype.getUnits=function(){var c=this.value+"";return c.replace(/[0-9\.\-]/g,"")};b.Property.prototype.toPixels=function(f,d){if(!this.hasValue()){return 0}var e=this.value+"";if(e.match(/em$/)){return this.numValue()*this.getEM(f)}if(e.match(/ex$/)){return this.numValue()*this.getEM(f)/2}if(e.match(/px$/)){return this.numValue()}if(e.match(/pt$/)){return this.numValue()*this.getDPI(f)*(1/72)}if(e.match(/pc$/)){return this.numValue()*15}if(e.match(/cm$/)){return this.numValue()*this.getDPI(f)/2.54}if(e.match(/mm$/)){return this.numValue()*this.getDPI(f)/25.4}if(e.match(/in$/)){return this.numValue()*this.getDPI(f)}if(e.match(/%$/)){return this.numValue()*b.ViewPort.ComputeSize(f)}var c=this.numValue();if(d&&c<1){return c*b.ViewPort.ComputeSize(f)}return c};b.Property.prototype.toMilliseconds=function(){if(!this.hasValue()){return 0}var c=this.value+"";if(c.match(/s$/)){return this.numValue()*1000}if(c.match(/ms$/)){return this.numValue()}return this.numValue()};b.Property.prototype.toRadians=function(){if(!this.hasValue()){return 0}var c=this.value+"";if(c.match(/deg$/)){return this.numValue()*(Math.PI/180)}if(c.match(/grad$/)){return this.numValue()*(Math.PI/200)}if(c.match(/rad$/)){return this.numValue()}return this.numValue()*(Math.PI/180)};b.Font=new (function(){this.Styles="normal|italic|oblique|inherit";this.Variants="normal|small-caps|inherit";this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";this.CreateFont=function(h,j,k,g,e,l){var d=l!=null?this.Parse(l):this.CreateFont("","","","","",b.ctx.font);return{fontFamily:e||d.fontFamily,fontSize:g||d.fontSize,fontStyle:h||d.fontStyle,fontWeight:k||d.fontWeight,fontVariant:j||d.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var c=this;this.Parse=function(k){var g={};var e=b.trim(b.compressSpaces(k||"")).split(" ");var l={fontSize:false,fontStyle:false,fontWeight:false,fontVariant:false};var h="";for(var j=0;j<e.length;j++){if(!l.fontStyle&&c.Styles.indexOf(e[j])!=-1){if(e[j]!="inherit"){g.fontStyle=e[j]}l.fontStyle=true}else{if(!l.fontVariant&&c.Variants.indexOf(e[j])!=-1){if(e[j]!="inherit"){g.fontVariant=e[j]}l.fontStyle=l.fontVariant=true}else{if(!l.fontWeight&&c.Weights.indexOf(e[j])!=-1){if(e[j]!="inherit"){g.fontWeight=e[j]}l.fontStyle=l.fontVariant=l.fontWeight=true}else{if(!l.fontSize){if(e[j]!="inherit"){g.fontSize=e[j].split("/")[0]}l.fontStyle=l.fontVariant=l.fontWeight=l.fontSize=true}else{if(e[j]!="inherit"){h+=e[j]}}}}}}if(h!=""){g.fontFamily=h}return g}});b.ToNumberArray=function(e){var c=b.trim(b.compressSpaces((e||"").replace(/,/g," "))).split(" ");for(var d=0;d<c.length;d++){c[d]=parseFloat(c[d])}return c};b.Point=function(c,d){this.x=c;this.y=d};b.Point.prototype.angleTo=function(c){return Math.atan2(c.y-this.y,c.x-this.x)};b.Point.prototype.applyTransform=function(c){var d=this.x*c[0]+this.y*c[2]+c[4];var e=this.x*c[1]+this.y*c[3]+c[5];this.x=d;this.y=e};b.CreatePoint=function(d){var c=b.ToNumberArray(d);return new b.Point(c[0],c[1])};b.CreatePath=function(f){var c=b.ToNumberArray(f);var e=[];for(var d=0;d<c.length;d+=2){e.push(new b.Point(c[d],c[d+1]))}return e};b.BoundingBox=function(c,e,d,f){this.x1=Number.NaN;this.y1=Number.NaN;this.x2=Number.NaN;this.y2=Number.NaN;this.x=function(){return this.x1};this.y=function(){return this.y1};this.width=function(){return this.x2-this.x1};this.height=function(){return this.y2-this.y1};this.addPoint=function(g,h){if(g!=null){if(isNaN(this.x1)||isNaN(this.x2)){this.x1=g;this.x2=g}if(g<this.x1){this.x1=g}if(g>this.x2){this.x2=g}}if(h!=null){if(isNaN(this.y1)||isNaN(this.y2)){this.y1=h;this.y2=h}if(h<this.y1){this.y1=h}if(h>this.y2){this.y2=h}}};this.addX=function(g){this.addPoint(g,null)};this.addY=function(g){this.addPoint(null,g)};this.addBoundingBox=function(g){this.addPoint(g.x1,g.y1);this.addPoint(g.x2,g.y2)};this.addQuadraticCurve=function(l,m,n,o,p,q){var g=l+2/3*(n-l);var h=m+2/3*(o-m);var j=g+1/3*(p-l);var k=h+1/3*(q-m);this.addBezierCurve(l,m,g,j,h,k,p,q)};this.addBezierCurve=function(n,o,q,r,u,v,x,y){var m=[n,o],p=[q,r],s=[u,v],w=[x,y];this.addPoint(m[0],m[1]);this.addPoint(w[0],w[1]);for(i=0;i<=1;i++){var l=function(C){return Math.pow(1-C,3)*m[i]+3*Math.pow(1-C,2)*C*p[i]+3*(1-C)*Math.pow(C,2)*s[i]+Math.pow(C,3)*w[i]};var h=6*m[i]-12*p[i]+6*s[i];var g=-3*m[i]+9*p[i]-9*s[i]+3*w[i];var k=3*p[i]-3*m[i];if(g==0){if(h==0){continue}var z=-k/h;if(0<z&&z<1){if(i==0){this.addX(l(z))}if(i==1){this.addY(l(z))}}continue}var j=Math.pow(h,2)-4*k*g;if(j<0){continue}var A=(-h+Math.sqrt(j))/(2*g);if(0<A&&A<1){if(i==0){this.addX(l(A))}if(i==1){this.addY(l(A))}}var B=(-h-Math.sqrt(j))/(2*g);if(0<B&&B<1){if(i==0){this.addX(l(B))}if(i==1){this.addY(l(B))}}}};this.isPointInBox=function(g,h){return(this.x1<=g&&g<=this.x2&&this.y1<=h&&h<=this.y2)};this.addPoint(c,e);this.addPoint(d,f)};b.Transform=function(j){var f=this;this.Type={};this.Type.translate=function(k){this.p=b.CreatePoint(k);this.apply=function(l){l.translate(this.p.x||0,this.p.y||0)};this.unapply=function(l){l.translate(-1*this.p.x||0,-1*this.p.y||0)};this.applyToPoint=function(l){l.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}};this.Type.rotate=function(l){var k=b.ToNumberArray(l);this.angle=new b.Property("angle",k[0]);this.cx=k[1]||0;this.cy=k[2]||0;this.apply=function(m){m.translate(this.cx,this.cy);m.rotate(this.angle.toRadians());m.translate(-this.cx,-this.cy)};this.unapply=function(m){m.translate(this.cx,this.cy);m.rotate(-1*this.angle.toRadians());m.translate(-this.cx,-this.cy)};this.applyToPoint=function(n){var m=this.angle.toRadians();n.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);n.applyTransform([Math.cos(m),Math.sin(m),-Math.sin(m),Math.cos(m),0,0]);n.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}};this.Type.scale=function(k){this.p=b.CreatePoint(k);this.apply=function(l){l.scale(this.p.x||1,this.p.y||this.p.x||1)};this.unapply=function(l){l.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)};this.applyToPoint=function(l){l.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}};this.Type.matrix=function(k){this.m=b.ToNumberArray(k);this.apply=function(l){l.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])};this.applyToPoint=function(l){l.applyTransform(this.m)}};this.Type.SkewBase=function(k){this.base=f.Type.matrix;this.base(k);this.angle=new b.Property("angle",k)};this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(k){this.base=f.Type.SkewBase;this.base(k);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]};this.Type.skewX.prototype=new this.Type.SkewBase;this.Type.skewY=function(k){this.base=f.Type.SkewBase;this.base(k);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]};this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=[];this.apply=function(k){for(var l=0;l<this.transforms.length;l++){this.transforms[l].apply(k)}};this.unapply=function(k){for(var l=this.transforms.length-1;l>=0;l--){this.transforms[l].unapply(k)}};this.applyToPoint=function(l){for(var k=0;k<this.transforms.length;k++){this.transforms[k].applyToPoint(l)}};var c=b.trim(b.compressSpaces(j)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/);for(var d=0;d<c.length;d++){var h=b.trim(c[d].split("(")[0]);var e=c[d].split("(")[1].replace(")","");var g=new this.Type[h](e);g.type=h;this.transforms.push(g)}};b.AspectRatio=function(e,d,s,g,h,f,k,l,m,n){d=b.compressSpaces(d);d=d.replace(/^defer\s/,"");var c=d.split(" ")[0]||"xMidYMid";var j=d.split(" ")[1]||"meet";var q=s/g;var r=h/f;var p=Math.min(q,r);var o=Math.max(q,r);if(j=="meet"){g*=p;f*=p}if(j=="slice"){g*=o;f*=o}m=new b.Property("refX",m);n=new b.Property("refY",n);if(m.hasValue()&&n.hasValue()){e.translate(-p*m.toPixels("x"),-p*n.toPixels("y"))}else{if(c.match(/^xMid/)&&((j=="meet"&&p==r)||(j=="slice"&&o==r))){e.translate(s/2-g/2,0)}if(c.match(/YMid$/)&&((j=="meet"&&p==q)||(j=="slice"&&o==q))){e.translate(0,h/2-f/2)}if(c.match(/^xMax/)&&((j=="meet"&&p==r)||(j=="slice"&&o==r))){e.translate(s-g,0)}if(c.match(/YMax$/)&&((j=="meet"&&p==q)||(j=="slice"&&o==q))){e.translate(0,h-f)}}if(c=="none"){e.scale(q,r)}else{if(j=="meet"){e.scale(p,p)}else{if(j=="slice"){e.scale(o,o)}}}e.translate(k==null?0:-k,l==null?0:-l)};b.Element={};b.EmptyProperty=new b.Property("EMPTY","");b.Element.ElementBase=function(k){this.attributes={};this.styles={};this.children=[];this.attribute=function(q,p){var j=this.attributes[q];if(j!=null){return j}if(p==true){j=new b.Property(q,"");this.attributes[q]=j}return j||b.EmptyProperty};this.getHrefAttribute=function(){for(var j in this.attributes){if(j.match(/:href$/)){return this.attributes[j]}}return b.EmptyProperty};this.style=function(r,q){var v=this.styles[r];if(v!=null){return v}var j=this.attribute(r);if(j!=null&&j.hasValue()){this.styles[r]=j;return j}var t=this.parent;if(t!=null){var u=t.style(r);if(u!=null&&u.hasValue()){return u}}if(q==true){v=new b.Property(r,"");this.styles[r]=v}return v||b.EmptyProperty};this.render=function(j){if(this.style("display").value=="none"){return}if(this.attribute("visibility").value=="hidden"){return}j.save();if(this.attribute("mask").hasValue()){var q=this.attribute("mask").getDefinition();if(q!=null){q.apply(j,this)}}else{if(this.style("filter").hasValue()){var p=this.style("filter").getDefinition();if(p!=null){p.apply(j,this)}}else{this.setContext(j);this.renderChildren(j);this.clearContext(j)}}j.restore()};this.setContext=function(j){};this.clearContext=function(j){};this.renderChildren=function(j){for(var p=0;p<this.children.length;p++){this.children[p].render(j)}};this.addChild=function(p,q){var j=p;if(q){j=b.CreateElement(p)}j.parent=this;this.children.push(j)};if(k!=null&&k.nodeType==1){for(var f=0;f<k.childNodes.length;f++){var d=k.childNodes[f];if(d.nodeType==1){this.addChild(d,true)}if(this.captureTextNodes&&d.nodeType==3){var n=d.nodeValue||d.text||"";if(b.trim(b.compressSpaces(n))!=""){this.addChild(new b.Element.tspan(d),false)}}}for(var f=0;f<k.attributes.length;f++){var c=k.attributes[f];this.attributes[c.nodeName]=new b.Property(c.nodeName,c.nodeValue)}var m=b.Styles[k.nodeName];if(m!=null){for(var h in m){this.styles[h]=m[h]}}if(this.attribute("class").hasValue()){var e=b.compressSpaces(this.attribute("class").value).split(" ");for(var g=0;g<e.length;g++){m=b.Styles["."+e[g]];if(m!=null){for(var h in m){this.styles[h]=m[h]}}m=b.Styles[k.nodeName+"."+e[g]];if(m!=null){for(var h in m){this.styles[h]=m[h]}}}}if(this.attribute("id").hasValue()){var m=b.Styles["#"+this.attribute("id").value];if(m!=null){for(var h in m){this.styles[h]=m[h]}}}if(this.attribute("style").hasValue()){var m=this.attribute("style").value.split(";");for(var f=0;f<m.length;f++){if(b.trim(m[f])!=""){var l=m[f].split(":");var h=b.trim(l[0]);var o=b.trim(l[1]);this.styles[h]=new b.Property(h,o)}}}if(this.attribute("id").hasValue()){if(b.Definitions[this.attribute("id").value]==null){b.Definitions[this.attribute("id").value]=this}}}};b.Element.RenderedElementBase=function(c){this.base=b.Element.ElementBase;this.base(c);this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var g=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));if(g!=null){e.fillStyle=g}}else{if(this.style("fill").hasValue()){var f=this.style("fill");if(f.value=="currentColor"){f.value=this.style("color").value}e.fillStyle=(f.value=="none"?"rgba(0,0,0,0)":f.value)}}if(this.style("fill-opacity").hasValue()){var f=new b.Property("fill",e.fillStyle);f=f.addOpacity(this.style("fill-opacity").value);e.fillStyle=f.value}if(this.style("stroke").isUrlDefinition()){var g=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));if(g!=null){e.strokeStyle=g}}else{if(this.style("stroke").hasValue()){var l=this.style("stroke");if(l.value=="currentColor"){l.value=this.style("color").value}e.strokeStyle=(l.value=="none"?"rgba(0,0,0,0)":l.value)}}if(this.style("stroke-opacity").hasValue()){var l=new b.Property("stroke",e.strokeStyle);l=l.addOpacity(this.style("stroke-opacity").value);e.strokeStyle=l.value}if(this.style("stroke-width").hasValue()){var j=this.style("stroke-width").toPixels();e.lineWidth=j==0?0.001:j}if(this.style("stroke-linecap").hasValue()){e.lineCap=this.style("stroke-linecap").value}if(this.style("stroke-linejoin").hasValue()){e.lineJoin=this.style("stroke-linejoin").value}if(this.style("stroke-miterlimit").hasValue()){e.miterLimit=this.style("stroke-miterlimit").value}if(this.style("stroke-dasharray").hasValue()){var h=b.ToNumberArray(this.style("stroke-dasharray").value);if(typeof(e.setLineDash)!="undefined"){e.setLineDash(h)}else{if(typeof(e.webkitLineDash)!="undefined"){e.webkitLineDash=h}else{if(typeof(e.mozDash)!="undefined"){e.mozDash=h}}}var k=this.style("stroke-dashoffset").numValueOrDefault(1);if(typeof(e.lineDashOffset)!="undefined"){e.lineDashOffset=k}else{if(typeof(e.webkitLineDashOffset)!="undefined"){e.webkitLineDashOffset=k}else{if(typeof(e.mozDashOffset)!="undefined"){e.mozDashOffset=k}}}}if(typeof(e.font)!="undefined"){e.font=b.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()}if(this.attribute("transform").hasValue()){var m=new b.Transform(this.attribute("transform").value);m.apply(e)}if(this.style("clip-path").hasValue()){var d=this.style("clip-path").getDefinition();if(d!=null){d.apply(e)}}if(this.style("opacity").hasValue()){e.globalAlpha=this.style("opacity").numValue()}}};b.Element.RenderedElementBase.prototype=new b.Element.ElementBase;b.Element.PathElementBase=function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.path=function(d){if(d!=null){d.beginPath()}return new b.BoundingBox()};this.renderChildren=function(d){this.path(d);b.Mouse.checkPath(this,d);if(d.fillStyle!=""){if(this.attribute("fill-rule").hasValue()){d.fill(this.attribute("fill-rule").value)}else{d.fill()}}if(d.strokeStyle!=""){d.stroke()}var g=this.getMarkers();if(g!=null){if(this.style("marker-start").isUrlDefinition()){var f=this.style("marker-start").getDefinition();f.render(d,g[0][0],g[0][1])}if(this.style("marker-mid").isUrlDefinition()){var f=this.style("marker-mid").getDefinition();for(var e=1;e<g.length-1;e++){f.render(d,g[e][0],g[e][1])}}if(this.style("marker-end").isUrlDefinition()){var f=this.style("marker-end").getDefinition();f.render(d,g[g.length-1][0],g[g.length-1][1])}}};this.getBoundingBox=function(){return this.path()};this.getMarkers=function(){return null}};b.Element.PathElementBase.prototype=new b.Element.RenderedElementBase;b.Element.svg=function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.baseClearContext=this.clearContext;this.clearContext=function(d){this.baseClearContext(d);b.ViewPort.RemoveCurrent()};this.baseSetContext=this.setContext;this.setContext=function(d){d.strokeStyle="rgba(0,0,0,0)";d.lineCap="butt";d.lineJoin="miter";d.miterLimit=4;this.baseSetContext(d);if(!this.attribute("x").hasValue()){this.attribute("x",true).value=0}if(!this.attribute("y").hasValue()){this.attribute("y",true).value=0}d.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var j=b.ViewPort.width();var e=b.ViewPort.height();if(!this.attribute("width").hasValue()){this.attribute("width",true).value="100%"}if(!this.attribute("height").hasValue()){this.attribute("height",true).value="100%"}if(typeof(this.root)=="undefined"){j=this.attribute("width").toPixels("x");e=this.attribute("height").toPixels("y");var k=0;var l=0;if(this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()){k=-this.attribute("refX").toPixels("x");l=-this.attribute("refY").toPixels("y")}d.beginPath();d.moveTo(k,l);d.lineTo(j,l);d.lineTo(j,e);d.lineTo(k,e);d.closePath();d.clip()}b.ViewPort.SetCurrent(j,e);if(this.attribute("viewBox").hasValue()){var h=b.ToNumberArray(this.attribute("viewBox").value);var f=h[0];var g=h[1];j=h[2];e=h[3];b.AspectRatio(d,this.attribute("preserveAspectRatio").value,b.ViewPort.width(),j,b.ViewPort.height(),e,f,g,this.attribute("refX").value,this.attribute("refY").value);b.ViewPort.RemoveCurrent();b.ViewPort.SetCurrent(h[2],h[3])}}};b.Element.svg.prototype=new b.Element.RenderedElementBase;b.Element.rect=function(c){this.base=b.Element.PathElementBase;this.base(c);this.path=function(d){var j=this.attribute("x").toPixels("x");var k=this.attribute("y").toPixels("y");var h=this.attribute("width").toPixels("x");var e=this.attribute("height").toPixels("y");var f=this.attribute("rx").toPixels("x");var g=this.attribute("ry").toPixels("y");if(this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()){g=f}if(this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()){f=g}f=Math.min(f,h/2);g=Math.min(g,e/2);if(d!=null){d.beginPath();d.moveTo(j+f,k);d.lineTo(j+h-f,k);d.quadraticCurveTo(j+h,k,j+h,k+g);d.lineTo(j+h,k+e-g);d.quadraticCurveTo(j+h,k+e,j+h-f,k+e);d.lineTo(j+f,k+e);d.quadraticCurveTo(j,k+e,j,k+e-g);d.lineTo(j,k+g);d.quadraticCurveTo(j,k,j+f,k);d.closePath()}return new b.BoundingBox(j,k,j+h,k+e)}};b.Element.rect.prototype=new b.Element.PathElementBase;b.Element.circle=function(c){this.base=b.Element.PathElementBase;this.base(c);this.path=function(d){var e=this.attribute("cx").toPixels("x");var f=this.attribute("cy").toPixels("y");var g=this.attribute("r").toPixels();if(d!=null){d.beginPath();d.arc(e,f,g,0,Math.PI*2,true);d.closePath()}return new b.BoundingBox(e-g,f-g,e+g,f+g)}};b.Element.circle.prototype=new b.Element.PathElementBase;b.Element.ellipse=function(c){this.base=b.Element.PathElementBase;this.base(c);this.path=function(d){var g=4*((Math.sqrt(2)-1)/3);var h=this.attribute("rx").toPixels("x");var j=this.attribute("ry").toPixels("y");var e=this.attribute("cx").toPixels("x");var f=this.attribute("cy").toPixels("y");if(d!=null){d.beginPath();d.moveTo(e,f-j);d.bezierCurveTo(e+(g*h),f-j,e+h,f-(g*j),e+h,f);d.bezierCurveTo(e+h,f+(g*j),e+(g*h),f+j,e,f+j);d.bezierCurveTo(e-(g*h),f+j,e-h,f+(g*j),e-h,f);d.bezierCurveTo(e-h,f-(g*j),e-(g*h),f-j,e,f-j);d.closePath()}return new b.BoundingBox(e-h,f-j,e+h,f+j)}};b.Element.ellipse.prototype=new b.Element.PathElementBase;b.Element.line=function(c){this.base=b.Element.PathElementBase;this.base(c);this.getPoints=function(){return[new b.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new b.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]};this.path=function(d){var e=this.getPoints();if(d!=null){d.beginPath();d.moveTo(e[0].x,e[0].y);d.lineTo(e[1].x,e[1].y)}return new b.BoundingBox(e[0].x,e[0].y,e[1].x,e[1].y)};this.getMarkers=function(){var e=this.getPoints();var d=e[0].angleTo(e[1]);return[[e[0],d],[e[1],d]]}};b.Element.line.prototype=new b.Element.PathElementBase;b.Element.polyline=function(c){this.base=b.Element.PathElementBase;this.base(c);this.points=b.CreatePath(this.attribute("points").value);this.path=function(e){var d=new b.BoundingBox(this.points[0].x,this.points[0].y);if(e!=null){e.beginPath();e.moveTo(this.points[0].x,this.points[0].y)}for(var f=1;f<this.points.length;f++){d.addPoint(this.points[f].x,this.points[f].y);if(e!=null){e.lineTo(this.points[f].x,this.points[f].y)}}return d};this.getMarkers=function(){var e=[];for(var d=0;d<this.points.length-1;d++){e.push([this.points[d],this.points[d].angleTo(this.points[d+1])])}e.push([this.points[this.points.length-1],e[e.length-1][1]]);return e}};b.Element.polyline.prototype=new b.Element.PathElementBase;b.Element.polygon=function(c){this.base=b.Element.polyline;this.base(c);this.basePath=this.path;this.path=function(e){var d=this.basePath(e);if(e!=null){e.lineTo(this.points[0].x,this.points[0].y);e.closePath()}return d}};b.Element.polygon.prototype=new b.Element.polyline;b.Element.path=function(e){this.base=b.Element.PathElementBase;this.base(e);var c=this.attribute("d").value;c=c.replace(/,/gm," ");c=c.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");c=c.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");c=c.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");c=c.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");c=c.replace(/([0-9])([+\-])/gm,"$1 $2");c=c.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");c=c.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");c=b.compressSpaces(c);c=b.trim(c);this.PathParser=new (function(f){this.tokens=f.split(" ");this.reset=function(){this.i=-1;this.command="";this.previousCommand="";this.start=new b.Point(0,0);this.control=new b.Point(0,0);this.current=new b.Point(0,0);this.points=[];this.angles=[]};this.isEnd=function(){return this.i>=this.tokens.length-1};this.isCommandOrEnd=function(){if(this.isEnd()){return true}return this.tokens[this.i+1].match(/^[A-Za-z]$/)!=null};this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return true;break}return false};this.getToken=function(){this.i++;return this.tokens[this.i]};this.getScalar=function(){return parseFloat(this.getToken())};this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken()};this.getPoint=function(){var d=new b.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(d)};this.getAsControlPoint=function(){var d=this.getPoint();this.control=d;return d};this.getAsCurrentPoint=function(){var d=this.getPoint();this.current=d;return d};this.getReflectedControlPoint=function(){if(this.previousCommand.toLowerCase()!="c"&&this.previousCommand.toLowerCase()!="s"&&this.previousCommand.toLowerCase()!="q"&&this.previousCommand.toLowerCase()!="t"){return this.current}var d=new b.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return d};this.makeAbsolute=function(d){if(this.isRelativeCommand()){d.x+=this.current.x;d.y+=this.current.y}return d};this.addMarker=function(g,d,h){if(h!=null&&this.angles.length>0&&this.angles[this.angles.length-1]==null){this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(h)}this.addMarkerAngle(g,d==null?null:d.angleTo(g))};this.addMarkerAngle=function(g,d){this.points.push(g);this.angles.push(d)};this.getMarkerPoints=function(){return this.points};this.getMarkerAngles=function(){for(var d=0;d<this.angles.length;d++){if(this.angles[d]==null){for(var g=d+1;g<this.angles.length;g++){if(this.angles[g]!=null){this.angles[d]=this.angles[g];break}}}}return this.angles}})(c);this.path=function(w){var H=this.PathParser;H.reset();var j=new b.BoundingBox();if(w!=null){w.beginPath()}while(!H.isEnd()){H.nextCommand();switch(H.command){case"M":case"m":var F=H.getAsCurrentPoint();H.addMarker(F);j.addPoint(F.x,F.y);if(w!=null){w.moveTo(F.x,F.y)}H.start=H.current;while(!H.isCommandOrEnd()){var F=H.getAsCurrentPoint();H.addMarker(F,H.start);j.addPoint(F.x,F.y);if(w!=null){w.lineTo(F.x,F.y)}}break;case"L":case"l":while(!H.isCommandOrEnd()){var k=H.current;var F=H.getAsCurrentPoint();H.addMarker(F,k);j.addPoint(F.x,F.y);if(w!=null){w.lineTo(F.x,F.y)}}break;case"H":case"h":while(!H.isCommandOrEnd()){var E=new b.Point((H.isRelativeCommand()?H.current.x:0)+H.getScalar(),H.current.y);H.addMarker(E,H.current);H.current=E;j.addPoint(H.current.x,H.current.y);if(w!=null){w.lineTo(H.current.x,H.current.y)}}break;case"V":case"v":while(!H.isCommandOrEnd()){var E=new b.Point(H.current.x,(H.isRelativeCommand()?H.current.y:0)+H.getScalar());H.addMarker(E,H.current);H.current=E;j.addPoint(H.current.x,H.current.y);if(w!=null){w.lineTo(H.current.x,H.current.y)}}break;case"C":case"c":while(!H.isCommandOrEnd()){var x=H.current;var G=H.getPoint();var o=H.getAsControlPoint();var q=H.getAsCurrentPoint();H.addMarker(q,o,G);j.addBezierCurve(x.x,x.y,G.x,G.y,o.x,o.y,q.x,q.y);if(w!=null){w.bezierCurveTo(G.x,G.y,o.x,o.y,q.x,q.y)}}break;case"S":case"s":while(!H.isCommandOrEnd()){var x=H.current;var G=H.getReflectedControlPoint();var o=H.getAsControlPoint();var q=H.getAsCurrentPoint();H.addMarker(q,o,G);j.addBezierCurve(x.x,x.y,G.x,G.y,o.x,o.y,q.x,q.y);if(w!=null){w.bezierCurveTo(G.x,G.y,o.x,o.y,q.x,q.y)}}break;case"Q":case"q":while(!H.isCommandOrEnd()){var x=H.current;var o=H.getAsControlPoint();var q=H.getAsCurrentPoint();H.addMarker(q,o,o);j.addQuadraticCurve(x.x,x.y,o.x,o.y,q.x,q.y);if(w!=null){w.quadraticCurveTo(o.x,o.y,q.x,q.y)}}break;case"T":case"t":while(!H.isCommandOrEnd()){var x=H.current;var o=H.getReflectedControlPoint();H.control=o;var q=H.getAsCurrentPoint();H.addMarker(q,o,o);j.addQuadraticCurve(x.x,x.y,o.x,o.y,q.x,q.y);if(w!=null){w.quadraticCurveTo(o.x,o.y,q.x,q.y)}}break;case"A":case"a":while(!H.isCommandOrEnd()){var x=H.current;var J=H.getScalar();var K=H.getScalar();var R=H.getScalar()*(Math.PI/180);var C=H.getScalar();var M=H.getScalar();var q=H.getAsCurrentPoint();var y=new b.Point(Math.cos(R)*(x.x-q.x)/2+Math.sin(R)*(x.y-q.y)/2,-Math.sin(R)*(x.x-q.x)/2+Math.cos(R)*(x.y-q.y)/2);var B=Math.pow(y.x,2)/Math.pow(J,2)+Math.pow(y.y,2)/Math.pow(K,2);if(B>1){J*=Math.sqrt(B);K*=Math.sqrt(B)}var L=(C==M?-1:1)*Math.sqrt(((Math.pow(J,2)*Math.pow(K,2))-(Math.pow(J,2)*Math.pow(y.y,2))-(Math.pow(K,2)*Math.pow(y.x,2)))/(Math.pow(J,2)*Math.pow(y.y,2)+Math.pow(K,2)*Math.pow(y.x,2)));if(isNaN(L)){L=0}var t=new b.Point(L*J*y.y/K,L*-K*y.x/J);var n=new b.Point((x.x+q.x)/2+Math.cos(R)*t.x-Math.sin(R)*t.y,(x.y+q.y)/2+Math.sin(R)*t.x+Math.cos(R)*t.y);var D=function(l){return Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2))};var I=function(l,m){return(l[0]*m[0]+l[1]*m[1])/(D(l)*D(m))};var d=function(l,m){return(l[0]*m[1]<l[1]*m[0]?-1:1)*Math.acos(I(l,m))};var f=d([1,0],[(y.x-t.x)/J,(y.y-t.y)/K]);var P=[(y.x-t.x)/J,(y.y-t.y)/K];var Q=[(-y.x-t.x)/J,(-y.y-t.y)/K];var g=d(P,Q);if(I(P,Q)<=-1){g=Math.PI}if(I(P,Q)>=1){g=0}var z=1-M?1:-1;var h=f+z*(g/2);var A=new b.Point(n.x+J*Math.cos(h),n.y+K*Math.sin(h));H.addMarkerAngle(A,h-z*Math.PI/2);H.addMarkerAngle(q,h-z*Math.PI);j.addPoint(q.x,q.y);if(w!=null){var I=J>K?J:K;var N=J>K?1:J/K;var O=J>K?K/J:1;w.translate(n.x,n.y);w.rotate(R);w.scale(N,O);w.arc(0,0,I,f,f+g,1-M);w.scale(1/N,1/O);w.rotate(-R);w.translate(-n.x,-n.y)}}break;case"Z":case"z":if(w!=null){w.closePath()}H.current=H.start}}return j};this.getMarkers=function(){var h=this.PathParser.getMarkerPoints();var d=this.PathParser.getMarkerAngles();var g=[];for(var f=0;f<h.length;f++){g.push([h[f],d[f]])}return g}};b.Element.path.prototype=new b.Element.PathElementBase;b.Element.pattern=function(c){this.base=b.Element.ElementBase;this.base(c);this.createPattern=function(f,g){var l=this.attribute("width").toPixels("x",true);var h=this.attribute("height").toPixels("y",true);var k=new b.Element.svg();k.attributes.viewBox=new b.Property("viewBox",this.attribute("viewBox").value);k.attributes.width=new b.Property("width",l+"px");k.attributes.height=new b.Property("height",h+"px");k.attributes.transform=new b.Property("transform",this.attribute("patternTransform").value);k.children=this.children;var d=document.createElement("canvas");d.width=l;d.height=h;var e=d.getContext("2d");if(this.attribute("x").hasValue()&&this.attribute("y").hasValue()){e.translate(this.attribute("x").toPixels("x",true),this.attribute("y").toPixels("y",true))}for(var m=-1;m<=1;m++){for(var n=-1;n<=1;n++){e.save();e.translate(m*d.width,n*d.height);k.render(e);e.restore()}}var j=f.createPattern(d,"repeat");return j}};b.Element.pattern.prototype=new b.Element.ElementBase;b.Element.marker=function(c){this.base=b.Element.ElementBase;this.base(c);this.baseRender=this.render;this.render=function(e,f,d){e.translate(f.x,f.y);if(this.attribute("orient").valueOrDefault("auto")=="auto"){e.rotate(d)}if(this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth"){e.scale(e.lineWidth,e.lineWidth)}e.save();var g=new b.Element.svg();g.attributes.viewBox=new b.Property("viewBox",this.attribute("viewBox").value);g.attributes.refX=new b.Property("refX",this.attribute("refX").value);g.attributes.refY=new b.Property("refY",this.attribute("refY").value);g.attributes.width=new b.Property("width",this.attribute("markerWidth").value);g.attributes.height=new b.Property("height",this.attribute("markerHeight").value);g.attributes.fill=new b.Property("fill",this.attribute("fill").valueOrDefault("black"));g.attributes.stroke=new b.Property("stroke",this.attribute("stroke").valueOrDefault("none"));g.children=this.children;g.render(e);e.restore();if(this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth"){e.scale(1/e.lineWidth,1/e.lineWidth)}if(this.attribute("orient").valueOrDefault("auto")=="auto"){e.rotate(-d)}e.translate(-f.x,-f.y)}};b.Element.marker.prototype=new b.Element.ElementBase;b.Element.defs=function(c){this.base=b.Element.ElementBase;this.base(c);this.render=function(d){}};b.Element.defs.prototype=new b.Element.ElementBase;b.Element.GradientBase=function(e){this.base=b.Element.ElementBase;this.base(e);this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox");this.stops=[];for(var d=0;d<this.children.length;d++){var c=this.children[d];if(c.type=="stop"){this.stops.push(c)}}this.getGradient=function(){};this.createGradient=function(j,k,o){var r=this;if(this.getHrefAttribute().hasValue()){r=this.getHrefAttribute().getDefinition()}var f=function(g){if(o.hasValue()){var u=new b.Property("color",g);return u.addOpacity(o.value).value}return g};var l=this.getGradient(j,k);if(l==null){return f(r.stops[r.stops.length-1].color)}for(var n=0;n<r.stops.length;n++){l.addColorStop(r.stops[n].offset,f(r.stops[n].color))}if(this.attribute("gradientTransform").hasValue()){var q=b.ViewPort.viewPorts[0];var p=new b.Element.rect();p.attributes.x=new b.Property("x",-b.MAX_VIRTUAL_PIXELS/3);p.attributes.y=new b.Property("y",-b.MAX_VIRTUAL_PIXELS/3);p.attributes.width=new b.Property("width",b.MAX_VIRTUAL_PIXELS);p.attributes.height=new b.Property("height",b.MAX_VIRTUAL_PIXELS);var m=new b.Element.g();m.attributes.transform=new b.Property("transform",this.attribute("gradientTransform").value);m.children=[p];var t=new b.Element.svg();t.attributes.x=new b.Property("x",0);t.attributes.y=new b.Property("y",0);t.attributes.width=new b.Property("width",q.width);t.attributes.height=new b.Property("height",q.height);t.children=[m];var h=document.createElement("canvas");h.width=q.width;h.height=q.height;var s=h.getContext("2d");s.fillStyle=l;t.render(s);return s.createPattern(h,"no-repeat")}return l}};b.Element.GradientBase.prototype=new b.Element.ElementBase;b.Element.linearGradient=function(c){this.base=b.Element.GradientBase;this.base(c);this.getGradient=function(e,f){var d=f.getBoundingBox();if(!this.attribute("x1").hasValue()&&!this.attribute("y1").hasValue()&&!this.attribute("x2").hasValue()&&!this.attribute("y2").hasValue()){this.attribute("x1",true).value=0;this.attribute("y1",true).value=0;this.attribute("x2",true).value=1;this.attribute("y2",true).value=0}var g=(this.gradientUnits=="objectBoundingBox"?d.x()+d.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"));var j=(this.gradientUnits=="objectBoundingBox"?d.y()+d.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"));var h=(this.gradientUnits=="objectBoundingBox"?d.x()+d.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"));var k=(this.gradientUnits=="objectBoundingBox"?d.y()+d.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y"));if(g==h&&j==k){return null}return e.createLinearGradient(g,j,h,k)}};b.Element.linearGradient.prototype=new b.Element.GradientBase;b.Element.radialGradient=function(c){this.base=b.Element.GradientBase;this.base(c);this.getGradient=function(e,h){var d=h.getBoundingBox();if(!this.attribute("cx").hasValue()){this.attribute("cx",true).value="50%"}if(!this.attribute("cy").hasValue()){this.attribute("cy",true).value="50%"}if(!this.attribute("r").hasValue()){this.attribute("r",true).value="50%"}var f=(this.gradientUnits=="objectBoundingBox"?d.x()+d.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"));var g=(this.gradientUnits=="objectBoundingBox"?d.y()+d.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"));var j=f;var k=g;if(this.attribute("fx").hasValue()){j=(this.gradientUnits=="objectBoundingBox"?d.x()+d.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x"))}if(this.attribute("fy").hasValue()){k=(this.gradientUnits=="objectBoundingBox"?d.y()+d.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"))}var l=(this.gradientUnits=="objectBoundingBox"?(d.width()+d.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels());return e.createRadialGradient(j,k,0,f,g,l)}};b.Element.radialGradient.prototype=new b.Element.GradientBase;b.Element.stop=function(c){this.base=b.Element.ElementBase;this.base(c);this.offset=this.attribute("offset").numValue();if(this.offset<0){this.offset=0}if(this.offset>1){this.offset=1}var d=this.style("stop-color");if(this.style("stop-opacity").hasValue()){d=d.addOpacity(this.style("stop-opacity").value)}this.color=d.value};b.Element.stop.prototype=new b.Element.ElementBase;b.Element.AnimateBase=function(c){this.base=b.Element.ElementBase;this.base(c);b.Animations.push(this);this.duration=0;this.begin=this.attribute("begin").toMilliseconds();this.maxDuration=this.begin+this.attribute("dur").toMilliseconds();this.getProperty=function(){var e=this.attribute("attributeType").value;var d=this.attribute("attributeName").value;if(e=="CSS"){return this.parent.style(d,true)}return this.parent.attribute(d,true)};this.initialValue=null;this.initialUnits="";this.removed=false;this.calcValue=function(){return""};this.update=function(d){if(this.initialValue==null){this.initialValue=this.getProperty().value;this.initialUnits=this.getProperty().getUnits()}if(this.duration>this.maxDuration){if(this.attribute("repeatCount").value=="indefinite"||this.attribute("repeatDur").value=="indefinite"){this.duration=0}else{if(this.attribute("fill").valueOrDefault("remove")=="remove"&&!this.removed){this.removed=true;this.getProperty().value=this.initialValue;return true}else{return false}}}this.duration=this.duration+d;var g=false;if(this.begin<this.duration){var e=this.calcValue();if(this.attribute("type").hasValue()){var f=this.attribute("type").value;e=f+"("+e+")"}this.getProperty().value=e;g=true}return g};this.from=this.attribute("from");this.to=this.attribute("to");this.values=this.attribute("values");if(this.values.hasValue()){this.values.value=this.values.value.split(";")}this.progress=function(){var f={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var e=f.progress*(this.values.value.length-1);var d=Math.floor(e),g=Math.ceil(e);f.from=new b.Property("from",parseFloat(this.values.value[d]));f.to=new b.Property("to",parseFloat(this.values.value[g]));f.progress=(e-d)/(g-d)}else{f.from=this.from;f.to=this.to}return f}};b.Element.AnimateBase.prototype=new b.Element.ElementBase;b.Element.animate=function(c){this.base=b.Element.AnimateBase;this.base(c);this.calcValue=function(){var e=this.progress();var d=e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress;return d+this.initialUnits}};b.Element.animate.prototype=new b.Element.AnimateBase;b.Element.animateColor=function(c){this.base=b.Element.AnimateBase;this.base(c);this.calcValue=function(){var h=this.progress();var e=new RGBColor(h.from.value);var k=new RGBColor(h.to.value);if(e.ok&&k.ok){var j=e.r+(k.r-e.r)*h.progress;var f=e.g+(k.g-e.g)*h.progress;var d=e.b+(k.b-e.b)*h.progress;return"rgb("+parseInt(j,10)+","+parseInt(f,10)+","+parseInt(d,10)+")"}return this.attribute("from").value}};b.Element.animateColor.prototype=new b.Element.AnimateBase;b.Element.animateTransform=function(c){this.base=b.Element.AnimateBase;this.base(c);this.calcValue=function(){var g=this.progress();var d=b.ToNumberArray(g.from.value);var h=b.ToNumberArray(g.to.value);var f="";for(var e=0;e<d.length;e++){f+=d[e]+(h[e]-d[e])*g.progress+" "}return f}};b.Element.animateTransform.prototype=new b.Element.animate;b.Element.font=function(e){this.base=b.Element.ElementBase;this.base(e);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.isRTL=false;this.isArabic=false;this.fontFace=null;this.missingGlyph=null;this.glyphs=[];for(var d=0;d<this.children.length;d++){var c=this.children[d];if(c.type=="font-face"){this.fontFace=c;if(c.style("font-family").hasValue()){b.Definitions[c.style("font-family").value]=this}}else{if(c.type=="missing-glyph"){this.missingGlyph=c}else{if(c.type=="glyph"){if(c.arabicForm!=""){this.isRTL=true;this.isArabic=true;if(typeof(this.glyphs[c.unicode])=="undefined"){this.glyphs[c.unicode]=[]}this.glyphs[c.unicode][c.arabicForm]=c}else{this.glyphs[c.unicode]=c}}}}}};b.Element.font.prototype=new b.Element.ElementBase;b.Element.fontface=function(c){this.base=b.Element.ElementBase;this.base(c);this.ascent=this.attribute("ascent").value;this.descent=this.attribute("descent").value;this.unitsPerEm=this.attribute("units-per-em").numValue()};b.Element.fontface.prototype=new b.Element.ElementBase;b.Element.missingglyph=function(c){this.base=b.Element.path;this.base(c);this.horizAdvX=0};b.Element.missingglyph.prototype=new b.Element.path;b.Element.glyph=function(c){this.base=b.Element.path;this.base(c);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.unicode=this.attribute("unicode").value;this.arabicForm=this.attribute("arabic-form").value};b.Element.glyph.prototype=new b.Element.path;b.Element.text=function(c){this.captureTextNodes=true;this.base=b.Element.RenderedElementBase;this.base(c);this.baseSetContext=this.setContext;this.setContext=function(d){this.baseSetContext(d);if(this.style("dominant-baseline").hasValue()){d.textBaseline=this.style("dominant-baseline").value}if(this.style("alignment-baseline").hasValue()){d.textBaseline=this.style("alignment-baseline").value}};this.getBoundingBox=function(){return new b.BoundingBox(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"),0,0)};this.renderChildren=function(d){this.x=this.attribute("x").toPixels("x");this.y=this.attribute("y").toPixels("y");this.x+=this.getAnchorDelta(d,this,0);for(var e=0;e<this.children.length;e++){this.renderChild(d,this,e)}};this.getAnchorDelta=function(e,g,h){var j=this.style("text-anchor").valueOrDefault("start");if(j!="start"){var k=0;for(var f=h;f<g.children.length;f++){var d=g.children[f];if(f>h&&d.attribute("x").hasValue()){break}k+=d.measureTextRecursive(e)}return -1*(j=="end"?k:k/2)}return 0};this.renderChild=function(e,g,f){var d=g.children[f];if(d.attribute("x").hasValue()){d.x=d.attribute("x").toPixels("x")+this.getAnchorDelta(e,g,f)}else{if(this.attribute("dx").hasValue()){this.x+=this.attribute("dx").toPixels("x")}if(d.attribute("dx").hasValue()){this.x+=d.attribute("dx").toPixels("x")}d.x=this.x}this.x=d.x+d.measureText(e);if(d.attribute("y").hasValue()){d.y=d.attribute("y").toPixels("y")}else{if(this.attribute("dy").hasValue()){this.y+=this.attribute("dy").toPixels("y")}if(d.attribute("dy").hasValue()){this.y+=d.attribute("dy").toPixels("y")}d.y=this.y}this.y=d.y;d.render(e);for(var f=0;f<d.children.length;f++){this.renderChild(e,d,f)}}};b.Element.text.prototype=new b.Element.RenderedElementBase;b.Element.TextElementBase=function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.getGlyph=function(f,j,h){var e=j[h];var g=null;if(f.isArabic){var d="isolated";if((h==0||j[h-1]==" ")&&h<j.length-2&&j[h+1]!=" "){d="terminal"}if(h>0&&j[h-1]!=" "&&h<j.length-2&&j[h+1]!=" "){d="medial"}if(h>0&&j[h-1]!=" "&&(h==j.length-1||j[h+1]==" ")){d="initial"}if(typeof(f.glyphs[e])!="undefined"){g=f.glyphs[e][d];if(g==null&&f.glyphs[e].type=="glyph"){g=f.glyphs[e]}}}else{g=f.glyphs[e]}if(g==null){g=f.missingGlyph}return g};this.renderChildren=function(d){var e=this.parent.style("font-family").getDefinition();if(e!=null){var g=this.parent.style("font-size").numValueOrDefault(b.Font.Parse(b.ctx.font).fontSize);var h=this.parent.style("font-style").valueOrDefault(b.Font.Parse(b.ctx.font).fontStyle);var n=this.getText();if(e.isRTL){n=n.split("").reverse().join("")}var f=b.ToNumberArray(this.parent.attribute("dx").value);for(var k=0;k<n.length;k++){var j=this.getGlyph(e,n,k);var m=g/e.fontFace.unitsPerEm;d.translate(this.x,this.y);d.scale(m,-m);var l=d.lineWidth;d.lineWidth=d.lineWidth*e.fontFace.unitsPerEm/g;if(h=="italic"){d.transform(1,0,0.4,1,0,0)}j.render(d);if(h=="italic"){d.transform(1,0,-0.4,1,0,0)}d.lineWidth=l;d.scale(1/m,-1/m);d.translate(-this.x,-this.y);this.x+=g*(j.horizAdvX||e.horizAdvX)/e.fontFace.unitsPerEm;if(typeof(f[k])!="undefined"&&!isNaN(f[k])){this.x+=f[k]}}return}if(d.fillStyle!=""){d.fillText(b.compressSpaces(this.getText()),this.x,this.y)}if(d.strokeStyle!=""){d.strokeText(b.compressSpaces(this.getText()),this.x,this.y)}};this.getText=function(){};this.measureTextRecursive=function(d){var f=this.measureText(d);for(var e=0;e<this.children.length;e++){f+=this.children[e].measureTextRecursive(d)}return f};this.measureText=function(d){var e=this.parent.style("font-family").getDefinition();if(e!=null){var g=this.parent.style("font-size").numValueOrDefault(b.Font.Parse(b.ctx.font).fontSize);var k=0;var l=this.getText();if(e.isRTL){l=l.split("").reverse().join("")}var f=b.ToNumberArray(this.parent.attribute("dx").value);for(var j=0;j<l.length;j++){var h=this.getGlyph(e,l,j);k+=(h.horizAdvX||e.horizAdvX)*g/e.fontFace.unitsPerEm;if(typeof(f[j])!="undefined"&&!isNaN(f[j])){k+=f[j]}}return k}var m=b.compressSpaces(this.getText());if(!d.measureText){return m.length*10}d.save();this.setContext(d);var n=d.measureText(m).width;d.restore();return n}};b.Element.TextElementBase.prototype=new b.Element.RenderedElementBase;b.Element.tspan=function(c){this.captureTextNodes=true;this.base=b.Element.TextElementBase;this.base(c);this.text=c.nodeValue||c.text||"";this.getText=function(){return this.text}};b.Element.tspan.prototype=new b.Element.TextElementBase;b.Element.tref=function(c){this.base=b.Element.TextElementBase;this.base(c);this.getText=function(){var d=this.getHrefAttribute().getDefinition();if(d!=null){return d.children[0].getText()}}};b.Element.tref.prototype=new b.Element.TextElementBase;b.Element.a=function(d){this.base=b.Element.TextElementBase;this.base(d);this.hasText=true;for(var c=0;c<d.childNodes.length;c++){if(d.childNodes[c].nodeType!=3){this.hasText=false}}this.text=this.hasText?d.childNodes[0].nodeValue:"";this.getText=function(){return this.text};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var f=new b.Property("fontSize",b.Font.Parse(b.ctx.font).fontSize);b.Mouse.checkBoundingBox(this,new b.BoundingBox(this.x,this.y-f.toPixels("y"),this.x+this.measureText(e),this.y))}else{var h=new b.Element.g();h.children=this.children;h.parent=this;h.render(e)}};this.onclick=function(){window.open(this.getHrefAttribute().value)};this.onmousemove=function(){b.ctx.canvas.style.cursor="pointer"}};b.Element.a.prototype=new b.Element.TextElementBase;b.Element.image=function(e){this.base=b.Element.RenderedElementBase;this.base(e);var c=this.getHrefAttribute().value;var d=c.match(/\.svg$/);b.Images.push(this);this.loaded=false;if(!d){this.img=document.createElement("img");var f=this;this.img.onload=function(){f.loaded=true};this.img.onerror=function(){if(typeof(console)!="undefined"){console.log('ERROR: image "'+c+'" not found');f.loaded=true}};this.img.src=c}else{this.img=b.ajax(c);this.loaded=true}this.renderChildren=function(g){var k=this.attribute("x").toPixels("x");var l=this.attribute("y").toPixels("y");var j=this.attribute("width").toPixels("x");var h=this.attribute("height").toPixels("y");if(j==0||h==0){return}g.save();if(d){g.drawSvg(this.img,k,l,j,h)}else{g.translate(k,l);b.AspectRatio(g,this.attribute("preserveAspectRatio").value,j,this.img.width,h,this.img.height,0,0);g.drawImage(this.img,0,0)}g.restore()};this.getBoundingBox=function(){var j=this.attribute("x").toPixels("x");var k=this.attribute("y").toPixels("y");var h=this.attribute("width").toPixels("x");var g=this.attribute("height").toPixels("y");return new b.BoundingBox(j,k,j+h,k+g)}};b.Element.image.prototype=new b.Element.RenderedElementBase;b.Element.g=function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.getBoundingBox=function(){var d=new b.BoundingBox();for(var e=0;e<this.children.length;e++){d.addBoundingBox(this.children[e].getBoundingBox())}return d}};b.Element.g.prototype=new b.Element.RenderedElementBase;b.Element.symbol=function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.baseSetContext=this.setContext;this.setContext=function(d){this.baseSetContext(d);if(this.attribute("viewBox").hasValue()){var g=b.ToNumberArray(this.attribute("viewBox").value);var e=g[0];var f=g[1];width=g[2];height=g[3];b.AspectRatio(d,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,e,f);b.ViewPort.SetCurrent(g[2],g[3])}}};b.Element.symbol.prototype=new b.Element.RenderedElementBase;b.Element.style=function(w){this.base=b.Element.ElementBase;this.base(w);var c="";for(var r=0;r<w.childNodes.length;r++){c+=w.childNodes[r].nodeValue}c=c.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");c=b.compressSpaces(c);var h=c.split("}");for(var r=0;r<h.length;r++){if(b.trim(h[r])!=""){var g=h[r].split("{");var e=g[0].split(",");var l=g[1].split(";");for(var t=0;t<e.length;t++){var d=b.trim(e[t]);if(d!=""){var y={};for(var u=0;u<l.length;u++){var x=l[u].indexOf(":");var v=l[u].substr(0,x);var E=l[u].substr(x+1,l[u].length-x);if(v!=null&&E!=null){y[b.trim(v)]=new b.Property(b.trim(v),b.trim(E))}}b.Styles[d]=y;if(d=="@font-face"){var p=y["font-family"].value.replace(/"/g,"");var A=y.src.value.split(",");for(var z=0;z<A.length;z++){if(A[z].indexOf('format("svg")')>0){var D=A[z].indexOf("url");var C=A[z].indexOf(")",D);var B=A[z].substr(D+5,C-D-6);var m=b.parseXml(b.ajax(B));var q=m.getElementsByTagName("font");for(var n=0;n<q.length;n++){var o=b.CreateElement(q[n]);b.Definitions[p]=o}}}}}}}}};b.Element.style.prototype=new b.Element.ElementBase;b.Element.use=function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.baseSetContext=this.setContext;this.setContext=function(d){this.baseSetContext(d);if(this.attribute("x").hasValue()){d.translate(this.attribute("x").toPixels("x"),0)}if(this.attribute("y").hasValue()){d.translate(0,this.attribute("y").toPixels("y"))}};this.getDefinition=function(){var d=this.getHrefAttribute().getDefinition();if(this.attribute("width").hasValue()){d.attribute("width",true).value=this.attribute("width").value}if(this.attribute("height").hasValue()){d.attribute("height",true).value=this.attribute("height").value}return d};this.path=function(d){var e=this.getDefinition();if(e!=null){e.path(d)}};this.getBoundingBox=function(){var d=this.getDefinition();if(d!=null){return d.getBoundingBox()}};this.renderChildren=function(d){var e=this.getDefinition();if(e!=null){var f=e.parent;e.parent=null;e.render(d);e.parent=f}}};b.Element.use.prototype=new b.Element.RenderedElementBase;b.Element.mask=function(c){this.base=b.Element.ElementBase;this.base(c);this.apply=function(g,h){var p=this.attribute("x").toPixels("x");var q=this.attribute("y").toPixels("y");var o=this.attribute("width").toPixels("x");var j=this.attribute("height").toPixels("y");if(o==0&&j==0){var d=new b.BoundingBox();for(var k=0;k<this.children.length;k++){d.addBoundingBox(this.children[k].getBoundingBox())}var p=Math.floor(d.x1);var q=Math.floor(d.y1);var o=Math.floor(d.width());var j=Math.floor(d.height())}var l=h.attribute("mask").value;h.attribute("mask").value="";var f=document.createElement("canvas");f.width=p+o;f.height=q+j;var m=f.getContext("2d");this.renderChildren(m);var e=document.createElement("canvas");e.width=p+o;e.height=q+j;var n=e.getContext("2d");h.render(n);n.globalCompositeOperation="destination-in";n.fillStyle=m.createPattern(f,"no-repeat");n.fillRect(0,0,p+o,q+j);g.fillStyle=n.createPattern(e,"no-repeat");g.fillRect(0,0,p+o,q+j);h.attribute("mask").value=l};this.render=function(d){}};b.Element.mask.prototype=new b.Element.ElementBase;b.Element.clipPath=function(c){this.base=b.Element.ElementBase;this.base(c);this.apply=function(e){for(var f=0;f<this.children.length;f++){var d=this.children[f];if(typeof(d.path)!="undefined"){var g=null;if(d.attribute("transform").hasValue()){g=new b.Transform(d.attribute("transform").value);g.apply(e)}d.path(e);e.clip();if(g){g.unapply(e)}}}};this.render=function(d){}};b.Element.clipPath.prototype=new b.Element.ElementBase;b.Element.filter=function(c){this.base=b.Element.ElementBase;this.base(c);this.apply=function(f,h){var d=h.getBoundingBox();var q=Math.floor(d.x1);var r=Math.floor(d.y1);var p=Math.floor(d.width());var k=Math.floor(d.height());var j=h.style("filter").value;h.style("filter").value="";var m=0,n=0;for(var l=0;l<this.children.length;l++){var g=this.children[l].extraFilterDistance||0;m=Math.max(m,g);n=Math.max(n,g)}var e=document.createElement("canvas");e.width=p+2*m;e.height=k+2*n;var o=e.getContext("2d");o.translate(-q+m,-r+n);h.render(o);for(var l=0;l<this.children.length;l++){this.children[l].apply(o,0,0,p+2*m,k+2*n)}f.drawImage(e,0,0,p+2*m,k+2*n,q-m,r-n,p+2*m,k+2*n);h.style("filter",true).value=j};this.render=function(d){}};b.Element.filter.prototype=new b.Element.ElementBase;b.Element.feMorphology=function(c){this.base=b.Element.ElementBase;this.base(c);this.apply=function(d,g,h,f,e){}};b.Element.feMorphology.prototype=new b.Element.ElementBase;b.Element.feColorMatrix=function(e){this.base=b.Element.ElementBase;this.base(e);function c(g,k,l,j,f,h){return g[l*j*4+k*4+h]}function d(g,l,m,k,f,h,j){g[m*k*4+l*4+h]=j}this.apply=function(h,p,q,o,l){var n=h.getImageData(0,0,o,l);for(var q=0;q<l;q++){for(var p=0;p<o;p++){var m=c(n.data,p,q,o,l,0);var j=c(n.data,p,q,o,l,1);var f=c(n.data,p,q,o,l,2);var k=(m+j+f)/3;d(n.data,p,q,o,l,0,k);d(n.data,p,q,o,l,1,k);d(n.data,p,q,o,l,2,k)}}h.clearRect(0,0,o,l);h.putImageData(n,0,0)}};b.Element.feColorMatrix.prototype=new b.Element.ElementBase;b.Element.feGaussianBlur=function(c){this.base=b.Element.ElementBase;this.base(c);this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue());this.extraFilterDistance=this.blurRadius;this.apply=function(d,g,h,f,e){if(typeof(stackBlurCanvasRGBA)=="undefined"){if(typeof(console)!="undefined"){console.log("ERROR: StackBlur.js must be included for blur to work")}return}d.canvas.id=b.UniqueId();d.canvas.style.display="none";document.body.appendChild(d.canvas);stackBlurCanvasRGBA(d.canvas.id,g,h,f,e,this.blurRadius);document.body.removeChild(d.canvas)}};b.Element.feGaussianBlur.prototype=new b.Element.ElementBase;b.Element.title=function(c){};b.Element.title.prototype=new b.Element.ElementBase;b.Element.desc=function(c){};b.Element.desc.prototype=new b.Element.ElementBase;b.Element.MISSING=function(c){if(typeof(console)!="undefined"){console.log("ERROR: Element '"+c.nodeName+"' not yet implemented.")}};b.Element.MISSING.prototype=new b.Element.ElementBase;b.CreateElement=function(f){var c=f.nodeName.replace(/^[^:]+:/,"");c=c.replace(/\-/g,"");var d=null;if(typeof(b.Element[c])!="undefined"){d=new b.Element[c](f)}else{d=new b.Element.MISSING(f)}d.type=f.nodeName;return d};b.load=function(c,d){b.loadXml(c,b.ajax(d))};b.loadXml=function(c,d){b.loadXmlDoc(c,b.parseXml(d))};b.loadXmlDoc=function(c,d){b.init(c);var j=function(m){var l=c.canvas;while(l){m.x-=l.offsetLeft;m.y-=l.offsetTop;l=l.offsetParent}if(window.scrollX){m.x+=window.scrollX}if(window.scrollY){m.y+=window.scrollY}return m};if(b.opts.ignoreMouse!=true){c.canvas.onclick=function(l){var m=j(new b.Point(l!=null?l.clientX:event.clientX,l!=null?l.clientY:event.clientY));b.Mouse.onclick(m.x,m.y)};c.canvas.onmousemove=function(l){var m=j(new b.Point(l!=null?l.clientX:event.clientX,l!=null?l.clientY:event.clientY));b.Mouse.onmousemove(m.x,m.y)}}var g=b.CreateElement(d.documentElement);g.root=true;var h=true;var f=function(){b.ViewPort.Clear();if(c.canvas.parentNode){b.ViewPort.SetCurrent(c.canvas.parentNode.clientWidth,c.canvas.parentNode.clientHeight)}if(b.opts.ignoreDimensions!=true){if(g.style("width").hasValue()){c.canvas.width=g.style("width").toPixels("x");c.canvas.style.width=c.canvas.width+"px"}if(g.style("height").hasValue()){c.canvas.height=g.style("height").toPixels("y");c.canvas.style.height=c.canvas.height+"px"}}var l=c.canvas.clientWidth||c.canvas.width;var e=c.canvas.clientHeight||c.canvas.height;if(b.opts.ignoreDimensions==true&&g.style("width").hasValue()&&g.style("height").hasValue()){l=g.style("width").toPixels("x");e=g.style("height").toPixels("y")}b.ViewPort.SetCurrent(l,e);if(b.opts.offsetX!=null){g.attribute("x",true).value=b.opts.offsetX}if(b.opts.offsetY!=null){g.attribute("y",true).value=b.opts.offsetY}if(b.opts.scaleWidth!=null&&b.opts.scaleHeight!=null){var n=1,o=1,m=b.ToNumberArray(g.attribute("viewBox").value);if(g.attribute("width").hasValue()){n=g.attribute("width").toPixels("x")/b.opts.scaleWidth}else{if(!isNaN(m[2])){n=m[2]/b.opts.scaleWidth}}if(g.attribute("height").hasValue()){o=g.attribute("height").toPixels("y")/b.opts.scaleHeight}else{if(!isNaN(m[3])){o=m[3]/b.opts.scaleHeight}}g.attribute("width",true).value=b.opts.scaleWidth;g.attribute("height",true).value=b.opts.scaleHeight;g.attribute("viewBox",true).value="0 0 "+(l*n)+" "+(e*o);g.attribute("preserveAspectRatio",true).value="none"}if(b.opts.ignoreClear!=true){c.clearRect(0,0,l,e)}g.render(c);if(h){h=false;if(typeof(b.opts.renderCallback)=="function"){b.opts.renderCallback(d)}}};var k=true;if(b.ImagesLoaded()){k=false;f()}b.intervalID=setInterval(function(){var l=false;if(k&&b.ImagesLoaded()){k=false;l=true}if(b.opts.ignoreMouse!=true){l=l|b.Mouse.hasEvents()}if(b.opts.ignoreAnimation!=true){for(var e=0;e<b.Animations.length;e++){l=l|b.Animations[e].update(1000/b.FRAMERATE)}}if(typeof(b.opts.forceRedraw)=="function"){if(b.opts.forceRedraw()==true){l=true}}if(l){f();b.Mouse.runEvents()}},1000/b.FRAMERATE)};b.stop=function(){if(b.intervalID){clearInterval(b.intervalID)}};b.Mouse=new (function(){this.events=[];this.hasEvents=function(){return this.events.length!=0};this.onclick=function(c,d){this.events.push({type:"onclick",x:c,y:d,run:function(f){if(f.onclick){f.onclick()}}})};this.onmousemove=function(c,d){this.events.push({type:"onmousemove",x:c,y:d,run:function(f){if(f.onmousemove){f.onmousemove()}}})};this.eventElements=[];this.checkPath=function(f,c){for(var g=0;g<this.events.length;g++){var d=this.events[g];if(c.isPointInPath&&c.isPointInPath(d.x,d.y)){this.eventElements[g]=f}}};this.checkBoundingBox=function(f,c){for(var g=0;g<this.events.length;g++){var d=this.events[g];if(c.isPointInBox(d.x,d.y)){this.eventElements[g]=f}}};this.runEvents=function(){b.ctx.canvas.style.cursor="";for(var f=0;f<this.events.length;f++){var c=this.events[f];var d=this.eventElements[f];while(d){c.run(d);d=d.parent}}this.events=[];this.eventElements=[]}});return b}})();if(typeof(CanvasRenderingContext2D)!="undefined"){CanvasRenderingContext2D.prototype.drawSvg=function(e,c,d,b,a){canvg(this.canvas,e,{ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true,ignoreClear:true,offsetX:c,offsetY:d,scaleWidth:b,scaleHeight:a})}};var hljs=new function(){function e(v){return v.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function t(v){return v.nodeName.toLowerCase()}function u(x,v){var w=x&&x.exec(v);return w&&w.index==0}function b(v){var w=(v.className+" "+(v.parentNode?v.parentNode.className:"")).split(/\s+/);w=w.map(function(x){return x.replace(/^lang(uage)?-/,"")});return w.filter(function(x){return g(x)||x=="no-highlight"})[0]}function k(x,w){var y={};for(var v in x){y[v]=x[v]}if(w){for(var v in w){y[v]=w[v]}}return y}function q(w){var x=[];(function v(z,A){for(var y=z.firstChild;y;y=y.nextSibling){if(y.nodeType==3){A+=y.nodeValue.length}else{if(t(y)=="br"){A+=1}else{if(y.nodeType==1){x.push({event:"start",offset:A,node:y});A=v(y,A);x.push({event:"stop",offset:A,node:y})}}}}return A})(w,0);return x}function p(z,w,F){var A=0;var C="";var x=[];function D(){if(!z.length||!w.length){return z.length?z:w}if(z[0].offset!=w[0].offset){return(z[0].offset<w[0].offset)?z:w}return w[0].event=="start"?z:w}function y(H){function G(I){return" "+I.nodeName+'="'+e(I.value)+'"'}C+="<"+t(H)+Array.prototype.map.call(H.attributes,G).join("")+">"}function v(G){C+="</"+t(G)+">"}function B(G){(G.event=="start"?y:v)(G.node)}while(z.length||w.length){var E=D();C+=e(F.substr(A,E[0].offset-A));A=E[0].offset;if(E==z){x.reverse().forEach(v);do{B(E.splice(0,1)[0]);E=D()}while(E==z&&E.length&&E[0].offset==A);x.reverse().forEach(y)}else{if(E[0].event=="start"){x.push(E[0].node)}else{x.pop()}B(E.splice(0,1)[0])}}return C+e(F.substr(A))}function c(x){function y(z){return(z&&z.source)||z}function w(A,z){return RegExp(y(A),"m"+(x.case_insensitive?"i":"")+(z?"g":""))}function v(C,D){if(C.compiled){return}C.compiled=true;C.keywords=C.keywords||C.beginKeywords;if(C.keywords){var z={};function B(F,G){if(x.case_insensitive){G=G.toLowerCase()}G.split(" ").forEach(function(H){var I=H.split("|");z[I[0]]=[F,I[1]?Number(I[1]):1]})}if(typeof C.keywords=="string"){B("keyword",C.keywords)}else{Object.keys(C.keywords).forEach(function(F){B(F,C.keywords[F])})}C.keywords=z}C.lexemesRe=w(C.lexemes||/\b[A-Za-z0-9_]+\b/,true);if(D){if(C.beginKeywords){C.begin="\\b("+C.beginKeywords.split(" ").join("|")+")\\b"}if(!C.begin){C.begin=/\B|\b/}C.beginRe=w(C.begin);if(!C.end&&!C.endsWithParent){C.end=/\B|\b/}if(C.end){C.endRe=w(C.end)}C.terminator_end=y(C.end)||"";if(C.endsWithParent&&D.terminator_end){C.terminator_end+=(C.end?"|":"")+D.terminator_end}}if(C.illegal){C.illegalRe=w(C.illegal)}if(C.relevance===undefined){C.relevance=1}if(!C.contains){C.contains=[]}var A=[];C.contains.forEach(function(F){if(F.variants){F.variants.forEach(function(G){A.push(k(F,G))})}else{A.push(F=="self"?C:F)}});C.contains=A;C.contains.forEach(function(F){v(F,C)});if(C.starts){v(C.starts,D)}var E=C.contains.map(function(F){return F.beginKeywords?"\\.?("+F.begin+")\\.?":F.begin}).concat([C.terminator_end,C.illegal]).map(y).filter(Boolean);C.terminators=E.length?w(E.join("|"),true):{exec:function(F){return null}};C.continuation={}}v(x)}function h(I,S,B,w){function Q(U,V){for(var T=0;T<V.contains.length;T++){if(u(V.contains[T].beginRe,U)){return V.contains[T]}}}function A(U,T){if(u(U.endRe,T)){return U}if(U.endsWithParent){return A(U.parent,T)}}function D(T,U){return !B&&u(U.illegalRe,T)}function E(V,T){var U=F.case_insensitive?T[0].toLowerCase():T[0];return V.keywords.hasOwnProperty(U)&&V.keywords[U]}function v(T,W,X,Y){var U=Y?"":r.classPrefix,Z='<span class="'+U,V=X?"":"</span>";Z+=T+'">';return Z+W+V}function K(){if(!R.keywords){return e(H)}var W="";var U=0;R.lexemesRe.lastIndex=0;var V=R.lexemesRe.exec(H);while(V){W+=e(H.substr(U,V.index-U));var T=E(R,V);if(T){N+=T[1];W+=v(T[0],e(V[0]))}else{W+=e(V[0])}U=R.lexemesRe.lastIndex;V=R.lexemesRe.exec(H)}return W+e(H.substr(U))}function M(){if(R.subLanguage&&!n[R.subLanguage]){return e(H)}var T=R.subLanguage?h(R.subLanguage,H,true,R.continuation.top):i(H);if(R.relevance>0){N+=T.relevance}if(R.subLanguageMode=="continuous"){R.continuation.top=T.top}return v(T.language,T.value,false,true)}function J(){return R.subLanguage!==undefined?M():K()}function P(V,T){var U=V.className?v(V.className,"",true):"";if(V.returnBegin){O+=U;H=""}else{if(V.excludeBegin){O+=e(T)+U;H=""}else{O+=U;H=T}}R=Object.create(V,{parent:{value:R}})}function L(T,V){H+=T;if(V===undefined){O+=J();return 0}var W=Q(V,R);if(W){O+=J();P(W,V);return W.returnBegin?0:V.length}var U=A(R,V);if(U){var X=R;if(!(X.returnEnd||X.excludeEnd)){H+=V}O+=J();do{if(R.className){O+="</span>"}N+=R.relevance;R=R.parent}while(R!=U.parent);if(X.excludeEnd){O+=e(V)}H="";if(U.starts){P(U.starts,"")}return X.returnEnd?0:V.length}if(D(V,R)){throw new Error('Illegal lexeme "'+V+'" for mode "'+(R.className||"<unnamed>")+'"')}H+=V;return V.length||1}var F=g(I);if(!F){throw new Error('Unknown language: "'+I+'"')}c(F);var R=w||F;var O="";for(var y=R;y!=F;y=y.parent){if(y.className){O+=v(y.className,O,true)}}var H="";var N=0;try{var G,x,C=0;while(true){R.terminators.lastIndex=C;G=R.terminators.exec(S);if(!G){break}x=L(S.substr(C,G.index-C),G[0]);C=G.index+x}L(S.substr(C));for(var y=R;y.parent;y=y.parent){if(y.className){O+="</span>"}}return{relevance:N,value:O,language:I,top:R}}catch(z){if(z.message.indexOf("Illegal")!=-1){return{relevance:0,value:e(S)}}else{throw z}}}function i(y,v){v=v||r.languages||Object.keys(n);var w={relevance:0,value:e(y)};var x=w;v.forEach(function(A){if(!g(A)){return}var z=h(A,y,false);z.language=A;if(z.relevance>x.relevance){x=z}if(z.relevance>w.relevance){x=w;w=z}});if(x.language){w.second_best=x}return w}function f(v){if(r.tabReplace){v=v.replace(/^((<[^>]+>|\t)+)/gm,function(w,y,x,z){return y.replace(/\t/g,r.tabReplace)})}if(r.useBR){v=v.replace(/\n/g,"<br>")}return v}function j(v){var A=r.useBR?v.innerHTML.replace(/\n/g,"").replace(/<br>|<br [^>]*>/g,"\n").replace(/<[^>]*>/g,""):v.textContent;var w=b(v);if(w=="no-highlight"){return}var z=w?h(w,A,true):i(A);var x=q(v);if(x.length){var y=document.createElementNS("http://www.w3.org/1999/xhtml","pre");y.innerHTML=z.value;z.value=p(x,q(y),A)}z.value=f(z.value);v.innerHTML=z.value;v.className+=" hljs "+(!w&&z.language||"");v.result={language:z.language,re:z.relevance};if(z.second_best){v.second_best={language:z.second_best.language,re:z.second_best.relevance}}}var r={classPrefix:"hljs-",tabReplace:null,useBR:false,languages:undefined};function d(v){r=k(r,v)}function l(){if(l.called){return}l.called=true;var v=document.querySelectorAll("pre code");Array.prototype.forEach.call(v,j)}function m(){addEventListener("DOMContentLoaded",l,false);addEventListener("load",l,false)}var n={};var a={};function s(x,w){var v=n[x]=w(this);if(v.aliases){v.aliases.forEach(function(y){a[y]=x})}}function o(){return Object.keys(n)}function g(v){return n[v]||n[a[v]]}this.highlight=h;this.highlightAuto=i;this.fixMarkup=f;this.highlightBlock=j;this.configure=d;this.initHighlighting=l;this.initHighlightingOnLoad=m;this.registerLanguage=s;this.listLanguages=o;this.getLanguage=g;this.inherit=k;this.IDENT_RE="[a-zA-Z][a-zA-Z0-9_]*";this.UNDERSCORE_IDENT_RE="[a-zA-Z_][a-zA-Z0-9_]*";this.NUMBER_RE="\\b\\d+(\\.\\d+)?";this.C_NUMBER_RE="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BINARY_NUMBER_RE="\\b(0b[01]+)";this.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0};this.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[this.BACKSLASH_ESCAPE]};this.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[this.BACKSLASH_ESCAPE]};this.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/};this.C_LINE_COMMENT_MODE={className:"comment",begin:"//",end:"$",contains:[this.PHRASAL_WORDS_MODE]};this.C_BLOCK_COMMENT_MODE={className:"comment",begin:"/\\*",end:"\\*/",contains:[this.PHRASAL_WORDS_MODE]};this.HASH_COMMENT_MODE={className:"comment",begin:"#",end:"$",contains:[this.PHRASAL_WORDS_MODE]};this.NUMBER_MODE={className:"number",begin:this.NUMBER_RE,relevance:0};this.C_NUMBER_MODE={className:"number",begin:this.C_NUMBER_RE,relevance:0};this.BINARY_NUMBER_MODE={className:"number",begin:this.BINARY_NUMBER_RE,relevance:0};this.CSS_NUMBER_MODE={className:"number",begin:this.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0};this.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gim]*/,illegal:/\n/,contains:[this.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[this.BACKSLASH_ESCAPE]}]};this.TITLE_MODE={className:"title",begin:this.IDENT_RE,relevance:0};this.UNDERSCORE_TITLE_MODE={className:"title",begin:this.UNDERSCORE_IDENT_RE,relevance:0}}();hljs.registerLanguage("cs",function(a){var b="abstract as base bool break byte case catch char checked const continue decimal default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long new null object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async await ascending descending from get group into join let orderby partial select set value var where yield";return{keywords:b,illegal:/::/,contains:[{className:"comment",begin:"///",end:"$",returnBegin:true,contains:[{className:"xmlDocTag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]},a.C_LINE_COMMENT_MODE,a.C_BLOCK_COMMENT_MODE,{className:"preprocessor",begin:"#",end:"$",keywords:"if else elif endif define undef warning error line region endregion pragma checksum"},{className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},a.APOS_STRING_MODE,a.QUOTE_STRING_MODE,a.C_NUMBER_MODE,{beginKeywords:"protected public private internal",end:/[{;=]/,keywords:b,contains:[{beginKeywords:"class namespace interface",starts:{contains:[a.TITLE_MODE]}},{begin:a.IDENT_RE+"\\s*\\(",returnBegin:true,contains:[a.TITLE_MODE]}]}]}});window.Modernizr=function(C,E,G){function aa(b){N.cssText=b}function ab(c,d){return aa(prefixes.join(c+";")+(d||""))}function ac(c,d){return typeof c===d}function ad(c,d){return !!~(""+c).indexOf(d)}function D(c,g,h){for(var i in c){var j=g[c[i]];if(j!==G){return h===!1?c[i]:ac(j,"function")?j.bind(h||g):j}}return !1}var H="2.8.2",I={},J=!0,K=E.documentElement,L="modernizr",M=E.createElement(L),N=M.style,O,P={}.toString,Q={svg:"http://www.w3.org/2000/svg"},R={},S={},T={},U=[],V=U.slice,W,X=function(){function c(a,g){g=g||E.createElement(b[a]||"div"),a="on"+a;var h=a in g;return h||(g.setAttribute||(g=E.createElement("div")),g.setAttribute&&g.removeAttribute&&(g.setAttribute(a,""),h=ac(g[a],"function"),ac(g[a],"undefined")||(g[a]=G),g.removeAttribute(a))),g=null,h}var b={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return c}(),Y={}.hasOwnProperty,Z;!ac(Y,"undefined")&&!ac(Y.call,"undefined")?Z=function(c,d){return Y.call(c,d)}:Z=function(c,d){return d in c&&ac(c.constructor.prototype[d],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var f=this;if(typeof f!="function"){throw new TypeError}var g=V.call(arguments,1),h=function(){if(this instanceof h){var b=function(){};b.prototype=f.prototype;var c=new b,d=f.apply(c,g.concat(V.call(arguments)));return Object(d)===d?d:c}return f.apply(a,g.concat(V.call(arguments)))};return h}),R.canvas=function(){var b=E.createElement("canvas");return !!b.getContext&&!!b.getContext("2d")},R.postmessage=function(){return !!C.postMessage},R.svg=function(){return !!E.createElementNS&&!!E.createElementNS(Q.svg,"svg").createSVGRect};for(var F in R){Z(R,F)&&(W=F.toLowerCase(),I[W]=R[F](),U.push((I[W]?"":"no-")+W))}return I.addTest=function(c,e){if(typeof c=="object"){for(var f in c){Z(c,f)&&I.addTest(f,c[f])}}else{c=c.toLowerCase();if(I[c]!==G){return I}e=typeof e=="function"?e():e,typeof J!="undefined"&&J&&(K.className+=" "+(e?"":"no-")+c),I[c]=e}return I},aa(""),M=O=null,function(t,u){function ag(e,f){var g=e.createElement("p"),h=e.getElementsByTagName("head")[0]||e.documentElement;return g.innerHTML="x<style>"+f+"</style>",h.insertBefore(g.lastChild,h.firstChild)}function ah(){var b=an.elements;return typeof b=="string"?b.split(" "):b}function ai(c){var d=ae[c[A]];return d||(d={},B++,c[A]=B,ae[B]=d),d}function aj(b,e,f){e||(e=u);if(af){return e.createElement(b)}f||(f=ai(e));var h;return f.cache[b]?h=f.cache[b].cloneNode():y.test(b)?h=(f.cache[b]=f.createElem(b)).cloneNode():h=f.createElem(b),h.canHaveChildren&&!x.test(b)&&!h.tagUrn?f.frag.appendChild(h):h}function ak(b,h){b||(b=u);if(af){return b.createDocumentFragment()}h=h||ai(b);var i=h.frag.cloneNode(),j=0,k=ah(),l=k.length;for(;j<l;j++){i.createElement(k[j])}return i}function al(c,d){d.cache||(d.cache={},d.createElem=c.createElement,d.createFrag=c.createDocumentFragment,d.frag=d.createFrag()),c.createElement=function(a){return an.shivMethods?aj(a,c,d):d.createElem(a)},c.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+ah().join().replace(/[\w\-]+/g,function(b){return d.createElem(b),d.frag.createElement(b),'c("'+b+'")'})+");return n}")(an,d.frag)}function am(b){b||(b=u);var d=ai(b);return an.shivCSS&&!z&&!d.hasCSS&&(d.hasCSS=!!ag(b,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),af||al(b,d),b}var v="3.7.0",w=t.html5||{},x=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,y=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,z,A="_html5shiv",B=0,ae={},af;(function(){try{var b=u.createElement("a");b.innerHTML="<xyz></xyz>",z="hidden" in b,af=b.childNodes.length==1||function(){u.createElement("a");var c=u.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()}catch(d){z=!0,af=!0}})();var an={elements:w.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:v,shivCSS:w.shivCSS!==!1,supportsUnknownElements:af,shivMethods:w.shivMethods!==!1,type:"default",shivDocument:am,createElement:aj,createDocumentFragment:ak};t.html5=an,am(u)}(this,E),I._version=H,I.hasEvent=X,K.className=K.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(J?" js "+U.join(" "):""),I}(this,this.document),function(C,E,G){function H(b){return"[object Function]"==S.call(b)}function I(b){return"string"==typeof b}function J(){}function K(b){return !b||"loaded"==b||"complete"==b||"uninitialized"==b}function L(){var b=T.shift();U=1,b?b.t?Q(function(){("c"==b.t?F.injectCss:F.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),L()):U=0}function M(b,g,h,m,n,p,q){function s(a){if(!v&&K(t.readyState)&&(x.r=v=1,!U&&L(),t.onload=t.onreadystatechange=null,a)){"img"!=b&&Q(function(){X.removeChild(t)},50);for(var c in ac[g]){ac[g].hasOwnProperty(c)&&ac[g][c].onload()}}}var q=q||F.errorTimeout,t=E.createElement(b),v=0,w=0,x={t:h,s:g,e:n,a:p,x:q};1===ac[g]&&(w=1,ac[g]=[]),"object"==b?t.data=g:(t.src=g,t.type=b),t.width=t.height="0",t.onerror=t.onload=t.onreadystatechange=function(){s.call(this,w)},T.splice(m,0,x),"img"!=b&&(w||2===ac[g]?(X.insertBefore(t,W?null:R),Q(s,q)):ac[g].push(t))}function N(e,g,h,i,j){return U=0,g=g||"j",I(e)?M("c"==g?Z:Y,e,g,this.i++,h,i,j):(T.splice(this.i++,0,e),1==T.length&&L()),this}function O(){var b=F;return b.loader={load:N,i:0},b}var P=E.documentElement,Q=C.setTimeout,R=E.getElementsByTagName("script")[0],S={}.toString,T=[],U=0,V="MozAppearance" in P.style,W=V&&!!E.createRange().compareNode,X=W?P:R.parentNode,P=C.opera&&"[object Opera]"==S.call(C.opera),P=!!E.attachEvent&&!P,Y=V?"object":P?"script":"img",Z=P?"script":Y,aa=Array.isArray||function(b){return"[object Array]"==S.call(b)},ab=[],ac={},ad={timeout:function(c,d){return d.length&&(c.timeout=d[0]),c}},D,F;F=function(c){function d(h){var h=h.split("!"),i=ab.length,j=h.pop(),l=h.length,j={url:j,origUrl:j,prefixes:h},o,p,q;for(p=0;p<l;p++){q=h[p].split("="),(o=ad[q.shift()])&&(j=o(j,q))}for(p=0;p<i;p++){j=ab[p](j)}return j}function e(b,l,o,p,q){var r=d(b),s=r.autoCallback;r.url.split(".").pop().split("?").shift(),r.bypass||(l&&(l=H(l)?l:l[b]||l[p]||l[b.split("/").pop().split("?")[0]]),r.instead?r.instead(b,l,o,p,q):(ac[r.url]?r.noexec=!0:ac[r.url]=1,o.load(r.url,r.forceCSS||!r.forceJS&&"css"==r.url.split(".").pop().split("?").shift()?"c":G,r.noexec,r.attrs,r.timeout),(H(l)||H(s))&&o.load(function(){O(),l&&l(r.origUrl,q,p),s&&s(r.origUrl,q,p),ac[r.url]=2})))}function f(g,o){function p(b,h){if(b){if(I(b)){h||(s=function(){var i=[].slice.call(arguments);t.apply(this,i),u()}),e(b,s,o,0,q)}else{if(Object(b)===b){for(w in v=function(){var a=0,i;for(i in b){b.hasOwnProperty(i)&&a++}return a}(),b){b.hasOwnProperty(w)&&(!h&&!--v&&(H(s)?s=function(){var i=[].slice.call(arguments);t.apply(this,i),u()}:s[w]=function(i){return function(){var a=[].slice.call(arguments);i&&i.apply(this,a),u()}}(t[w])),e(b[w],s,o,w,q))}}}}else{!h&&u()}}var q=!!g.test,r=g.load||g.both,s=g.callback||J,t=s,u=g.complete||J,v,w;p(q?g.yep:g.nope,!!r),r&&p(r)}var k,m,n=this.yepnope.loader;if(I(c)){e(c,0,n,0)}else{if(aa(c)){for(k=0;k<c.length;k++){m=c[k],I(m)?e(m,0,n,0):aa(m)?F(m):Object(m)===m&&f(m,n)}}else{Object(c)===c&&f(c,n)}}},F.addPrefix=function(c,d){ad[c]=d},F.addFilter=function(b){ab.push(b)},F.errorTimeout=10000,null==E.readyState&&E.addEventListener&&(E.readyState="loading",E.addEventListener("DOMContentLoaded",D=function(){E.removeEventListener("DOMContentLoaded",D,0),E.readyState="complete"},0)),C.yepnope=O(),C.yepnope.executeStack=L,C.yepnope.injectJs=function(b,f,g,h,m,n){var p=E.createElement("script"),q,r,h=h||F.errorTimeout;p.src=b;for(r in g){p.setAttribute(r,g[r])}f=n?L:f||J,p.onreadystatechange=p.onload=function(){!q&&K(p.readyState)&&(q=1,f(),p.onload=p.onreadystatechange=null)},Q(function(){q||(q=1,f(1))},h),m?p.onload():R.parentNode.insertBefore(p,R)},C.yepnope.injectCss=function(b,f,h,k,l,m){var k=E.createElement("link"),n,f=m?L:f||J;k.href=b,k.rel="stylesheet",k.type="text/css";for(n in h){k.setAttribute(n,h[n])}l||(R.parentNode.insertBefore(k,R),Q(f,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};function RGBColor(c){this.ok=false;if(c.charAt(0)=="#"){c=c.substr(1,6)}c=c.replace(/ /g,"");c=c.toLowerCase();var h={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var e in h){if(c==e){c=h[e]}}var b=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(i){return[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(i){return[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(i){return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]}}];for(var d=0;d<b.length;d++){var g=b[d].re;var f=b[d].process;var a=g.exec(c);if(a){channels=f(a);this.r=channels[0];this.g=channels[1];this.b=channels[2];this.ok=true}}this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var k=this.r.toString(16);var j=this.g.toString(16);var i=this.b.toString(16);if(k.length==1){k="0"+k}if(j.length==1){j="0"+j}if(i.length==1){i="0"+i}return"#"+k+j+i};this.getHelpXML=function(){var n=new Array();for(var o=0;o<b.length;o++){var l=b[o].example;for(var p=0;p<l.length;p++){n[n.length]=l[p]}}for(var t in h){n[n.length]=t}var u=document.createElement("ul");u.setAttribute("id","rgbcolor-examples");for(var o=0;o<n.length;o++){try{var r=document.createElement("li");var q=new RGBColor(n[o]);var m=document.createElement("div");m.style.cssText="margin: 3px; border: 1px solid black; background:"+q.toHex()+"; color:"+q.toHex();m.appendChild(document.createTextNode("test"));var s=document.createTextNode(" "+n[o]+" -> "+q.toRGB()+" -> "+q.toHex());r.appendChild(m);r.appendChild(s);u.appendChild(r)}catch(k){}}return u}};var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];var shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function stackBlurImage(f,c,i,a){var g=document.getElementById(f);var j=g.naturalWidth;var e=g.naturalHeight;var b=document.getElementById(c);b.style.width=j+"px";b.style.height=e+"px";b.width=j;b.height=e;var d=b.getContext("2d");d.clearRect(0,0,j,e);d.drawImage(g,0,0);if(isNaN(i)||i<1){return}if(a){stackBlurCanvasRGBA(c,0,0,j,e,i)}else{stackBlurCanvasRGB(c,0,0,j,e,i)}}function stackBlurCanvasRGBA(t,R,S,U,q,H){if(isNaN(H)||H<1){return}H|=0;var h=document.getElementById(t);var j=h.getContext("2d");var u;try{try{u=j.getImageData(R,S,U,q)}catch(l){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");u=j.getImageData(R,S,U,q)}catch(l){alert("Cannot access local image");throw new Error("unable to access local image data: "+l);return}}}catch(l){alert("Cannot access image");throw new Error("unable to access image data: "+l)}var C=u.data;var W,X,s,w,Z,Y,aa,G,o,g,c,F,n,f,b,E,m,d,a,D,B,A,z,J;var k=H+H+1;var T=U<<2;var V=U-1;var r=q-1;var I=H+1;var Q=I*(I+1)/2;var P=new BlurStack();var L=P;for(s=1;s<k;s++){L=L.next=new BlurStack();if(s==I){var M=L}}L.next=P;var N=null;var O=null;aa=Y=0;var v=mul_table[H];var K=shg_table[H];for(X=0;X<q;X++){E=m=d=a=G=o=g=c=0;F=I*(D=C[Y]);n=I*(B=C[Y+1]);f=I*(A=C[Y+2]);b=I*(z=C[Y+3]);G+=Q*D;o+=Q*B;g+=Q*A;c+=Q*z;L=P;for(s=0;s<I;s++){L.r=D;L.g=B;L.b=A;L.a=z;L=L.next}for(s=1;s<I;s++){w=Y+((V<s?V:s)<<2);G+=(L.r=(D=C[w]))*(J=I-s);o+=(L.g=(B=C[w+1]))*J;g+=(L.b=(A=C[w+2]))*J;c+=(L.a=(z=C[w+3]))*J;E+=D;m+=B;d+=A;a+=z;L=L.next}N=P;O=M;for(W=0;W<U;W++){C[Y+3]=z=(c*v)>>K;if(z!=0){z=255/z;C[Y]=((G*v)>>K)*z;C[Y+1]=((o*v)>>K)*z;C[Y+2]=((g*v)>>K)*z}else{C[Y]=C[Y+1]=C[Y+2]=0}G-=F;o-=n;g-=f;c-=b;F-=N.r;n-=N.g;f-=N.b;b-=N.a;w=(aa+((w=W+H+1)<V?w:V))<<2;E+=(N.r=C[w]);m+=(N.g=C[w+1]);d+=(N.b=C[w+2]);a+=(N.a=C[w+3]);G+=E;o+=m;g+=d;c+=a;N=N.next;F+=(D=O.r);n+=(B=O.g);f+=(A=O.b);b+=(z=O.a);E-=D;m-=B;d-=A;a-=z;O=O.next;Y+=4}aa+=U}for(W=0;W<U;W++){m=d=a=E=o=g=c=G=0;Y=W<<2;F=I*(D=C[Y]);n=I*(B=C[Y+1]);f=I*(A=C[Y+2]);b=I*(z=C[Y+3]);G+=Q*D;o+=Q*B;g+=Q*A;c+=Q*z;L=P;for(s=0;s<I;s++){L.r=D;L.g=B;L.b=A;L.a=z;L=L.next}Z=U;for(s=1;s<=H;s++){Y=(Z+W)<<2;G+=(L.r=(D=C[Y]))*(J=I-s);o+=(L.g=(B=C[Y+1]))*J;g+=(L.b=(A=C[Y+2]))*J;c+=(L.a=(z=C[Y+3]))*J;E+=D;m+=B;d+=A;a+=z;L=L.next;if(s<r){Z+=U}}Y=W;N=P;O=M;for(X=0;X<q;X++){w=Y<<2;C[w+3]=z=(c*v)>>K;if(z>0){z=255/z;C[w]=((G*v)>>K)*z;C[w+1]=((o*v)>>K)*z;C[w+2]=((g*v)>>K)*z}else{C[w]=C[w+1]=C[w+2]=0}G-=F;o-=n;g-=f;c-=b;F-=N.r;n-=N.g;f-=N.b;b-=N.a;w=(W+(((w=X+I)<r?w:r)*U))<<2;G+=(E+=(N.r=C[w]));o+=(m+=(N.g=C[w+1]));g+=(d+=(N.b=C[w+2]));c+=(a+=(N.a=C[w+3]));N=N.next;F+=(D=O.r);n+=(B=O.g);f+=(A=O.b);b+=(z=O.a);E-=D;m-=B;d-=A;a-=z;O=O.next;Y+=U}}j.putImageData(u,R,S)}function stackBlurCanvasRGB(q,N,O,Q,m,D){if(isNaN(D)||D<1){return}D|=0;var d=document.getElementById(q);var f=d.getContext("2d");var r;try{try{r=f.getImageData(N,O,Q,m)}catch(h){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");r=f.getImageData(N,O,Q,m)}catch(h){alert("Cannot access local image");throw new Error("unable to access local image data: "+h);return}}}catch(h){alert("Cannot access image");throw new Error("unable to access image data: "+h)}var w=r.data;var S,T,o,t,V,U,W,C,l,c,B,k,b,A,j,a,z,v,u,F;var g=D+D+1;var P=Q<<2;var R=Q-1;var n=m-1;var E=D+1;var M=E*(E+1)/2;var L=new BlurStack();var H=L;for(o=1;o<g;o++){H=H.next=new BlurStack();if(o==E){var I=H}}H.next=L;var J=null;var K=null;W=U=0;var s=mul_table[D];var G=shg_table[D];for(T=0;T<m;T++){A=j=a=C=l=c=0;B=E*(z=w[U]);k=E*(v=w[U+1]);b=E*(u=w[U+2]);C+=M*z;l+=M*v;c+=M*u;H=L;for(o=0;o<E;o++){H.r=z;H.g=v;H.b=u;H=H.next}for(o=1;o<E;o++){t=U+((R<o?R:o)<<2);C+=(H.r=(z=w[t]))*(F=E-o);l+=(H.g=(v=w[t+1]))*F;c+=(H.b=(u=w[t+2]))*F;A+=z;j+=v;a+=u;H=H.next}J=L;K=I;for(S=0;S<Q;S++){w[U]=(C*s)>>G;w[U+1]=(l*s)>>G;w[U+2]=(c*s)>>G;C-=B;l-=k;c-=b;B-=J.r;k-=J.g;b-=J.b;t=(W+((t=S+D+1)<R?t:R))<<2;A+=(J.r=w[t]);j+=(J.g=w[t+1]);a+=(J.b=w[t+2]);C+=A;l+=j;c+=a;J=J.next;B+=(z=K.r);k+=(v=K.g);b+=(u=K.b);A-=z;j-=v;a-=u;K=K.next;U+=4}W+=Q}for(S=0;S<Q;S++){j=a=A=l=c=C=0;U=S<<2;B=E*(z=w[U]);k=E*(v=w[U+1]);b=E*(u=w[U+2]);C+=M*z;l+=M*v;c+=M*u;H=L;for(o=0;o<E;o++){H.r=z;H.g=v;H.b=u;H=H.next}V=Q;for(o=1;o<=D;o++){U=(V+S)<<2;C+=(H.r=(z=w[U]))*(F=E-o);l+=(H.g=(v=w[U+1]))*F;c+=(H.b=(u=w[U+2]))*F;A+=z;j+=v;a+=u;H=H.next;if(o<n){V+=Q}}U=S;J=L;K=I;for(T=0;T<m;T++){t=U<<2;w[t]=(C*s)>>G;w[t+1]=(l*s)>>G;w[t+2]=(c*s)>>G;C-=B;l-=k;c-=b;B-=J.r;k-=J.g;b-=J.b;t=(S+(((t=T+E)<n?t:n)*Q))<<2;C+=(A+=(J.r=w[t]));l+=(j+=(J.g=w[t+1]));c+=(a+=(J.b=w[t+2]));J=J.next;B+=(z=K.r);k+=(v=K.g);b+=(u=K.b);A-=z;j-=v;a-=u;K=K.next;U+=Q}}f.putImageData(r,N,O)}function BlurStack(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null};